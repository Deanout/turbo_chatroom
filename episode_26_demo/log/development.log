AppearanceChannel#online
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:35:in `broadcast_new_status'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:35:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:35:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:35:in `broadcast_new_status'
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:35:in `broadcast_new_status'
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:35:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
AppearanceChannel#online
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:35:in `broadcast_new_status'
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:35:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:35:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Started POST "/rooms/1/messages" for ::1 at 2022-07-15 03:27:30 -0400
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Processing by MessagesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "message"=>{"attachments"=>[""], "body"=>"/dnd"}, "commit"=>"Send", "room_id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `set_current_user'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:62:in `dnd_manager'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:62:in `dnd_manager'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:62:in `dnd_manager'
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 98)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-danger\" id=\"user_2\"></div>\n</template></turbo-stream>"
No template found for MessagesController#create, rendering head :no_content
Completed 204 No Content in 61ms (ActiveRecord: 11.2ms | Allocations: 18450)


Started GET "/cable" for ::1 at 2022-07-15 03:27:41 -0400
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-15 03:27:41 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:12:in `find_verified_user'
Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMg)
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from user_status
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from users
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from rooms
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from Z2lkOi8vdHVyYm9jaGF0L1Jvb20vMQ
Started GET "/cable" for ::1 at 2022-07-15 03:27:43 -0400
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-15 03:27:44 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:12:in `find_verified_user'
Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMg)
AppearanceChannel is transmitting the subscription confirmation
AppearanceChannel is streaming from appearance_channel
AppearanceChannel#online
AppearanceChannel#online
AppearanceChannel#online
AppearanceChannel#online
AppearanceChannel#online
AppearanceChannel#online
AppearanceChannel#online
AppearanceChannel#online
AppearanceChannel#online
AppearanceChannel#online
AppearanceChannel#online
AppearanceChannel#online
AppearanceChannel#online
AppearanceChannel#online
AppearanceChannel#online
AppearanceChannel#online
AppearanceChannel#online
Started POST "/rooms/1/messages" for ::1 at 2022-07-15 03:28:35 -0400
Processing by MessagesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "message"=>{"attachments"=>[""], "body"=>"/dnd"}, "commit"=>"Send", "room_id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `set_current_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:62:in `dnd_manager'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:62:in `dnd_manager'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:62:in `dnd_manager'
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.3ms | Allocations: 98)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-danger\" id=\"user_2\"></div>\n</template></turbo-stream>"
No template found for MessagesController#create, rendering head :no_content
Completed 204 No Content in 43ms (ActiveRecord: 9.9ms | Allocations: 18356)


Started GET "/rooms/1" for ::1 at 2022-07-15 03:28:39 -0400
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `set_current_user'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/rooms_controller.rb:68:in `set_status'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:68:in `set_status'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "status" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2022-07-15 07:28:40.009271"], ["status", 2], ["id", 2]]
  â†³ app/controllers/rooms_controller.rb:68:in `set_status'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/rooms_controller.rb:68:in `set_status'
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 73)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
  [1m[36mRoom Load (0.4ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:16:in `show'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/rooms_controller.rb:17:in `show'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:17:in `show'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/rooms_controller.rb:17:in `show'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 69)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
  [1m[36mMessage Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."room_id" = $1[0m  [["room_id", 1]]
  â†³ app/controllers/rooms_controller.rb:26:in `show'
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2 OFFSET $3[0m  [["room_id", 1], ["LIMIT", 10], ["OFFSET", 0]]
  â†³ app/controllers/rooms_controller.rb:27:in `show'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/rooms_controller.rb:27:in `show'
  [1m[36mNotification Update All (0.8ms)[0m  [1m[33mUPDATE "notifications" SET "read_at" = $1 WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/1"},"_aj_symbol_keys":["room"]}') AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["read_at", "2022-07-15 07:28:40.096873"], ["recipient_type", "User"], ["recipient_id", 2]]
  â†³ app/controllers/rooms_controller.rb:73:in `set_notifications_to_read'
  Rendering layout layouts/application.html.erb
  Rendering rooms/index.html.erb within layouts/application
  Rendered shared/_message_error.html.erb (Duration: 0.1ms | Allocations: 22)
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.3ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 59)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1[0m  [["id", 2]]
  â†³ app/views/users/_users.html.erb:1
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 ORDER BY "rooms"."id" ASC LIMIT $2[0m  [["name", "private_1_2"], ["LIMIT", 1]]
  â†³ app/views/users/_users.html.erb:4
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 3], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mCACHE Message Load (0.0ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 3], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mParticipant Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "participants" WHERE "participants"."room_id" = $1 AND "participants"."user_id" = $2 LIMIT $3[0m  [["room_id", 1], ["user_id", 1], ["LIMIT", 1]]
  â†³ app/models/room.rb:25:in `participant?'
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.4ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 1], ["variation_digest", "2LUGSpqeAxE2FTbZR5KExFsl26Y="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 53)
  Rendered users/_last_message.html.erb (Duration: 0.0ms | Allocations: 16)
  Rendered users/_user.html.erb (Duration: 19.7ms | Allocations: 7113)
  Rendered users/_users.html.erb (Duration: 28.4ms | Allocations: 10205)
  Rendered layouts/_new_room_form.html.erb (Duration: 0.1ms | Allocations: 28)
  Rendered rooms/_search_results.html.erb (Duration: 0.0ms | Allocations: 16)
  Rendered rooms/_search_form.html.erb (Duration: 1.0ms | Allocations: 836)
  [1m[36mRoom Load (0.7ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 ORDER BY last_message_at DESC[0m  [["user_id", 2]]
  â†³ app/views/rooms/_rooms.html.erb:1
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 1], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mNotification Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "notifications" WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/1"},"_aj_symbol_keys":["room"]}') AND "notifications"."type" = $1 AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["type", "MessageNotification"], ["recipient_type", "User"], ["recipient_id", 2]]
  â†³ app/views/rooms/_notifications.html.erb:4
  Rendered rooms/_notifications.html.erb (Duration: 3.9ms | Allocations: 1348)
  [1m[36mRoom Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 AND "rooms"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:39:in `has_joined_room'
  Rendered rooms/_joinable_link.html.erb (Duration: 3.6ms | Allocations: 984)
  Rendered rooms/_last_message.html.erb (Duration: 0.6ms | Allocations: 180)
  Rendered rooms/_room.html.erb (Duration: 10.3ms | Allocations: 2884)
  Rendered rooms/_rooms.html.erb (Duration: 17.6ms | Allocations: 5449)
  Rendered messages/_pager.html.erb (Duration: 0.7ms | Allocations: 842)
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.5ms | Allocations: 1094)
  [1m[36mActiveStorage::Attachment Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 221], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 3.4ms | Allocations: 1779)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 2.2ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 222], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 3.1ms | Allocations: 1042)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.8ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 223], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.8ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 2.8ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 224], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 3.0ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.8ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 225], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.1ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.2ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 226], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 1.7ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.2ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 227], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 1.7ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.4ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 228], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.1ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.2ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 229], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.5ms | Allocations: 1112)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.5ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 230], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.6ms | Allocations: 1040)
  Rendered collection of messages/_message.html.erb [10 times] (Duration: 73.8ms | Allocations: 37456)
  Rendered layouts/_new_message_form.html.erb (Duration: 1.3ms | Allocations: 464)
  Rendered rooms/index.html.erb within layouts/application (Duration: 264.2ms | Allocations: 71123)
  Rendered layouts/_navbar.html.erb (Duration: 0.4ms | Allocations: 16)
  Rendered layout layouts/application.html.erb (Duration: 301.6ms | Allocations: 104170)
Completed 200 OK in 425ms (Views: 277.6ms | ActiveRecord: 49.3ms | Allocations: 130628)


Started GET "/rails/active_storage/representations/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDUT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--10fd4699f19e65e41e57dc0c4d8052c5b6224e13/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdCem9MWm05eWJXRjBTU0lJY0c1bkJqb0dSVlE2RkhKbGMybDZaVjkwYjE5c2FXMXBkRnNIYVRkcE53PT0iLCJleHAiOm51bGwsInB1ciI6InZhcmlhdGlvbiJ9fQ==--10cd12dda4766ef711b13e56db032a47fae0911d/Admin%20Part%207.png" for ::1 at 2022-07-15 03:28:40 -0400
Processing by ActiveStorage::Representations::RedirectController#show as PNG
  Parameters: {"signed_blob_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDUT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--10fd4699f19e65e41e57dc0c4d8052c5b6224e13", "variation_key"=>"[FILTERED]", "filename"=>"Admin Part 7"}
Started GET "/rails/active_storage/representations/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--758538ea0401eddfb27db21a61b40545e294fba7/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdCem9MWm05eWJXRjBTU0lJYW5CbkJqb0dSVlE2RkhKbGMybDZaVjkwYjE5c2FXMXBkRnNIYVRkcE53PT0iLCJleHAiOm51bGwsInB1ciI6InZhcmlhdGlvbiJ9fQ==--7c67a13b9fd72c703fa320aa1af6cdefe07ca623/default_profile.jpg" for ::1 at 2022-07-15 03:28:40 -0400
  [1m[36mActiveStorage::Blob Load (0.9ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mActiveStorage::VariantRecord Load (1.1ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (1.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.8ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
[36m  Disk Storage (1.0ms) [0m[34mGenerated URL for file at key: f2uvf9cvgwkzqlsbq7y0jjjzqddj (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhaakoxZG1ZNVkzWm5kMnQ2Y1d4elluRTNlVEJxYW1wNmNXUmthZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVDJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SWtGa2JXbHVJRkJoY25RZ055NXdibWNpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjBGa2JXbHVKVEl3VUdGeWRDVXlNRGN1Y0c1bkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSU9hVzFoWjJVdmNHNW5CanNHVkRvUmMyVnlkbWxqWlY5dVlXMWxPZ3BzYjJOaGJBPT0iLCJleHAiOiIyMDIyLTA3LTE1VDA3OjMzOjQwLjU3MloiLCJwdXIiOiJibG9iX2tleSJ9fQ==--14df619c426553a4d4e46049023e6b4d80ab111b/Admin%20Part%207.png)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhaakoxZG1ZNVkzWm5kMnQ2Y1d4elluRTNlVEJxYW1wNmNXUmthZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVDJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SWtGa2JXbHVJRkJoY25RZ055NXdibWNpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjBGa2JXbHVKVEl3VUdGeWRDVXlNRGN1Y0c1bkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSU9hVzFoWjJVdmNHNW5CanNHVkRvUmMyVnlkbWxqWlY5dVlXMWxPZ3BzYjJOaGJBPT0iLCJleHAiOiIyMDIyLTA3LTE1VDA3OjMzOjQwLjU3MloiLCJwdXIiOiJibG9iX2tleSJ9fQ==--14df619c426553a4d4e46049023e6b4d80ab111b/Admin%20Part%207.png
Completed 302 Found in 27ms (ActiveRecord: 4.1ms | Allocations: 6221)


Processing by ActiveStorage::Representations::RedirectController#show as JPEG
  Parameters: {"signed_blob_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--758538ea0401eddfb27db21a61b40545e294fba7", "variation_key"=>"[FILTERED]", "filename"=>"default_profile"}
  [1m[36mActiveStorage::Blob Load (1.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::VariantRecord Load (1.1ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 1], ["variation_digest", "2LUGSpqeAxE2FTbZR5KExFsl26Y="], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (1.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[36m  Disk Storage (0.5ms) [0m[34mGenerated URL for file at key: 5tte9hfofzr43192lt8uzcg4pzxo (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhOWFIwWlRsb1ptOW1lbkkwTXpFNU1teDBPSFY2WTJjMGNIcDRid1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0wNy0xNVQwNzozMzo0MC42MTBaIiwicHVyIjoiYmxvYl9rZXkifX0=--0da82b0ad4db26730aca053c5974c36cd1327bb9/default_profile.jpg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhOWFIwWlRsb1ptOW1lbkkwTXpFNU1teDBPSFY2WTJjMGNIcDRid1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0wNy0xNVQwNzozMzo0MC42MTBaIiwicHVyIjoiYmxvYl9rZXkifX0=--0da82b0ad4db26730aca053c5974c36cd1327bb9/default_profile.jpg
Completed 302 Found in 24ms (ActiveRecord: 3.8ms | Allocations: 5979)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhaakoxZG1ZNVkzWm5kMnQ2Y1d4elluRTNlVEJxYW1wNmNXUmthZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVDJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SWtGa2JXbHVJRkJoY25RZ055NXdibWNpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjBGa2JXbHVKVEl3VUdGeWRDVXlNRGN1Y0c1bkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSU9hVzFoWjJVdmNHNW5CanNHVkRvUmMyVnlkbWxqWlY5dVlXMWxPZ3BzYjJOaGJBPT0iLCJleHAiOiIyMDIyLTA3LTE1VDA3OjMzOjQwLjU3MloiLCJwdXIiOiJibG9iX2tleSJ9fQ==--14df619c426553a4d4e46049023e6b4d80ab111b/Admin%20Part%207.png" for ::1 at 2022-07-15 03:28:40 -0400
Processing by ActiveStorage::DiskController#show as PNG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"Admin Part 7"}
Completed 200 OK in 6ms (ActiveRecord: 0.0ms | Allocations: 827)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhOWFIwWlRsb1ptOW1lbkkwTXpFNU1teDBPSFY2WTJjMGNIcDRid1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0wNy0xNVQwNzozMzo0MC42MTBaIiwicHVyIjoiYmxvYl9rZXkifX0=--0da82b0ad4db26730aca053c5974c36cd1327bb9/default_profile.jpg" for ::1 at 2022-07-15 03:28:40 -0400
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"default_profile"}
Completed 200 OK in 1ms (ActiveRecord: 0.0ms | Allocations: 199)


Started GET "/cable" for ::1 at 2022-07-15 03:28:40 -0400
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-15 03:28:40 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:12:in `find_verified_user'
Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMg)
AppearanceChannel is transmitting the subscription confirmation
AppearanceChannel is streaming from appearance_channel
AppearanceChannel#online
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
Started GET "/cable" for ::1 at 2022-07-15 03:28:40 -0400
  [1m[36mActiveStorage::Attachment Load (0.9ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.5ms | Allocations: 74)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-15 03:28:40 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:12:in `find_verified_user'
Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMg)
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from user_status
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from users
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from rooms
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from Z2lkOi8vdHVyYm9jaGF0L1Jvb20vMQ
AppearanceChannel#online
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 42)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
AppearanceChannel#online
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  [1m[36mUser Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
Started POST "/rooms/1/messages" for ::1 at 2022-07-15 03:28:47 -0400
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 54)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Processing by MessagesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "message"=>{"attachments"=>[""], "body"=>"/dnd"}, "commit"=>"Send", "room_id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `set_current_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:62:in `dnd_manager'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:62:in `dnd_manager'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "status" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2022-07-15 07:28:47.066751"], ["status", 3], ["id", 2]]
  â†³ app/controllers/messages_controller.rb:62:in `dnd_manager'
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:62:in `dnd_manager'
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 49)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-danger\" id=\"user_2\"></div>\n</template></turbo-stream>"
No template found for MessagesController#create, rendering head :no_content
Completed 204 No Content in 17ms (ActiveRecord: 3.7ms | Allocations: 5887)


Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-danger\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 41)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.3ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Started GET "/rooms/1" for ::1 at 2022-07-15 03:29:10 -0400
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `set_current_user'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/rooms_controller.rb:68:in `set_status'
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:68:in `set_status'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "status" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2022-07-15 07:29:10.624029"], ["status", 2], ["id", 2]]
  â†³ app/controllers/rooms_controller.rb:68:in `set_status'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/rooms_controller.rb:68:in `set_status'
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 98)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:16:in `show'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/rooms_controller.rb:17:in `show'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:17:in `show'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/rooms_controller.rb:17:in `show'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 69)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
  [1m[36mMessage Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."room_id" = $1[0m  [["room_id", 1]]
  â†³ app/controllers/rooms_controller.rb:26:in `show'
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2 OFFSET $3[0m  [["room_id", 1], ["LIMIT", 10], ["OFFSET", 0]]
  â†³ app/controllers/rooms_controller.rb:27:in `show'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/rooms_controller.rb:27:in `show'
  [1m[36mNotification Update All (0.5ms)[0m  [1m[33mUPDATE "notifications" SET "read_at" = $1 WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/1"},"_aj_symbol_keys":["room"]}') AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["read_at", "2022-07-15 07:29:10.697654"], ["recipient_type", "User"], ["recipient_id", 2]]
  â†³ app/controllers/rooms_controller.rb:73:in `set_notifications_to_read'
  Rendering layout layouts/application.html.erb
  Rendering rooms/index.html.erb within layouts/application
  Rendered shared/_message_error.html.erb (Duration: 0.0ms | Allocations: 22)
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.4ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 59)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1[0m  [["id", 2]]
  â†³ app/views/users/_users.html.erb:1
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 ORDER BY "rooms"."id" ASC LIMIT $2[0m  [["name", "private_1_2"], ["LIMIT", 1]]
  â†³ app/views/users/_users.html.erb:4
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 3], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mCACHE Message Load (0.0ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 3], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mParticipant Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "participants" WHERE "participants"."room_id" = $1 AND "participants"."user_id" = $2 LIMIT $3[0m  [["room_id", 1], ["user_id", 1], ["LIMIT", 1]]
  â†³ app/models/room.rb:25:in `participant?'
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::Blob Load (0.7ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.4ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 1], ["variation_digest", "2LUGSpqeAxE2FTbZR5KExFsl26Y="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 53)
  Rendered users/_last_message.html.erb (Duration: 0.0ms | Allocations: 16)
  Rendered users/_user.html.erb (Duration: 18.9ms | Allocations: 7111)
  Rendered users/_users.html.erb (Duration: 28.1ms | Allocations: 10212)
  Rendered layouts/_new_room_form.html.erb (Duration: 0.1ms | Allocations: 28)
  Rendered rooms/_search_results.html.erb (Duration: 0.0ms | Allocations: 16)
  Rendered rooms/_search_form.html.erb (Duration: 0.9ms | Allocations: 836)
  [1m[36mRoom Load (0.6ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 ORDER BY last_message_at DESC[0m  [["user_id", 2]]
  â†³ app/views/rooms/_rooms.html.erb:1
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 1], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mNotification Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "notifications" WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/1"},"_aj_symbol_keys":["room"]}') AND "notifications"."type" = $1 AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["type", "MessageNotification"], ["recipient_type", "User"], ["recipient_id", 2]]
  â†³ app/views/rooms/_notifications.html.erb:4
  Rendered rooms/_notifications.html.erb (Duration: 3.3ms | Allocations: 1348)
  [1m[36mRoom Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 AND "rooms"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:39:in `has_joined_room'
  Rendered rooms/_joinable_link.html.erb (Duration: 3.5ms | Allocations: 984)
  Rendered rooms/_last_message.html.erb (Duration: 0.4ms | Allocations: 182)
  Rendered rooms/_room.html.erb (Duration: 8.7ms | Allocations: 2886)
  Rendered rooms/_rooms.html.erb (Duration: 16.1ms | Allocations: 5451)
  Rendered messages/_pager.html.erb (Duration: 0.6ms | Allocations: 848)
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 2.4ms | Allocations: 1094)
  [1m[36mActiveStorage::Attachment Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 221], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 7.0ms | Allocations: 1779)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.6ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 222], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.5ms | Allocations: 1042)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.2ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 223], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.6ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 2.8ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 224], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.5ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.3ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 225], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.2ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.8ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 226], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 3.1ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.6ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 227], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.1ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.5ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 228], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.5ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.9ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 229], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.4ms | Allocations: 1112)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.3ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 230], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.1ms | Allocations: 1040)
  Rendered collection of messages/_message.html.erb [10 times] (Duration: 85.1ms | Allocations: 38337)
  Rendered layouts/_new_message_form.html.erb (Duration: 0.8ms | Allocations: 464)
  Rendered rooms/index.html.erb within layouts/application (Duration: 169.6ms | Allocations: 72008)
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 16)
  Rendered layout layouts/application.html.erb (Duration: 194.9ms | Allocations: 105054)
Completed 200 OK in 297ms (Views: 177.3ms | ActiveRecord: 42.5ms | Allocations: 144054)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhaakoxZG1ZNVkzWm5kMnQ2Y1d4elluRTNlVEJxYW1wNmNXUmthZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVDJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SWtGa2JXbHVJRkJoY25RZ055NXdibWNpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjBGa2JXbHVKVEl3VUdGeWRDVXlNRGN1Y0c1bkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSU9hVzFoWjJVdmNHNW5CanNHVkRvUmMyVnlkbWxqWlY5dVlXMWxPZ3BzYjJOaGJBPT0iLCJleHAiOiIyMDIyLTA3LTE1VDA3OjMzOjQwLjU3MloiLCJwdXIiOiJibG9iX2tleSJ9fQ==--14df619c426553a4d4e46049023e6b4d80ab111b/Admin%20Part%207.png" for ::1 at 2022-07-15 03:29:11 -0400
Processing by ActiveStorage::DiskController#show as PNG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"Admin Part 7"}
Completed 304 Not Modified in 3ms (ActiveRecord: 0.0ms | Allocations: 520)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhOWFIwWlRsb1ptOW1lbkkwTXpFNU1teDBPSFY2WTJjMGNIcDRid1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0wNy0xNVQwNzozMzo0MC42MTBaIiwicHVyIjoiYmxvYl9rZXkifX0=--0da82b0ad4db26730aca053c5974c36cd1327bb9/default_profile.jpg" for ::1 at 2022-07-15 03:29:11 -0400
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"default_profile"}
Completed 304 Not Modified in 1ms (ActiveRecord: 0.0ms | Allocations: 214)


Started GET "/cable" for ::1 at 2022-07-15 03:29:11 -0400
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-15 03:29:11 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:12:in `find_verified_user'
Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMg)
AppearanceChannel is transmitting the subscription confirmation
AppearanceChannel is streaming from appearance_channel
Started GET "/cable" for ::1 at 2022-07-15 03:29:11 -0400
AppearanceChannel#online
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-15 03:29:11 -0400
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mBEGIN[0m
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 62)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:12:in `find_verified_user'
Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMg)
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from user_status
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from users
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from rooms
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from Z2lkOi8vdHVyYm9jaGF0L1Jvb20vMQ
AppearanceChannel#online
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 40)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mBEGIN[0m
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 40)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Started POST "/rooms/1/messages" for ::1 at 2022-07-15 03:29:14 -0400
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Processing by MessagesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "message"=>{"attachments"=>[""], "body"=>"/dnd"}, "commit"=>"Send", "room_id"=>"1"}
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `set_current_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:62:in `dnd_manager'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:62:in `dnd_manager'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "status" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2022-07-15 07:29:14.912251"], ["status", 3], ["id", 2]]
  â†³ app/controllers/messages_controller.rb:62:in `dnd_manager'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:62:in `dnd_manager'
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 73)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-danger\" id=\"user_2\"></div>\n</template></turbo-stream>"
No template found for MessagesController#create, rendering head :no_content
Completed 204 No Content in 21ms (ActiveRecord: 3.8ms | Allocations: 6762)


Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-danger\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 41)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[35mBEGIN[0m
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Started POST "/rooms/1/messages" for ::1 at 2022-07-15 03:29:58 -0400
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Processing by MessagesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "message"=>{"attachments"=>[""], "body"=>"/dnd"}, "commit"=>"Send", "room_id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `set_current_user'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:62:in `dnd_manager'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:62:in `dnd_manager'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:62:in `dnd_manager'
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 53)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-danger\" id=\"user_2\"></div>\n</template></turbo-stream>"
No template found for MessagesController#create, rendering head :no_content
Completed 204 No Content in 14ms (ActiveRecord: 2.0ms | Allocations: 5126)


Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-danger\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 41)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Started GET "/rooms/1" for ::1 at 2022-07-15 03:30:32 -0400
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `set_current_user'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/rooms_controller.rb:68:in `set_status'
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:68:in `set_status'
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "status" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2022-07-15 07:30:32.444138"], ["status", 2], ["id", 2]]
  â†³ app/controllers/rooms_controller.rb:68:in `set_status'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/rooms_controller.rb:68:in `set_status'
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.3ms | Allocations: 53)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
  [1m[36mRoom Load (0.9ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:16:in `show'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/rooms_controller.rb:17:in `show'
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:17:in `show'
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/rooms_controller.rb:17:in `show'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 49)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
  [1m[36mMessage Count (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."room_id" = $1[0m  [["room_id", 1]]
  â†³ app/controllers/rooms_controller.rb:26:in `show'
  [1m[36mMessage Load (1.1ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2 OFFSET $3[0m  [["room_id", 1], ["LIMIT", 10], ["OFFSET", 0]]
  â†³ app/controllers/rooms_controller.rb:27:in `show'
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/rooms_controller.rb:27:in `show'
  [1m[36mNotification Update All (0.6ms)[0m  [1m[33mUPDATE "notifications" SET "read_at" = $1 WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/1"},"_aj_symbol_keys":["room"]}') AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["read_at", "2022-07-15 07:30:32.477053"], ["recipient_type", "User"], ["recipient_id", 2]]
  â†³ app/controllers/rooms_controller.rb:73:in `set_notifications_to_read'
  Rendering layout layouts/application.html.erb
  Rendering rooms/index.html.erb within layouts/application
  Rendered shared/_message_error.html.erb (Duration: 0.1ms | Allocations: 16)
  [1m[36mActiveStorage::Blob Load (0.8ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.4ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 47)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1[0m  [["id", 2]]
  â†³ app/views/users/_users.html.erb:1
  [1m[36mRoom Load (0.4ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 ORDER BY "rooms"."id" ASC LIMIT $2[0m  [["name", "private_1_2"], ["LIMIT", 1]]
  â†³ app/views/users/_users.html.erb:4
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 3], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mCACHE Message Load (0.0ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 3], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mParticipant Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "participants" WHERE "participants"."room_id" = $1 AND "participants"."user_id" = $2 LIMIT $3[0m  [["room_id", 1], ["user_id", 1], ["LIMIT", 1]]
  â†³ app/models/room.rb:25:in `participant?'
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.5ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 1], ["variation_digest", "2LUGSpqeAxE2FTbZR5KExFsl26Y="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 47)
  Rendered users/_last_message.html.erb (Duration: 0.0ms | Allocations: 15)
  Rendered users/_user.html.erb (Duration: 10.9ms | Allocations: 3959)
  Rendered users/_users.html.erb (Duration: 19.0ms | Allocations: 6911)
  Rendered layouts/_new_room_form.html.erb (Duration: 0.0ms | Allocations: 20)
  Rendered rooms/_search_results.html.erb (Duration: 0.0ms | Allocations: 15)
  Rendered rooms/_search_form.html.erb (Duration: 0.9ms | Allocations: 831)
  [1m[36mRoom Load (0.6ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 ORDER BY last_message_at DESC[0m  [["user_id", 2]]
  â†³ app/views/rooms/_rooms.html.erb:1
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 1], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mNotification Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "notifications" WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/1"},"_aj_symbol_keys":["room"]}') AND "notifications"."type" = $1 AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["type", "MessageNotification"], ["recipient_type", "User"], ["recipient_id", 2]]
  â†³ app/views/rooms/_notifications.html.erb:4
  Rendered rooms/_notifications.html.erb (Duration: 4.0ms | Allocations: 885)
  [1m[36mRoom Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 AND "rooms"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:39:in `has_joined_room'
  Rendered rooms/_joinable_link.html.erb (Duration: 2.4ms | Allocations: 840)
  Rendered rooms/_last_message.html.erb (Duration: 0.4ms | Allocations: 138)
  Rendered rooms/_room.html.erb (Duration: 7.7ms | Allocations: 2201)
  Rendered rooms/_rooms.html.erb (Duration: 15.9ms | Allocations: 4688)
  Rendered messages/_pager.html.erb (Duration: 0.2ms | Allocations: 120)
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 2.2ms | Allocations: 1081)
  [1m[36mActiveStorage::Attachment Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 221], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.9ms | Allocations: 1034)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.9ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 222], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 3.0ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 2.2ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 223], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 3.0ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.6ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 224], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.7ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.3ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 225], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.9ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.5ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 226], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.5ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.5ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 227], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.7ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.5ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 228], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.6ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.4ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 229], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.4ms | Allocations: 1112)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.5ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 230], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.2ms | Allocations: 1040)
  Rendered collection of messages/_message.html.erb [10 times] (Duration: 79.9ms | Allocations: 36590)
  Rendered layouts/_new_message_form.html.erb (Duration: 1.0ms | Allocations: 415)
  Rendered rooms/index.html.erb within layouts/application (Duration: 127.4ms | Allocations: 53064)
  Rendered layouts/_navbar.html.erb (Duration: 0.0ms | Allocations: 15)
  Rendered layout layouts/application.html.erb (Duration: 130.4ms | Allocations: 55315)
Completed 200 OK in 176ms (Views: 117.4ms | ActiveRecord: 24.3ms | Allocations: 69243)


Finished "/cable/" [WebSocket] for ::1 at 2022-07-15 03:30:32 -0400
AppearanceChannel stopped streaming from appearance_channel
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
Finished "/cable/" [WebSocket] for ::1 at 2022-07-15 03:30:32 -0400
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
Turbo::StreamsChannel stopped streaming from user_status
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
Turbo::StreamsChannel stopped streaming from users
Turbo::StreamsChannel stopped streaming from rooms
  [1m[36mUser Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "status" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["status", 0], ["updated_at", "2022-07-15 07:30:32.630896"], ["id", 2]]
Turbo::StreamsChannel stopped streaming from Z2lkOi8vdHVyYm9jaGF0L1Jvb20vMQ
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 41)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_2\"></div>\n</template></turbo-stream>"
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhOWFIwWlRsb1ptOW1lbkkwTXpFNU1teDBPSFY2WTJjMGNIcDRid1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0wNy0xNVQwNzozMzo0MC42MTBaIiwicHVyIjoiYmxvYl9rZXkifX0=--0da82b0ad4db26730aca053c5974c36cd1327bb9/default_profile.jpg" for ::1 at 2022-07-15 03:30:32 -0400
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhaakoxZG1ZNVkzWm5kMnQ2Y1d4elluRTNlVEJxYW1wNmNXUmthZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVDJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SWtGa2JXbHVJRkJoY25RZ055NXdibWNpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjBGa2JXbHVKVEl3VUdGeWRDVXlNRGN1Y0c1bkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSU9hVzFoWjJVdmNHNW5CanNHVkRvUmMyVnlkbWxqWlY5dVlXMWxPZ3BzYjJOaGJBPT0iLCJleHAiOiIyMDIyLTA3LTE1VDA3OjMzOjQwLjU3MloiLCJwdXIiOiJibG9iX2tleSJ9fQ==--14df619c426553a4d4e46049023e6b4d80ab111b/Admin%20Part%207.png" for ::1 at 2022-07-15 03:30:32 -0400
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"default_profile"}
Completed 304 Not Modified in 2ms (ActiveRecord: 0.0ms | Allocations: 315)


Processing by ActiveStorage::DiskController#show as PNG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"Admin Part 7"}
Completed 304 Not Modified in 1ms (ActiveRecord: 0.0ms | Allocations: 210)


Started GET "/cable" for ::1 at 2022-07-15 03:30:32 -0400
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-15 03:30:33 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:12:in `find_verified_user'
Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMg)
Started GET "/cable" for ::1 at 2022-07-15 03:30:33 -0400
AppearanceChannel is transmitting the subscription confirmation
AppearanceChannel is streaming from appearance_channel
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-15 03:30:33 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  [1m[36mUser Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  [1m[36mUser Update (1.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "status" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2022-07-15 07:30:33.155234"], ["status", 2], ["id", 2]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  â†³ app/channels/application_cable/connection.rb:12:in `find_verified_user'
Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMg)
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from user_status
  [1m[36mActiveStorage::Attachment Load (1.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from users
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 81)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from Z2lkOi8vdHVyYm9jaGF0L1Jvb20vMQ
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from rooms
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 40)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 39)
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
Started POST "/rooms/1/messages" for ::1 at 2022-07-15 03:30:34 -0400
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Processing by MessagesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "message"=>{"attachments"=>[""], "body"=>"/dnd"}, "commit"=>"Send", "room_id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `set_current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:62:in `dnd_manager'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:62:in `dnd_manager'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "status" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2022-07-15 07:30:34.954226"], ["status", 3], ["id", 2]]
  â†³ app/controllers/messages_controller.rb:62:in `dnd_manager'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:62:in `dnd_manager'
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 73)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-danger\" id=\"user_2\"></div>\n</template></turbo-stream>"
No template found for MessagesController#create, rendering head :no_content
Completed 204 No Content in 31ms (ActiveRecord: 7.3ms | Allocations: 10502)


Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-danger\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 41)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:37:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Started GET "/rooms/1" for ::1 at 2022-07-15 03:31:54 -0400
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `set_current_user'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/rooms_controller.rb:68:in `set_status'
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:68:in `set_status'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "status" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2022-07-15 07:31:54.386538"], ["status", 2], ["id", 2]]
  â†³ app/controllers/rooms_controller.rb:68:in `set_status'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/rooms_controller.rb:68:in `set_status'
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 98)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
  [1m[36mRoom Load (0.4ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:16:in `show'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/rooms_controller.rb:17:in `show'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:17:in `show'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/rooms_controller.rb:17:in `show'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 69)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
  [1m[36mMessage Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."room_id" = $1[0m  [["room_id", 1]]
  â†³ app/controllers/rooms_controller.rb:26:in `show'
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2 OFFSET $3[0m  [["room_id", 1], ["LIMIT", 10], ["OFFSET", 0]]
  â†³ app/controllers/rooms_controller.rb:27:in `show'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/rooms_controller.rb:27:in `show'
  [1m[36mNotification Update All (0.5ms)[0m  [1m[33mUPDATE "notifications" SET "read_at" = $1 WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/1"},"_aj_symbol_keys":["room"]}') AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["read_at", "2022-07-15 07:31:54.466605"], ["recipient_type", "User"], ["recipient_id", 2]]
  â†³ app/controllers/rooms_controller.rb:73:in `set_notifications_to_read'
  Rendering layout layouts/application.html.erb
  Rendering rooms/index.html.erb within layouts/application
  Rendered shared/_message_error.html.erb (Duration: 0.0ms | Allocations: 22)
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.4ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 59)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1[0m  [["id", 2]]
  â†³ app/views/users/_users.html.erb:1
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 ORDER BY "rooms"."id" ASC LIMIT $2[0m  [["name", "private_1_2"], ["LIMIT", 1]]
  â†³ app/views/users/_users.html.erb:4
  [1m[36mMessage Load (0.6ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 3], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mCACHE Message Load (0.0ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 3], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mParticipant Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "participants" WHERE "participants"."room_id" = $1 AND "participants"."user_id" = $2 LIMIT $3[0m  [["room_id", 1], ["user_id", 1], ["LIMIT", 1]]
  â†³ app/models/room.rb:25:in `participant?'
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.4ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 1], ["variation_digest", "2LUGSpqeAxE2FTbZR5KExFsl26Y="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 53)
  Rendered users/_last_message.html.erb (Duration: 0.0ms | Allocations: 16)
  Rendered users/_user.html.erb (Duration: 19.4ms | Allocations: 7111)
  Rendered users/_users.html.erb (Duration: 26.8ms | Allocations: 10203)
  Rendered layouts/_new_room_form.html.erb (Duration: 0.1ms | Allocations: 28)
  Rendered rooms/_search_results.html.erb (Duration: 0.4ms | Allocations: 16)
  Rendered rooms/_search_form.html.erb (Duration: 1.6ms | Allocations: 836)
  [1m[36mRoom Load (0.7ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 ORDER BY last_message_at DESC[0m  [["user_id", 2]]
  â†³ app/views/rooms/_rooms.html.erb:1
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 1], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mNotification Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "notifications" WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/1"},"_aj_symbol_keys":["room"]}') AND "notifications"."type" = $1 AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["type", "MessageNotification"], ["recipient_type", "User"], ["recipient_id", 2]]
  â†³ app/views/rooms/_notifications.html.erb:4
  Rendered rooms/_notifications.html.erb (Duration: 3.9ms | Allocations: 1348)
  [1m[36mRoom Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 AND "rooms"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:39:in `has_joined_room'
  Rendered rooms/_joinable_link.html.erb (Duration: 3.0ms | Allocations: 984)
  Rendered rooms/_last_message.html.erb (Duration: 0.5ms | Allocations: 182)
  Rendered rooms/_room.html.erb (Duration: 8.2ms | Allocations: 2886)
  Rendered rooms/_rooms.html.erb (Duration: 15.2ms | Allocations: 5451)
  Rendered messages/_pager.html.erb (Duration: 1.0ms | Allocations: 872)
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.7ms | Allocations: 1094)
  [1m[36mActiveStorage::Attachment Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 221], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 3.2ms | Allocations: 1780)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.7ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 222], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 1.9ms | Allocations: 1042)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.7ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 223], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 3.2ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.6ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 224], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.5ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.4ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 225], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 3.1ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 2.0ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 226], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.0ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.5ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.6ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 227], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.6ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.1ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 2.9ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 228], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 3.0ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 3.4ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 229], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.6ms | Allocations: 1112)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.3ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 230], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.5ms | Allocations: 1040)
  Rendered collection of messages/_message.html.erb [10 times] (Duration: 82.2ms | Allocations: 37460)
  Rendered layouts/_new_message_form.html.erb (Duration: 1.9ms | Allocations: 464)
  Rendered rooms/index.html.erb within layouts/application (Duration: 169.7ms | Allocations: 71137)
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 16)
  Rendered layout layouts/application.html.erb (Duration: 193.0ms | Allocations: 104184)
Completed 200 OK in 301ms (Views: 173.5ms | ActiveRecord: 46.5ms | Allocations: 143119)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhaakoxZG1ZNVkzWm5kMnQ2Y1d4elluRTNlVEJxYW1wNmNXUmthZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVDJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SWtGa2JXbHVJRkJoY25RZ055NXdibWNpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjBGa2JXbHVKVEl3VUdGeWRDVXlNRGN1Y0c1bkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSU9hVzFoWjJVdmNHNW5CanNHVkRvUmMyVnlkbWxqWlY5dVlXMWxPZ3BzYjJOaGJBPT0iLCJleHAiOiIyMDIyLTA3LTE1VDA3OjMzOjQwLjU3MloiLCJwdXIiOiJibG9iX2tleSJ9fQ==--14df619c426553a4d4e46049023e6b4d80ab111b/Admin%20Part%207.png" for ::1 at 2022-07-15 03:31:54 -0400
Processing by ActiveStorage::DiskController#show as PNG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"Admin Part 7"}
Completed 304 Not Modified in 3ms (ActiveRecord: 0.0ms | Allocations: 566)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhOWFIwWlRsb1ptOW1lbkkwTXpFNU1teDBPSFY2WTJjMGNIcDRid1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0wNy0xNVQwNzozMzo0MC42MTBaIiwicHVyIjoiYmxvYl9rZXkifX0=--0da82b0ad4db26730aca053c5974c36cd1327bb9/default_profile.jpg" for ::1 at 2022-07-15 03:31:54 -0400
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"default_profile"}
Completed 304 Not Modified in 2ms (ActiveRecord: 0.0ms | Allocations: 272)


Started GET "/cable" for ::1 at 2022-07-15 03:31:54 -0400
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-15 03:31:54 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:12:in `find_verified_user'
Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMg)
AppearanceChannel is transmitting the subscription confirmation
AppearanceChannel is streaming from appearance_channel
Started GET "/cable" for ::1 at 2022-07-15 03:31:54 -0400
AppearanceChannel#online
Could not execute command from ({"command"=>"message", "identifier"=>"{\"channel\":\"AppearanceChannel\"}", "data"=>"{\"action\":\"online\"}"}) [NoMethodError - undefined method `id' for nil:NilClass

    current_user = User.find(current_user.id)
                                         ^^^]: /code/youtube/rails/turbochat/episode_26_demo/app/channels/appearance_channel.rb:34:in `broadcast_new_status' | /code/youtube/rails/turbochat/episode_26_demo/app/channels/appearance_channel.rb:14:in `online' | /home/dean/.rvm/gems/ruby-3.1.0/gems/actioncable-7.0.2.3/lib/action_cable/channel/base.rb:270:in `public_send' | /home/dean/.rvm/gems/ruby-3.1.0/gems/actioncable-7.0.2.3/lib/action_cable/channel/base.rb:270:in `dispatch_action' | /home/dean/.rvm/gems/ruby-3.1.0/gems/actioncable-7.0.2.3/lib/action_cable/channel/base.rb:170:in `block in perform_action'
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-15 03:31:54 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:12:in `find_verified_user'
Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMg)
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from user_status
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from users
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from rooms
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from Z2lkOi8vdHVyYm9jaGF0L1Jvb20vMQ
AppearanceChannel#online
Could not execute command from ({"command"=>"message", "identifier"=>"{\"channel\":\"AppearanceChannel\"}", "data"=>"{\"action\":\"online\"}"}) [NoMethodError - undefined method `id' for nil:NilClass

    current_user = User.find(current_user.id)
                                         ^^^]: /code/youtube/rails/turbochat/episode_26_demo/app/channels/appearance_channel.rb:34:in `broadcast_new_status' | /code/youtube/rails/turbochat/episode_26_demo/app/channels/appearance_channel.rb:14:in `online' | /home/dean/.rvm/gems/ruby-3.1.0/gems/actioncable-7.0.2.3/lib/action_cable/channel/base.rb:270:in `public_send' | /home/dean/.rvm/gems/ruby-3.1.0/gems/actioncable-7.0.2.3/lib/action_cable/channel/base.rb:270:in `dispatch_action' | /home/dean/.rvm/gems/ruby-3.1.0/gems/actioncable-7.0.2.3/lib/action_cable/channel/base.rb:170:in `block in perform_action'
AppearanceChannel#online
Could not execute command from ({"command"=>"message", "identifier"=>"{\"channel\":\"AppearanceChannel\"}", "data"=>"{\"action\":\"online\"}"}) [NoMethodError - undefined method `id' for nil:NilClass

    current_user = User.find(current_user.id)
                                         ^^^]: /code/youtube/rails/turbochat/episode_26_demo/app/channels/appearance_channel.rb:34:in `broadcast_new_status' | /code/youtube/rails/turbochat/episode_26_demo/app/channels/appearance_channel.rb:14:in `online' | /home/dean/.rvm/gems/ruby-3.1.0/gems/actioncable-7.0.2.3/lib/action_cable/channel/base.rb:270:in `public_send' | /home/dean/.rvm/gems/ruby-3.1.0/gems/actioncable-7.0.2.3/lib/action_cable/channel/base.rb:270:in `dispatch_action' | /home/dean/.rvm/gems/ruby-3.1.0/gems/actioncable-7.0.2.3/lib/action_cable/channel/base.rb:170:in `block in perform_action'
AppearanceChannel#online
Could not execute command from ({"command"=>"message", "identifier"=>"{\"channel\":\"AppearanceChannel\"}", "data"=>"{\"action\":\"online\"}"}) [NoMethodError - undefined method `id' for nil:NilClass

    current_user = User.find(current_user.id)
                                         ^^^]: /code/youtube/rails/turbochat/episode_26_demo/app/channels/appearance_channel.rb:34:in `broadcast_new_status' | /code/youtube/rails/turbochat/episode_26_demo/app/channels/appearance_channel.rb:14:in `online' | /home/dean/.rvm/gems/ruby-3.1.0/gems/actioncable-7.0.2.3/lib/action_cable/channel/base.rb:270:in `public_send' | /home/dean/.rvm/gems/ruby-3.1.0/gems/actioncable-7.0.2.3/lib/action_cable/channel/base.rb:270:in `dispatch_action' | /home/dean/.rvm/gems/ruby-3.1.0/gems/actioncable-7.0.2.3/lib/action_cable/channel/base.rb:170:in `block in perform_action'
AppearanceChannel#online
Could not execute command from ({"command"=>"message", "identifier"=>"{\"channel\":\"AppearanceChannel\"}", "data"=>"{\"action\":\"online\"}"}) [NoMethodError - undefined method `id' for nil:NilClass

    current_user = User.find(current_user.id)
                                         ^^^]: /code/youtube/rails/turbochat/episode_26_demo/app/channels/appearance_channel.rb:34:in `broadcast_new_status' | /code/youtube/rails/turbochat/episode_26_demo/app/channels/appearance_channel.rb:14:in `online' | /home/dean/.rvm/gems/ruby-3.1.0/gems/actioncable-7.0.2.3/lib/action_cable/channel/base.rb:270:in `public_send' | /home/dean/.rvm/gems/ruby-3.1.0/gems/actioncable-7.0.2.3/lib/action_cable/channel/base.rb:270:in `dispatch_action' | /home/dean/.rvm/gems/ruby-3.1.0/gems/actioncable-7.0.2.3/lib/action_cable/channel/base.rb:170:in `block in perform_action'
AppearanceChannel#online
Could not execute command from ({"command"=>"message", "identifier"=>"{\"channel\":\"AppearanceChannel\"}", "data"=>"{\"action\":\"online\"}"}) [NoMethodError - undefined method `id' for nil:NilClass

    current_user = User.find(current_user.id)
                                         ^^^]: /code/youtube/rails/turbochat/episode_26_demo/app/channels/appearance_channel.rb:34:in `broadcast_new_status' | /code/youtube/rails/turbochat/episode_26_demo/app/channels/appearance_channel.rb:14:in `online' | /home/dean/.rvm/gems/ruby-3.1.0/gems/actioncable-7.0.2.3/lib/action_cable/channel/base.rb:270:in `public_send' | /home/dean/.rvm/gems/ruby-3.1.0/gems/actioncable-7.0.2.3/lib/action_cable/channel/base.rb:270:in `dispatch_action' | /home/dean/.rvm/gems/ruby-3.1.0/gems/actioncable-7.0.2.3/lib/action_cable/channel/base.rb:170:in `block in perform_action'
AppearanceChannel#online
Could not execute command from ({"command"=>"message", "identifier"=>"{\"channel\":\"AppearanceChannel\"}", "data"=>"{\"action\":\"online\"}"}) [NoMethodError - undefined method `id' for nil:NilClass

    current_user = User.find(current_user.id)
                                         ^^^]: /code/youtube/rails/turbochat/episode_26_demo/app/channels/appearance_channel.rb:34:in `broadcast_new_status' | /code/youtube/rails/turbochat/episode_26_demo/app/channels/appearance_channel.rb:14:in `online' | /home/dean/.rvm/gems/ruby-3.1.0/gems/actioncable-7.0.2.3/lib/action_cable/channel/base.rb:270:in `public_send' | /home/dean/.rvm/gems/ruby-3.1.0/gems/actioncable-7.0.2.3/lib/action_cable/channel/base.rb:270:in `dispatch_action' | /home/dean/.rvm/gems/ruby-3.1.0/gems/actioncable-7.0.2.3/lib/action_cable/channel/base.rb:170:in `block in perform_action'
AppearanceChannel#online
Could not execute command from ({"command"=>"message", "identifier"=>"{\"channel\":\"AppearanceChannel\"}", "data"=>"{\"action\":\"online\"}"}) [NoMethodError - undefined method `id' for nil:NilClass

    current_user = User.find(current_user.id)
                                         ^^^]: /code/youtube/rails/turbochat/episode_26_demo/app/channels/appearance_channel.rb:34:in `broadcast_new_status' | /code/youtube/rails/turbochat/episode_26_demo/app/channels/appearance_channel.rb:14:in `online' | /home/dean/.rvm/gems/ruby-3.1.0/gems/actioncable-7.0.2.3/lib/action_cable/channel/base.rb:270:in `public_send' | /home/dean/.rvm/gems/ruby-3.1.0/gems/actioncable-7.0.2.3/lib/action_cable/channel/base.rb:270:in `dispatch_action' | /home/dean/.rvm/gems/ruby-3.1.0/gems/actioncable-7.0.2.3/lib/action_cable/channel/base.rb:170:in `block in perform_action'
Started POST "/rooms/1/messages" for ::1 at 2022-07-15 03:31:56 -0400
Processing by MessagesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "message"=>{"attachments"=>[""], "body"=>"/dnd"}, "commit"=>"Send", "room_id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `set_current_user'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:62:in `dnd_manager'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:62:in `dnd_manager'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "status" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2022-07-15 07:31:56.918895"], ["status", 3], ["id", 2]]
  â†³ app/controllers/messages_controller.rb:62:in `dnd_manager'
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:62:in `dnd_manager'
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 73)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-danger\" id=\"user_2\"></div>\n</template></turbo-stream>"
No template found for MessagesController#create, rendering head :no_content
Completed 204 No Content in 19ms (ActiveRecord: 4.0ms | Allocations: 6463)


Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-danger\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
Could not execute command from ({"command"=>"message", "identifier"=>"{\"channel\":\"AppearanceChannel\"}", "data"=>"{\"action\":\"online\"}"}) [NoMethodError - undefined method `id' for nil:NilClass

    current_user = User.find(current_user.id)
                                         ^^^]: /code/youtube/rails/turbochat/episode_26_demo/app/channels/appearance_channel.rb:34:in `broadcast_new_status' | /code/youtube/rails/turbochat/episode_26_demo/app/channels/appearance_channel.rb:14:in `online' | /home/dean/.rvm/gems/ruby-3.1.0/gems/actioncable-7.0.2.3/lib/action_cable/channel/base.rb:270:in `public_send' | /home/dean/.rvm/gems/ruby-3.1.0/gems/actioncable-7.0.2.3/lib/action_cable/channel/base.rb:270:in `dispatch_action' | /home/dean/.rvm/gems/ruby-3.1.0/gems/actioncable-7.0.2.3/lib/action_cable/channel/base.rb:170:in `block in perform_action'
AppearanceChannel#online
Could not execute command from ({"command"=>"message", "identifier"=>"{\"channel\":\"AppearanceChannel\"}", "data"=>"{\"action\":\"online\"}"}) [NoMethodError - undefined method `id' for nil:NilClass

    current_user = User.find(current_user.id)
                                         ^^^]: /code/youtube/rails/turbochat/episode_26_demo/app/channels/appearance_channel.rb:34:in `broadcast_new_status' | /code/youtube/rails/turbochat/episode_26_demo/app/channels/appearance_channel.rb:14:in `online' | /home/dean/.rvm/gems/ruby-3.1.0/gems/actioncable-7.0.2.3/lib/action_cable/channel/base.rb:270:in `public_send' | /home/dean/.rvm/gems/ruby-3.1.0/gems/actioncable-7.0.2.3/lib/action_cable/channel/base.rb:270:in `dispatch_action' | /home/dean/.rvm/gems/ruby-3.1.0/gems/actioncable-7.0.2.3/lib/action_cable/channel/base.rb:170:in `block in perform_action'
AppearanceChannel#online
Could not execute command from ({"command"=>"message", "identifier"=>"{\"channel\":\"AppearanceChannel\"}", "data"=>"{\"action\":\"online\"}"}) [NoMethodError - undefined method `id' for nil:NilClass

    current_user = User.find(current_user.id)
                                         ^^^]: /code/youtube/rails/turbochat/episode_26_demo/app/channels/appearance_channel.rb:34:in `broadcast_new_status' | /code/youtube/rails/turbochat/episode_26_demo/app/channels/appearance_channel.rb:14:in `online' | /home/dean/.rvm/gems/ruby-3.1.0/gems/actioncable-7.0.2.3/lib/action_cable/channel/base.rb:270:in `public_send' | /home/dean/.rvm/gems/ruby-3.1.0/gems/actioncable-7.0.2.3/lib/action_cable/channel/base.rb:270:in `dispatch_action' | /home/dean/.rvm/gems/ruby-3.1.0/gems/actioncable-7.0.2.3/lib/action_cable/channel/base.rb:170:in `block in perform_action'
AppearanceChannel#online
Could not execute command from ({"command"=>"message", "identifier"=>"{\"channel\":\"AppearanceChannel\"}", "data"=>"{\"action\":\"online\"}"}) [NoMethodError - undefined method `id' for nil:NilClass

    current_user = User.find(current_user.id)
                                         ^^^]: /code/youtube/rails/turbochat/episode_26_demo/app/channels/appearance_channel.rb:34:in `broadcast_new_status' | /code/youtube/rails/turbochat/episode_26_demo/app/channels/appearance_channel.rb:14:in `online' | /home/dean/.rvm/gems/ruby-3.1.0/gems/actioncable-7.0.2.3/lib/action_cable/channel/base.rb:270:in `public_send' | /home/dean/.rvm/gems/ruby-3.1.0/gems/actioncable-7.0.2.3/lib/action_cable/channel/base.rb:270:in `dispatch_action' | /home/dean/.rvm/gems/ruby-3.1.0/gems/actioncable-7.0.2.3/lib/action_cable/channel/base.rb:170:in `block in perform_action'
AppearanceChannel#online
Could not execute command from ({"command"=>"message", "identifier"=>"{\"channel\":\"AppearanceChannel\"}", "data"=>"{\"action\":\"online\"}"}) [NoMethodError - undefined method `id' for nil:NilClass

    current_user = User.find(current_user.id)
                                         ^^^]: /code/youtube/rails/turbochat/episode_26_demo/app/channels/appearance_channel.rb:34:in `broadcast_new_status' | /code/youtube/rails/turbochat/episode_26_demo/app/channels/appearance_channel.rb:14:in `online' | /home/dean/.rvm/gems/ruby-3.1.0/gems/actioncable-7.0.2.3/lib/action_cable/channel/base.rb:270:in `public_send' | /home/dean/.rvm/gems/ruby-3.1.0/gems/actioncable-7.0.2.3/lib/action_cable/channel/base.rb:270:in `dispatch_action' | /home/dean/.rvm/gems/ruby-3.1.0/gems/actioncable-7.0.2.3/lib/action_cable/channel/base.rb:170:in `block in perform_action'
AppearanceChannel#online
Could not execute command from ({"command"=>"message", "identifier"=>"{\"channel\":\"AppearanceChannel\"}", "data"=>"{\"action\":\"online\"}"}) [NoMethodError - undefined method `id' for nil:NilClass

    current_user = User.find(current_user.id)
                                         ^^^]: /code/youtube/rails/turbochat/episode_26_demo/app/channels/appearance_channel.rb:34:in `broadcast_new_status' | /code/youtube/rails/turbochat/episode_26_demo/app/channels/appearance_channel.rb:14:in `online' | /home/dean/.rvm/gems/ruby-3.1.0/gems/actioncable-7.0.2.3/lib/action_cable/channel/base.rb:270:in `public_send' | /home/dean/.rvm/gems/ruby-3.1.0/gems/actioncable-7.0.2.3/lib/action_cable/channel/base.rb:270:in `dispatch_action' | /home/dean/.rvm/gems/ruby-3.1.0/gems/actioncable-7.0.2.3/lib/action_cable/channel/base.rb:170:in `block in perform_action'
Started GET "/rooms/1" for ::1 at 2022-07-15 03:32:14 -0400
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `set_current_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/rooms_controller.rb:68:in `set_status'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:68:in `set_status'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "status" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2022-07-15 07:32:14.932487"], ["status", 2], ["id", 2]]
  â†³ app/controllers/rooms_controller.rb:68:in `set_status'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/rooms_controller.rb:68:in `set_status'
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 53)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
  [1m[36mRoom Load (0.6ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:16:in `show'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/rooms_controller.rb:17:in `show'
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
  â†³ app/controllers/rooms_controller.rb:17:in `show'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/rooms_controller.rb:17:in `show'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 49)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
  [1m[36mMessage Count (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."room_id" = $1[0m  [["room_id", 1]]
  â†³ app/controllers/rooms_controller.rb:26:in `show'
  [1m[36mMessage Load (0.6ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2 OFFSET $3[0m  [["room_id", 1], ["LIMIT", 10], ["OFFSET", 0]]
  â†³ app/controllers/rooms_controller.rb:27:in `show'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/rooms_controller.rb:27:in `show'
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
  [1m[36mNotification Update All (0.9ms)[0m  [1m[33mUPDATE "notifications" SET "read_at" = $1 WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/1"},"_aj_symbol_keys":["room"]}') AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["read_at", "2022-07-15 07:32:14.965173"], ["recipient_type", "User"], ["recipient_id", 2]]
  â†³ app/controllers/rooms_controller.rb:73:in `set_notifications_to_read'
  Rendering layout layouts/application.html.erb
  Rendering rooms/index.html.erb within layouts/application
  Rendered shared/_message_error.html.erb (Duration: 0.0ms | Allocations: 16)
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.4ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 47)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1[0m  [["id", 2]]
  â†³ app/views/users/_users.html.erb:1
  [1m[36mRoom Load (0.7ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 ORDER BY "rooms"."id" ASC LIMIT $2[0m  [["name", "private_1_2"], ["LIMIT", 1]]
  â†³ app/views/users/_users.html.erb:4
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 3], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mCACHE Message Load (0.0ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 3], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mParticipant Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "participants" WHERE "participants"."room_id" = $1 AND "participants"."user_id" = $2 LIMIT $3[0m  [["room_id", 1], ["user_id", 1], ["LIMIT", 1]]
  â†³ app/models/room.rb:25:in `participant?'
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.4ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 1], ["variation_digest", "2LUGSpqeAxE2FTbZR5KExFsl26Y="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 47)
  Rendered users/_last_message.html.erb (Duration: 0.0ms | Allocations: 15)
  Rendered users/_user.html.erb (Duration: 9.4ms | Allocations: 3959)
  Rendered users/_users.html.erb (Duration: 19.1ms | Allocations: 6911)
  Rendered layouts/_new_room_form.html.erb (Duration: 0.0ms | Allocations: 20)
  Rendered rooms/_search_results.html.erb (Duration: 0.0ms | Allocations: 15)
  Rendered rooms/_search_form.html.erb (Duration: 0.9ms | Allocations: 832)
  [1m[36mRoom Load (0.7ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 ORDER BY last_message_at DESC[0m  [["user_id", 2]]
  â†³ app/views/rooms/_rooms.html.erb:1
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 1], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mNotification Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "notifications" WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/1"},"_aj_symbol_keys":["room"]}') AND "notifications"."type" = $1 AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["type", "MessageNotification"], ["recipient_type", "User"], ["recipient_id", 2]]
  â†³ app/views/rooms/_notifications.html.erb:4
  Rendered rooms/_notifications.html.erb (Duration: 2.1ms | Allocations: 885)
  [1m[36mRoom Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 AND "rooms"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:39:in `has_joined_room'
  Rendered rooms/_joinable_link.html.erb (Duration: 2.5ms | Allocations: 840)
  Rendered rooms/_last_message.html.erb (Duration: 0.4ms | Allocations: 138)
  Rendered rooms/_room.html.erb (Duration: 6.7ms | Allocations: 2201)
  Rendered rooms/_rooms.html.erb (Duration: 14.0ms | Allocations: 4688)
  Rendered messages/_pager.html.erb (Duration: 0.2ms | Allocations: 120)
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 4.5ms | Allocations: 1081)
  [1m[36mActiveStorage::Attachment Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 221], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.8ms | Allocations: 1034)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.6ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 222], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.4ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 2.6ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 223], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.7ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.2ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 224], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.5ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.9ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 225], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.6ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.7ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 226], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 1.8ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.3ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 227], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.6ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 2.0ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 228], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.7ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.4ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 229], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 3.1ms | Allocations: 1112)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.9ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 230], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.1ms | Allocations: 1040)
  Rendered collection of messages/_message.html.erb [10 times] (Duration: 83.3ms | Allocations: 36664)
  Rendered layouts/_new_message_form.html.erb (Duration: 1.0ms | Allocations: 415)
  Rendered rooms/index.html.erb within layouts/application (Duration: 128.7ms | Allocations: 53139)
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 15)
  Rendered layout layouts/application.html.erb (Duration: 132.0ms | Allocations: 55390)
Completed 200 OK in 176ms (Views: 120.6ms | ActiveRecord: 21.1ms | Allocations: 69345)


Finished "/cable/" [WebSocket] for ::1 at 2022-07-15 03:32:15 -0400
Turbo::StreamsChannel stopped streaming from user_status
Turbo::StreamsChannel stopped streaming from users
Turbo::StreamsChannel stopped streaming from rooms
Turbo::StreamsChannel stopped streaming from Z2lkOi8vdHVyYm9jaGF0L1Jvb20vMQ
Finished "/cable/" [WebSocket] for ::1 at 2022-07-15 03:32:15 -0400
AppearanceChannel stopped streaming from appearance_channel
There was an exception - NoMethodError(undefined method `id' for nil:NilClass

    current_user = User.find(current_user.id)
                                         ^^^)
/code/youtube/rails/turbochat/episode_26_demo/app/channels/appearance_channel.rb:34:in `broadcast_new_status'
/code/youtube/rails/turbochat/episode_26_demo/app/channels/appearance_channel.rb:24:in `offline'
/code/youtube/rails/turbochat/episode_26_demo/app/channels/appearance_channel.rb:9:in `unsubscribed'
/home/dean/.rvm/gems/ruby-3.1.0/gems/actioncable-7.0.2.3/lib/action_cable/channel/base.rb:192:in `block in unsubscribe_from_channel'
/home/dean/.rvm/gems/ruby-3.1.0/gems/activesupport-7.0.2.3/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/home/dean/.rvm/gems/ruby-3.1.0/gems/activesupport-7.0.2.3/lib/active_support/execution_wrapper.rb:88:in `wrap'
/home/dean/.rvm/gems/ruby-3.1.0/gems/actioncable-7.0.2.3/lib/action_cable/engine.rb:77:in `block (3 levels) in <class:Engine>'
/home/dean/.rvm/gems/ruby-3.1.0/gems/activesupport-7.0.2.3/lib/active_support/callbacks.rb:127:in `instance_exec'
/home/dean/.rvm/gems/ruby-3.1.0/gems/activesupport-7.0.2.3/lib/active_support/callbacks.rb:127:in `block in run_callbacks'
/home/dean/.rvm/gems/ruby-3.1.0/gems/activesupport-7.0.2.3/lib/active_support/callbacks.rb:138:in `run_callbacks'
/home/dean/.rvm/gems/ruby-3.1.0/gems/actioncable-7.0.2.3/lib/action_cable/channel/base.rb:191:in `unsubscribe_from_channel'
/home/dean/.rvm/gems/ruby-3.1.0/gems/actioncable-7.0.2.3/lib/action_cable/connection/subscriptions.rb:51:in `remove_subscription'
/home/dean/.rvm/gems/ruby-3.1.0/gems/actioncable-7.0.2.3/lib/action_cable/connection/subscriptions.rb:64:in `block in unsubscribe_from_all'
/home/dean/.rvm/gems/ruby-3.1.0/gems/actioncable-7.0.2.3/lib/action_cable/connection/subscriptions.rb:64:in `each'
/home/dean/.rvm/gems/ruby-3.1.0/gems/actioncable-7.0.2.3/lib/action_cable/connection/subscriptions.rb:64:in `unsubscribe_from_all'
/home/dean/.rvm/gems/ruby-3.1.0/gems/actioncable-7.0.2.3/lib/action_cable/connection/base.rb:188:in `handle_close'
/home/dean/.rvm/gems/ruby-3.1.0/gems/actioncable-7.0.2.3/lib/action_cable/server/worker.rb:59:in `block in invoke'
/home/dean/.rvm/gems/ruby-3.1.0/gems/activesupport-7.0.2.3/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/home/dean/.rvm/gems/ruby-3.1.0/gems/activesupport-7.0.2.3/lib/active_support/tagged_logging.rb:99:in `block in tagged'
/home/dean/.rvm/gems/ruby-3.1.0/gems/activesupport-7.0.2.3/lib/active_support/tagged_logging.rb:37:in `tagged'
/home/dean/.rvm/gems/ruby-3.1.0/gems/activesupport-7.0.2.3/lib/active_support/tagged_logging.rb:99:in `tagged'
/home/dean/.rvm/gems/ruby-3.1.0/gems/actioncable-7.0.2.3/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `tag'
/home/dean/.rvm/gems/ruby-3.1.0/gems/actioncable-7.0.2.3/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `with_database_connections'
/home/dean/.rvm/gems/ruby-3.1.0/gems/activesupport-7.0.2.3/lib/active_support/callbacks.rb:127:in `block in run_callbacks'
/home/dean/.rvm/gems/ruby-3.1.0/gems/actioncable-7.0.2.3/lib/action_cable/engine.rb:71:in `block (4 levels) in <class:Engine>'
/home/dean/.rvm/gems/ruby-3.1.0/gems/activesupport-7.0.2.3/lib/active_support/execution_wrapper.rb:92:in `wrap'
/home/dean/.rvm/gems/ruby-3.1.0/gems/actioncable-7.0.2.3/lib/action_cable/engine.rb:66:in `block (3 levels) in <class:Engine>'
/home/dean/.rvm/gems/ruby-3.1.0/gems/activesupport-7.0.2.3/lib/active_support/callbacks.rb:127:in `instance_exec'
/home/dean/.rvm/gems/ruby-3.1.0/gems/activesupport-7.0.2.3/lib/active_support/callbacks.rb:127:in `block in run_callbacks'
/home/dean/.rvm/gems/ruby-3.1.0/gems/activesupport-7.0.2.3/lib/active_support/callbacks.rb:138:in `run_callbacks'
/home/dean/.rvm/gems/ruby-3.1.0/gems/actioncable-7.0.2.3/lib/action_cable/server/worker.rb:42:in `work'
/home/dean/.rvm/gems/ruby-3.1.0/gems/actioncable-7.0.2.3/lib/action_cable/server/worker.rb:58:in `invoke'
/home/dean/.rvm/gems/ruby-3.1.0/gems/actioncable-7.0.2.3/lib/action_cable/server/worker.rb:53:in `block in async_invoke'
/home/dean/.rvm/gems/ruby-3.1.0/gems/concurrent-ruby-1.1.10/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:352:in `run_task'
/home/dean/.rvm/gems/ruby-3.1.0/gems/concurrent-ruby-1.1.10/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:343:in `block (3 levels) in create_worker'
/home/dean/.rvm/gems/ruby-3.1.0/gems/concurrent-ruby-1.1.10/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:334:in `loop'
/home/dean/.rvm/gems/ruby-3.1.0/gems/concurrent-ruby-1.1.10/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:334:in `block (2 levels) in create_worker'
/home/dean/.rvm/gems/ruby-3.1.0/gems/concurrent-ruby-1.1.10/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:333:in `catch'
/home/dean/.rvm/gems/ruby-3.1.0/gems/concurrent-ruby-1.1.10/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:333:in `block in create_worker'
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhaakoxZG1ZNVkzWm5kMnQ2Y1d4elluRTNlVEJxYW1wNmNXUmthZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVDJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SWtGa2JXbHVJRkJoY25RZ055NXdibWNpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjBGa2JXbHVKVEl3VUdGeWRDVXlNRGN1Y0c1bkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSU9hVzFoWjJVdmNHNW5CanNHVkRvUmMyVnlkbWxqWlY5dVlXMWxPZ3BzYjJOaGJBPT0iLCJleHAiOiIyMDIyLTA3LTE1VDA3OjMzOjQwLjU3MloiLCJwdXIiOiJibG9iX2tleSJ9fQ==--14df619c426553a4d4e46049023e6b4d80ab111b/Admin%20Part%207.png" for ::1 at 2022-07-15 03:32:15 -0400
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhOWFIwWlRsb1ptOW1lbkkwTXpFNU1teDBPSFY2WTJjMGNIcDRid1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0wNy0xNVQwNzozMzo0MC42MTBaIiwicHVyIjoiYmxvYl9rZXkifX0=--0da82b0ad4db26730aca053c5974c36cd1327bb9/default_profile.jpg" for ::1 at 2022-07-15 03:32:15 -0400
Processing by ActiveStorage::DiskController#show as PNG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"Admin Part 7"}
Completed 304 Not Modified in 2ms (ActiveRecord: 0.0ms | Allocations: 287)


Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"default_profile"}
Completed 304 Not Modified in 1ms (ActiveRecord: 0.0ms | Allocations: 210)


Started GET "/cable" for ::1 at 2022-07-15 03:32:15 -0400
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-15 03:32:15 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:12:in `find_verified_user'
Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMg)
AppearanceChannel is transmitting the subscription confirmation
AppearanceChannel is streaming from appearance_channel
AppearanceChannel#online
Could not execute command from ({"command"=>"message", "identifier"=>"{\"channel\":\"AppearanceChannel\"}", "data"=>"{\"action\":\"online\"}"}) [NoMethodError - undefined method `id' for nil:NilClass

    current_user = User.find(current_user.id)
                                         ^^^]: /code/youtube/rails/turbochat/episode_26_demo/app/channels/appearance_channel.rb:34:in `broadcast_new_status' | /code/youtube/rails/turbochat/episode_26_demo/app/channels/appearance_channel.rb:14:in `online' | /home/dean/.rvm/gems/ruby-3.1.0/gems/actioncable-7.0.2.3/lib/action_cable/channel/base.rb:270:in `public_send' | /home/dean/.rvm/gems/ruby-3.1.0/gems/actioncable-7.0.2.3/lib/action_cable/channel/base.rb:270:in `dispatch_action' | /home/dean/.rvm/gems/ruby-3.1.0/gems/actioncable-7.0.2.3/lib/action_cable/channel/base.rb:170:in `block in perform_action'
Started GET "/cable" for ::1 at 2022-07-15 03:32:15 -0400
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-15 03:32:15 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:12:in `find_verified_user'
Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMg)
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from user_status
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from users
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from rooms
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from Z2lkOi8vdHVyYm9jaGF0L1Jvb20vMQ
AppearanceChannel#online
Could not execute command from ({"command"=>"message", "identifier"=>"{\"channel\":\"AppearanceChannel\"}", "data"=>"{\"action\":\"online\"}"}) [NoMethodError - undefined method `id' for nil:NilClass

    current_user = User.find(current_user.id)
                                         ^^^]: /code/youtube/rails/turbochat/episode_26_demo/app/channels/appearance_channel.rb:34:in `broadcast_new_status' | /code/youtube/rails/turbochat/episode_26_demo/app/channels/appearance_channel.rb:14:in `online' | /home/dean/.rvm/gems/ruby-3.1.0/gems/actioncable-7.0.2.3/lib/action_cable/channel/base.rb:270:in `public_send' | /home/dean/.rvm/gems/ruby-3.1.0/gems/actioncable-7.0.2.3/lib/action_cable/channel/base.rb:270:in `dispatch_action' | /home/dean/.rvm/gems/ruby-3.1.0/gems/actioncable-7.0.2.3/lib/action_cable/channel/base.rb:170:in `block in perform_action'
AppearanceChannel#online
Could not execute command from ({"command"=>"message", "identifier"=>"{\"channel\":\"AppearanceChannel\"}", "data"=>"{\"action\":\"online\"}"}) [NoMethodError - undefined method `id' for nil:NilClass

    current_user = User.find(current_user.id)
                                         ^^^]: /code/youtube/rails/turbochat/episode_26_demo/app/channels/appearance_channel.rb:34:in `broadcast_new_status' | /code/youtube/rails/turbochat/episode_26_demo/app/channels/appearance_channel.rb:14:in `online' | /home/dean/.rvm/gems/ruby-3.1.0/gems/actioncable-7.0.2.3/lib/action_cable/channel/base.rb:270:in `public_send' | /home/dean/.rvm/gems/ruby-3.1.0/gems/actioncable-7.0.2.3/lib/action_cable/channel/base.rb:270:in `dispatch_action' | /home/dean/.rvm/gems/ruby-3.1.0/gems/actioncable-7.0.2.3/lib/action_cable/channel/base.rb:170:in `block in perform_action'
AppearanceChannel#online
Could not execute command from ({"command"=>"message", "identifier"=>"{\"channel\":\"AppearanceChannel\"}", "data"=>"{\"action\":\"online\"}"}) [NoMethodError - undefined method `id' for nil:NilClass

    current_user = User.find(current_user.id)
                                         ^^^]: /code/youtube/rails/turbochat/episode_26_demo/app/channels/appearance_channel.rb:34:in `broadcast_new_status' | /code/youtube/rails/turbochat/episode_26_demo/app/channels/appearance_channel.rb:14:in `online' | /home/dean/.rvm/gems/ruby-3.1.0/gems/actioncable-7.0.2.3/lib/action_cable/channel/base.rb:270:in `public_send' | /home/dean/.rvm/gems/ruby-3.1.0/gems/actioncable-7.0.2.3/lib/action_cable/channel/base.rb:270:in `dispatch_action' | /home/dean/.rvm/gems/ruby-3.1.0/gems/actioncable-7.0.2.3/lib/action_cable/channel/base.rb:170:in `block in perform_action'
AppearanceChannel#online
Could not execute command from ({"command"=>"message", "identifier"=>"{\"channel\":\"AppearanceChannel\"}", "data"=>"{\"action\":\"online\"}"}) [NoMethodError - undefined method `id' for nil:NilClass

    current_user.update!(status:) unless current_user.dnd?
    ^^^^^^^^^^^^]: /code/youtube/rails/turbochat/episode_26_demo/app/channels/appearance_channel.rb:34:in `broadcast_new_status' | /code/youtube/rails/turbochat/episode_26_demo/app/channels/appearance_channel.rb:14:in `online' | /home/dean/.rvm/gems/ruby-3.1.0/gems/actioncable-7.0.2.3/lib/action_cable/channel/base.rb:270:in `public_send' | /home/dean/.rvm/gems/ruby-3.1.0/gems/actioncable-7.0.2.3/lib/action_cable/channel/base.rb:270:in `dispatch_action' | /home/dean/.rvm/gems/ruby-3.1.0/gems/actioncable-7.0.2.3/lib/action_cable/channel/base.rb:170:in `block in perform_action'
AppearanceChannel#online
Could not execute command from ({"command"=>"message", "identifier"=>"{\"channel\":\"AppearanceChannel\"}", "data"=>"{\"action\":\"online\"}"}) [NoMethodError - undefined method `id' for nil:NilClass

    current_user.update!(status:) unless current_user.dnd?
    ^^^^^^^^^^^^]: /code/youtube/rails/turbochat/episode_26_demo/app/channels/appearance_channel.rb:34:in `broadcast_new_status' | /code/youtube/rails/turbochat/episode_26_demo/app/channels/appearance_channel.rb:14:in `online' | /home/dean/.rvm/gems/ruby-3.1.0/gems/actioncable-7.0.2.3/lib/action_cable/channel/base.rb:270:in `public_send' | /home/dean/.rvm/gems/ruby-3.1.0/gems/actioncable-7.0.2.3/lib/action_cable/channel/base.rb:270:in `dispatch_action' | /home/dean/.rvm/gems/ruby-3.1.0/gems/actioncable-7.0.2.3/lib/action_cable/channel/base.rb:170:in `block in perform_action'
AppearanceChannel#online
Could not execute command from ({"command"=>"message", "identifier"=>"{\"channel\":\"AppearanceChannel\"}", "data"=>"{\"action\":\"online\"}"}) [NoMethodError - undefined method `id' for nil:NilClass

    current_user.update!(status:) unless current_user.dnd?
    ^^^^^^^^^^^^]: /code/youtube/rails/turbochat/episode_26_demo/app/channels/appearance_channel.rb:34:in `broadcast_new_status' | /code/youtube/rails/turbochat/episode_26_demo/app/channels/appearance_channel.rb:14:in `online' | /home/dean/.rvm/gems/ruby-3.1.0/gems/actioncable-7.0.2.3/lib/action_cable/channel/base.rb:270:in `public_send' | /home/dean/.rvm/gems/ruby-3.1.0/gems/actioncable-7.0.2.3/lib/action_cable/channel/base.rb:270:in `dispatch_action' | /home/dean/.rvm/gems/ruby-3.1.0/gems/actioncable-7.0.2.3/lib/action_cable/channel/base.rb:170:in `block in perform_action'
Started GET "/rooms/1" for ::1 at 2022-07-15 03:32:27 -0400
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `set_current_user'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/rooms_controller.rb:68:in `set_status'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:68:in `set_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/rooms_controller.rb:68:in `set_status'
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 98)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:16:in `show'
  [1m[36mCACHE User Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:17:in `show'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 69)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
  [1m[36mMessage Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."room_id" = $1[0m  [["room_id", 1]]
  â†³ app/controllers/rooms_controller.rb:26:in `show'
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2 OFFSET $3[0m  [["room_id", 1], ["LIMIT", 10], ["OFFSET", 0]]
  â†³ app/controllers/rooms_controller.rb:27:in `show'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/rooms_controller.rb:27:in `show'
  [1m[36mNotification Update All (0.7ms)[0m  [1m[33mUPDATE "notifications" SET "read_at" = $1 WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/1"},"_aj_symbol_keys":["room"]}') AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["read_at", "2022-07-15 07:32:27.300871"], ["recipient_type", "User"], ["recipient_id", 2]]
  â†³ app/controllers/rooms_controller.rb:73:in `set_notifications_to_read'
  Rendering layout layouts/application.html.erb
  Rendering rooms/index.html.erb within layouts/application
  Rendered shared/_message_error.html.erb (Duration: 0.0ms | Allocations: 22)
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.3ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 59)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1[0m  [["id", 2]]
  â†³ app/views/users/_users.html.erb:1
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 ORDER BY "rooms"."id" ASC LIMIT $2[0m  [["name", "private_1_2"], ["LIMIT", 1]]
  â†³ app/views/users/_users.html.erb:4
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 3], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mCACHE Message Load (0.0ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 3], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mParticipant Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "participants" WHERE "participants"."room_id" = $1 AND "participants"."user_id" = $2 LIMIT $3[0m  [["room_id", 1], ["user_id", 1], ["LIMIT", 1]]
  â†³ app/models/room.rb:25:in `participant?'
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.3ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 1], ["variation_digest", "2LUGSpqeAxE2FTbZR5KExFsl26Y="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 53)
  Rendered users/_last_message.html.erb (Duration: 0.0ms | Allocations: 16)
  Rendered users/_user.html.erb (Duration: 18.2ms | Allocations: 7111)
  Rendered users/_users.html.erb (Duration: 24.8ms | Allocations: 10203)
  Rendered layouts/_new_room_form.html.erb (Duration: 0.1ms | Allocations: 28)
  Rendered rooms/_search_results.html.erb (Duration: 0.0ms | Allocations: 16)
  Rendered rooms/_search_form.html.erb (Duration: 1.1ms | Allocations: 836)
  [1m[36mRoom Load (0.6ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 ORDER BY last_message_at DESC[0m  [["user_id", 2]]
  â†³ app/views/rooms/_rooms.html.erb:1
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 1], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mNotification Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "notifications" WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/1"},"_aj_symbol_keys":["room"]}') AND "notifications"."type" = $1 AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["type", "MessageNotification"], ["recipient_type", "User"], ["recipient_id", 2]]
  â†³ app/views/rooms/_notifications.html.erb:4
  Rendered rooms/_notifications.html.erb (Duration: 4.6ms | Allocations: 1348)
  [1m[36mRoom Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 AND "rooms"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:39:in `has_joined_room'
  Rendered rooms/_joinable_link.html.erb (Duration: 3.1ms | Allocations: 984)
  Rendered rooms/_last_message.html.erb (Duration: 0.5ms | Allocations: 182)
  Rendered rooms/_room.html.erb (Duration: 9.1ms | Allocations: 2886)
  Rendered rooms/_rooms.html.erb (Duration: 15.4ms | Allocations: 5451)
  Rendered messages/_pager.html.erb (Duration: 1.0ms | Allocations: 878)
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 4.6ms | Allocations: 1094)
  [1m[36mActiveStorage::Attachment Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 221], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 4.7ms | Allocations: 1779)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 2.6ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 222], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 3.3ms | Allocations: 1042)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.8ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 223], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 3.1ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 2.1ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 224], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 3.0ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 2.5ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 225], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.7ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 2.1ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 226], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 3.0ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.1ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.9ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 227], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.7ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.8ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 228], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.4ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.9ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 229], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.6ms | Allocations: 1112)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 2.2ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 230], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 1.9ms | Allocations: 1040)
  Rendered collection of messages/_message.html.erb [10 times] (Duration: 95.1ms | Allocations: 37458)
  Rendered layouts/_new_message_form.html.erb (Duration: 0.7ms | Allocations: 464)
  Rendered rooms/index.html.erb within layouts/application (Duration: 177.1ms | Allocations: 71141)
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 16)
  Rendered layout layouts/application.html.erb (Duration: 217.0ms | Allocations: 104225)
Completed 200 OK in 319ms (Views: 199.4ms | ActiveRecord: 42.3ms | Allocations: 141300)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhaakoxZG1ZNVkzWm5kMnQ2Y1d4elluRTNlVEJxYW1wNmNXUmthZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVDJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SWtGa2JXbHVJRkJoY25RZ055NXdibWNpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjBGa2JXbHVKVEl3VUdGeWRDVXlNRGN1Y0c1bkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSU9hVzFoWjJVdmNHNW5CanNHVkRvUmMyVnlkbWxqWlY5dVlXMWxPZ3BzYjJOaGJBPT0iLCJleHAiOiIyMDIyLTA3LTE1VDA3OjMzOjQwLjU3MloiLCJwdXIiOiJibG9iX2tleSJ9fQ==--14df619c426553a4d4e46049023e6b4d80ab111b/Admin%20Part%207.png" for ::1 at 2022-07-15 03:32:27 -0400
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhOWFIwWlRsb1ptOW1lbkkwTXpFNU1teDBPSFY2WTJjMGNIcDRid1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0wNy0xNVQwNzozMzo0MC42MTBaIiwicHVyIjoiYmxvYl9rZXkifX0=--0da82b0ad4db26730aca053c5974c36cd1327bb9/default_profile.jpg" for ::1 at 2022-07-15 03:32:27 -0400
Processing by ActiveStorage::DiskController#show as PNG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"Admin Part 7"}
Completed 304 Not Modified in 6ms (ActiveRecord: 0.0ms | Allocations: 581)


Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"default_profile"}
Completed 304 Not Modified in 2ms (ActiveRecord: 0.0ms | Allocations: 375)


Started GET "/cable" for ::1 at 2022-07-15 03:32:27 -0400
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-15 03:32:27 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:12:in `find_verified_user'
Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMg)
Started GET "/cable" for ::1 at 2022-07-15 03:32:27 -0400
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-15 03:32:27 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:12:in `find_verified_user'
Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMg)
AppearanceChannel is transmitting the subscription confirmation
AppearanceChannel is streaming from appearance_channel
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from user_status
AppearanceChannel#online
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:35:in `broadcast_new_status'
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
Turbo::StreamsChannel is transmitting the subscription confirmation
  â†³ app/channels/appearance_channel.rb:35:in `broadcast_new_status'
Turbo::StreamsChannel is streaming from users
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:35:in `broadcast_new_status'
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 62)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from Z2lkOi8vdHVyYm9jaGF0L1Jvb20vMQ
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from rooms
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:35:in `broadcast_new_status'
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:35:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:35:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:35:in `broadcast_new_status'
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:35:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:35:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:35:in `broadcast_new_status'
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:35:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:35:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Started GET "/rooms/1" for ::1 at 2022-07-15 03:32:35 -0400
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `set_current_user'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/rooms_controller.rb:68:in `set_status'
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:68:in `set_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/rooms_controller.rb:68:in `set_status'
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 98)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
  [1m[36mRoom Load (0.4ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:16:in `show'
  [1m[36mCACHE User Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:17:in `show'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 69)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
  [1m[36mMessage Count (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."room_id" = $1[0m  [["room_id", 1]]
  â†³ app/controllers/rooms_controller.rb:26:in `show'
  [1m[36mMessage Load (0.7ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2 OFFSET $3[0m  [["room_id", 1], ["LIMIT", 10], ["OFFSET", 0]]
  â†³ app/controllers/rooms_controller.rb:27:in `show'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/rooms_controller.rb:27:in `show'
  [1m[36mNotification Update All (0.8ms)[0m  [1m[33mUPDATE "notifications" SET "read_at" = $1 WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/1"},"_aj_symbol_keys":["room"]}') AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["read_at", "2022-07-15 07:32:36.381489"], ["recipient_type", "User"], ["recipient_id", 2]]
  â†³ app/controllers/rooms_controller.rb:73:in `set_notifications_to_read'
  Rendering layout layouts/application.html.erb
  Rendering rooms/index.html.erb within layouts/application
  Rendered shared/_message_error.html.erb (Duration: 0.1ms | Allocations: 22)
  [1m[36mActiveStorage::Blob Load (0.6ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.6ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 59)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1[0m  [["id", 2]]
  â†³ app/views/users/_users.html.erb:1
  [1m[36mRoom Load (0.7ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 ORDER BY "rooms"."id" ASC LIMIT $2[0m  [["name", "private_1_2"], ["LIMIT", 1]]
  â†³ app/views/users/_users.html.erb:4
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 3], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mCACHE Message Load (0.0ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 3], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mParticipant Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "participants" WHERE "participants"."room_id" = $1 AND "participants"."user_id" = $2 LIMIT $3[0m  [["room_id", 1], ["user_id", 1], ["LIMIT", 1]]
  â†³ app/models/room.rb:25:in `participant?'
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.3ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 1], ["variation_digest", "2LUGSpqeAxE2FTbZR5KExFsl26Y="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 53)
  Rendered users/_last_message.html.erb (Duration: 0.0ms | Allocations: 16)
  Rendered users/_user.html.erb (Duration: 22.1ms | Allocations: 7113)
  Rendered users/_users.html.erb (Duration: 33.8ms | Allocations: 10205)
  Rendered layouts/_new_room_form.html.erb (Duration: 0.1ms | Allocations: 28)
  Rendered rooms/_search_results.html.erb (Duration: 0.1ms | Allocations: 16)
  Rendered rooms/_search_form.html.erb (Duration: 1.4ms | Allocations: 836)
  [1m[36mRoom Load (0.8ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 ORDER BY last_message_at DESC[0m  [["user_id", 2]]
  â†³ app/views/rooms/_rooms.html.erb:1
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 1], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mNotification Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "notifications" WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/1"},"_aj_symbol_keys":["room"]}') AND "notifications"."type" = $1 AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["type", "MessageNotification"], ["recipient_type", "User"], ["recipient_id", 2]]
  â†³ app/views/rooms/_notifications.html.erb:4
  Rendered rooms/_notifications.html.erb (Duration: 4.6ms | Allocations: 1348)
  [1m[36mRoom Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 AND "rooms"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:39:in `has_joined_room'
  Rendered rooms/_joinable_link.html.erb (Duration: 3.0ms | Allocations: 984)
  Rendered rooms/_last_message.html.erb (Duration: 0.6ms | Allocations: 182)
  Rendered rooms/_room.html.erb (Duration: 10.0ms | Allocations: 2886)
  Rendered rooms/_rooms.html.erb (Duration: 17.8ms | Allocations: 5451)
  Rendered messages/_pager.html.erb (Duration: 0.6ms | Allocations: 884)
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.5ms | Allocations: 1094)
  [1m[36mActiveStorage::Attachment Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 221], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 3.4ms | Allocations: 1779)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 2.3ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 222], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.6ms | Allocations: 1042)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 2.1ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 223], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.3ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.5ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 224], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 1.8ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.3ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 225], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 3.7ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.9ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 226], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.5ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.3ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 227], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.3ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 2.3ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 228], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.5ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 3.0ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 229], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.6ms | Allocations: 1112)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.8ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 230], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.5ms | Allocations: 1040)
  Rendered collection of messages/_message.html.erb [10 times] (Duration: 89.9ms | Allocations: 37458)
  Rendered layouts/_new_message_form.html.erb (Duration: 1.1ms | Allocations: 464)
  Rendered rooms/index.html.erb within layouts/application (Duration: 208.2ms | Allocations: 71174)
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 16)
  Rendered layout layouts/application.html.erb (Duration: 229.9ms | Allocations: 104220)
Completed 200 OK in 612ms (Views: 209.2ms | ActiveRecord: 64.2ms | Allocations: 141303)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhaakoxZG1ZNVkzWm5kMnQ2Y1d4elluRTNlVEJxYW1wNmNXUmthZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVDJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SWtGa2JXbHVJRkJoY25RZ055NXdibWNpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjBGa2JXbHVKVEl3VUdGeWRDVXlNRGN1Y0c1bkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSU9hVzFoWjJVdmNHNW5CanNHVkRvUmMyVnlkbWxqWlY5dVlXMWxPZ3BzYjJOaGJBPT0iLCJleHAiOiIyMDIyLTA3LTE1VDA3OjMzOjQwLjU3MloiLCJwdXIiOiJibG9iX2tleSJ9fQ==--14df619c426553a4d4e46049023e6b4d80ab111b/Admin%20Part%207.png" for ::1 at 2022-07-15 03:32:36 -0400
Processing by ActiveStorage::DiskController#show as PNG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"Admin Part 7"}
Completed 304 Not Modified in 1ms (ActiveRecord: 0.0ms | Allocations: 504)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhOWFIwWlRsb1ptOW1lbkkwTXpFNU1teDBPSFY2WTJjMGNIcDRid1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0wNy0xNVQwNzozMzo0MC42MTBaIiwicHVyIjoiYmxvYl9rZXkifX0=--0da82b0ad4db26730aca053c5974c36cd1327bb9/default_profile.jpg" for ::1 at 2022-07-15 03:32:36 -0400
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"default_profile"}
Completed 304 Not Modified in 2ms (ActiveRecord: 0.0ms | Allocations: 249)


Started GET "/cable" for ::1 at 2022-07-15 03:32:36 -0400
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-15 03:32:36 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:12:in `find_verified_user'
Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMg)
AppearanceChannel is transmitting the subscription confirmation
AppearanceChannel is streaming from appearance_channel
Started GET "/cable" for ::1 at 2022-07-15 03:32:36 -0400
AppearanceChannel#online
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-15 03:32:36 -0400
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mBEGIN[0m
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  â†³ app/channels/appearance_channel.rb:35:in `broadcast_new_status'
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:35:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:35:in `broadcast_new_status'
  [1m[36mActiveStorage::Attachment Load (0.9ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 62)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:12:in `find_verified_user'
Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMg)
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from user_status
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from users
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from rooms
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from Z2lkOi8vdHVyYm9jaGF0L1Jvb20vMQ
AppearanceChannel#online
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:35:in `broadcast_new_status'
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:35:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:35:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 40)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:35:in `broadcast_new_status'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:35:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:35:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:35:in `broadcast_new_status'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:35:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:35:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:35:in `broadcast_new_status'
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:35:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:35:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Started GET "/rooms/1" for ::1 at 2022-07-15 03:32:49 -0400
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `set_current_user'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/rooms_controller.rb:68:in `set_status'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:68:in `set_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/rooms_controller.rb:68:in `set_status'
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.3ms | Allocations: 98)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:16:in `show'
  [1m[36mCACHE User Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:17:in `show'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 69)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
  [1m[36mMessage Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."room_id" = $1[0m  [["room_id", 1]]
  â†³ app/controllers/rooms_controller.rb:26:in `show'
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2 OFFSET $3[0m  [["room_id", 1], ["LIMIT", 10], ["OFFSET", 0]]
  â†³ app/controllers/rooms_controller.rb:27:in `show'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/rooms_controller.rb:27:in `show'
  [1m[36mNotification Update All (0.6ms)[0m  [1m[33mUPDATE "notifications" SET "read_at" = $1 WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/1"},"_aj_symbol_keys":["room"]}') AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["read_at", "2022-07-15 07:32:49.243110"], ["recipient_type", "User"], ["recipient_id", 2]]
  â†³ app/controllers/rooms_controller.rb:73:in `set_notifications_to_read'
  Rendering layout layouts/application.html.erb
  Rendering rooms/index.html.erb within layouts/application
  Rendered shared/_message_error.html.erb (Duration: 0.1ms | Allocations: 22)
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.3ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 59)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1[0m  [["id", 2]]
  â†³ app/views/users/_users.html.erb:1
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 ORDER BY "rooms"."id" ASC LIMIT $2[0m  [["name", "private_1_2"], ["LIMIT", 1]]
  â†³ app/views/users/_users.html.erb:4
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 3], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mCACHE Message Load (0.0ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 3], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mParticipant Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "participants" WHERE "participants"."room_id" = $1 AND "participants"."user_id" = $2 LIMIT $3[0m  [["room_id", 1], ["user_id", 1], ["LIMIT", 1]]
  â†³ app/models/room.rb:25:in `participant?'
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.4ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 1], ["variation_digest", "2LUGSpqeAxE2FTbZR5KExFsl26Y="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 53)
  Rendered users/_last_message.html.erb (Duration: 0.0ms | Allocations: 16)
  Rendered users/_user.html.erb (Duration: 16.9ms | Allocations: 7111)
  Rendered users/_users.html.erb (Duration: 25.0ms | Allocations: 10203)
  Rendered layouts/_new_room_form.html.erb (Duration: 0.1ms | Allocations: 28)
  Rendered rooms/_search_results.html.erb (Duration: 0.0ms | Allocations: 16)
  Rendered rooms/_search_form.html.erb (Duration: 0.9ms | Allocations: 836)
  [1m[36mRoom Load (0.8ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 ORDER BY last_message_at DESC[0m  [["user_id", 2]]
  â†³ app/views/rooms/_rooms.html.erb:1
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 1], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mNotification Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "notifications" WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/1"},"_aj_symbol_keys":["room"]}') AND "notifications"."type" = $1 AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["type", "MessageNotification"], ["recipient_type", "User"], ["recipient_id", 2]]
  â†³ app/views/rooms/_notifications.html.erb:4
  Rendered rooms/_notifications.html.erb (Duration: 4.7ms | Allocations: 1348)
  [1m[36mRoom Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 AND "rooms"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:39:in `has_joined_room'
  Rendered rooms/_joinable_link.html.erb (Duration: 2.5ms | Allocations: 984)
  Rendered rooms/_last_message.html.erb (Duration: 0.8ms | Allocations: 182)
  Rendered rooms/_room.html.erb (Duration: 9.0ms | Allocations: 2886)
  Rendered rooms/_rooms.html.erb (Duration: 15.9ms | Allocations: 5451)
  Rendered messages/_pager.html.erb (Duration: 0.8ms | Allocations: 890)
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 2.0ms | Allocations: 1094)
  [1m[36mActiveStorage::Attachment Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 221], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 3.0ms | Allocations: 1779)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.7ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 222], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.2ms | Allocations: 1042)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.7ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 223], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.1ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.3ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 224], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.1ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.6ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 225], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.5ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.6ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 226], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 3.2ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 2.4ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 227], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.9ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.8ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 228], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.3ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.5ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 229], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 3.3ms | Allocations: 1112)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 2.1ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 230], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.3ms | Allocations: 1040)
  Rendered collection of messages/_message.html.erb [10 times] (Duration: 83.8ms | Allocations: 37458)
  Rendered layouts/_new_message_form.html.erb (Duration: 1.8ms | Allocations: 464)
  Rendered rooms/index.html.erb within layouts/application (Duration: 171.6ms | Allocations: 71158)
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 16)
  Rendered layout layouts/application.html.erb (Duration: 195.7ms | Allocations: 104204)
Completed 200 OK in 296ms (Views: 178.5ms | ActiveRecord: 41.0ms | Allocations: 141298)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhaakoxZG1ZNVkzWm5kMnQ2Y1d4elluRTNlVEJxYW1wNmNXUmthZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVDJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SWtGa2JXbHVJRkJoY25RZ055NXdibWNpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjBGa2JXbHVKVEl3VUdGeWRDVXlNRGN1Y0c1bkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSU9hVzFoWjJVdmNHNW5CanNHVkRvUmMyVnlkbWxqWlY5dVlXMWxPZ3BzYjJOaGJBPT0iLCJleHAiOiIyMDIyLTA3LTE1VDA3OjMzOjQwLjU3MloiLCJwdXIiOiJibG9iX2tleSJ9fQ==--14df619c426553a4d4e46049023e6b4d80ab111b/Admin%20Part%207.png" for ::1 at 2022-07-15 03:32:49 -0400
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhOWFIwWlRsb1ptOW1lbkkwTXpFNU1teDBPSFY2WTJjMGNIcDRid1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0wNy0xNVQwNzozMzo0MC42MTBaIiwicHVyIjoiYmxvYl9rZXkifX0=--0da82b0ad4db26730aca053c5974c36cd1327bb9/default_profile.jpg" for ::1 at 2022-07-15 03:32:49 -0400
Processing by ActiveStorage::DiskController#show as PNG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"Admin Part 7"}
Completed 304 Not Modified in 4ms (ActiveRecord: 0.0ms | Allocations: 587)


Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"default_profile"}
Completed 304 Not Modified in 1ms (ActiveRecord: 0.0ms | Allocations: 214)


Started GET "/cable" for ::1 at 2022-07-15 03:32:49 -0400
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-15 03:32:49 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:12:in `find_verified_user'
Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMg)
AppearanceChannel is transmitting the subscription confirmation
AppearanceChannel is streaming from appearance_channel
AppearanceChannel#online
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:35:in `broadcast_new_status'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:35:in `broadcast_new_status'
Started GET "/cable" for ::1 at 2022-07-15 03:32:49 -0400
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:35:in `broadcast_new_status'
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 74)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-15 03:32:49 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:12:in `find_verified_user'
Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMg)
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from user_status
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from users
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from rooms
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from Z2lkOi8vdHVyYm9jaGF0L1Jvb20vMQ
AppearanceChannel#online
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:35:in `broadcast_new_status'
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:35:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:35:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 42)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:35:in `broadcast_new_status'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:35:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:35:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:35:in `broadcast_new_status'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:35:in `broadcast_new_status'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:35:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Started GET "/rooms/1" for ::1 at 2022-07-15 03:32:57 -0400
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `set_current_user'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/rooms_controller.rb:68:in `set_status'
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:68:in `set_status'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/rooms_controller.rb:68:in `set_status'
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 98)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
  [1m[36mRoom Load (0.5ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:16:in `show'
  [1m[36mCACHE User Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:17:in `show'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 69)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
  [1m[36mMessage Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."room_id" = $1[0m  [["room_id", 1]]
  â†³ app/controllers/rooms_controller.rb:26:in `show'
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2 OFFSET $3[0m  [["room_id", 1], ["LIMIT", 10], ["OFFSET", 0]]
  â†³ app/controllers/rooms_controller.rb:27:in `show'
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/rooms_controller.rb:27:in `show'
  [1m[36mNotification Update All (0.6ms)[0m  [1m[33mUPDATE "notifications" SET "read_at" = $1 WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/1"},"_aj_symbol_keys":["room"]}') AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["read_at", "2022-07-15 07:32:57.796915"], ["recipient_type", "User"], ["recipient_id", 2]]
  â†³ app/controllers/rooms_controller.rb:73:in `set_notifications_to_read'
  Rendering layout layouts/application.html.erb
  Rendering rooms/index.html.erb within layouts/application
  Rendered shared/_message_error.html.erb (Duration: 0.1ms | Allocations: 22)
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.3ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 59)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1[0m  [["id", 2]]
  â†³ app/views/users/_users.html.erb:1
  [1m[36mRoom Load (0.5ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 ORDER BY "rooms"."id" ASC LIMIT $2[0m  [["name", "private_1_2"], ["LIMIT", 1]]
  â†³ app/views/users/_users.html.erb:4
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 3], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mCACHE Message Load (0.0ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 3], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mParticipant Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "participants" WHERE "participants"."room_id" = $1 AND "participants"."user_id" = $2 LIMIT $3[0m  [["room_id", 1], ["user_id", 1], ["LIMIT", 1]]
  â†³ app/models/room.rb:25:in `participant?'
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.3ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 1], ["variation_digest", "2LUGSpqeAxE2FTbZR5KExFsl26Y="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 53)
  Rendered users/_last_message.html.erb (Duration: 0.0ms | Allocations: 16)
  Rendered users/_user.html.erb (Duration: 17.5ms | Allocations: 7111)
  Rendered users/_users.html.erb (Duration: 25.6ms | Allocations: 10203)
  Rendered layouts/_new_room_form.html.erb (Duration: 0.1ms | Allocations: 28)
  Rendered rooms/_search_results.html.erb (Duration: 0.0ms | Allocations: 16)
  Rendered rooms/_search_form.html.erb (Duration: 1.2ms | Allocations: 836)
  [1m[36mRoom Load (0.7ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 ORDER BY last_message_at DESC[0m  [["user_id", 2]]
  â†³ app/views/rooms/_rooms.html.erb:1
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 1], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mNotification Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "notifications" WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/1"},"_aj_symbol_keys":["room"]}') AND "notifications"."type" = $1 AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["type", "MessageNotification"], ["recipient_type", "User"], ["recipient_id", 2]]
  â†³ app/views/rooms/_notifications.html.erb:4
  Rendered rooms/_notifications.html.erb (Duration: 3.8ms | Allocations: 1348)
  [1m[36mRoom Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 AND "rooms"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:39:in `has_joined_room'
  Rendered rooms/_joinable_link.html.erb (Duration: 3.2ms | Allocations: 989)
  Rendered rooms/_last_message.html.erb (Duration: 0.5ms | Allocations: 181)
  Rendered rooms/_room.html.erb (Duration: 8.6ms | Allocations: 2890)
  Rendered rooms/_rooms.html.erb (Duration: 15.9ms | Allocations: 5455)
  Rendered messages/_pager.html.erb (Duration: 1.1ms | Allocations: 896)
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 2.0ms | Allocations: 1094)
  [1m[36mActiveStorage::Attachment Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 221], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.8ms | Allocations: 1780)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.4ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 222], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.7ms | Allocations: 1042)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 2.0ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 223], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.0ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.2ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 224], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.4ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.3ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 225], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.1ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.4ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 226], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.7ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 2.1ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 227], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.4ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.8ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 228], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.8ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.3ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 229], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.0ms | Allocations: 1112)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.2ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 230], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 1.8ms | Allocations: 1040)
  Rendered collection of messages/_message.html.erb [10 times] (Duration: 70.2ms | Allocations: 37459)
  Rendered layouts/_new_message_form.html.erb (Duration: 1.1ms | Allocations: 464)
  Rendered rooms/index.html.erb within layouts/application (Duration: 154.5ms | Allocations: 71164)
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 16)
  Rendered layout layouts/application.html.erb (Duration: 173.0ms | Allocations: 104210)
Completed 200 OK in 304ms (Views: 156.3ms | ActiveRecord: 45.1ms | Allocations: 141285)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhaakoxZG1ZNVkzWm5kMnQ2Y1d4elluRTNlVEJxYW1wNmNXUmthZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVDJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SWtGa2JXbHVJRkJoY25RZ055NXdibWNpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjBGa2JXbHVKVEl3VUdGeWRDVXlNRGN1Y0c1bkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSU9hVzFoWjJVdmNHNW5CanNHVkRvUmMyVnlkbWxqWlY5dVlXMWxPZ3BzYjJOaGJBPT0iLCJleHAiOiIyMDIyLTA3LTE1VDA3OjMzOjQwLjU3MloiLCJwdXIiOiJibG9iX2tleSJ9fQ==--14df619c426553a4d4e46049023e6b4d80ab111b/Admin%20Part%207.png" for ::1 at 2022-07-15 03:32:58 -0400
Processing by ActiveStorage::DiskController#show as PNG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"Admin Part 7"}
Completed 304 Not Modified in 2ms (ActiveRecord: 0.0ms | Allocations: 503)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhOWFIwWlRsb1ptOW1lbkkwTXpFNU1teDBPSFY2WTJjMGNIcDRid1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0wNy0xNVQwNzozMzo0MC42MTBaIiwicHVyIjoiYmxvYl9rZXkifX0=--0da82b0ad4db26730aca053c5974c36cd1327bb9/default_profile.jpg" for ::1 at 2022-07-15 03:32:58 -0400
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"default_profile"}
Completed 304 Not Modified in 1ms (ActiveRecord: 0.0ms | Allocations: 214)


Started GET "/cable" for ::1 at 2022-07-15 03:32:58 -0400
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-15 03:32:58 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:12:in `find_verified_user'
Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMg)
AppearanceChannel is transmitting the subscription confirmation
AppearanceChannel is streaming from appearance_channel
Started GET "/cable" for ::1 at 2022-07-15 03:32:58 -0400
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-15 03:32:58 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:12:in `find_verified_user'
Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMg)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:35:in `broadcast_new_status'
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:35:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:35:in `broadcast_new_status'
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 62)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from user_status
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from users
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from rooms
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from Z2lkOi8vdHVyYm9jaGF0L1Jvb20vMQ
AppearanceChannel#online
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:35:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:35:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:35:in `broadcast_new_status'
  â†³ app/channels/appearance_channel.rb:35:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 40)
  [1m[36mUser Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
  â†³ app/channels/appearance_channel.rb:35:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:35:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 40)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:35:in `broadcast_new_status'
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:35:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:35:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:35:in `broadcast_new_status'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:35:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:35:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:35:in `broadcast_new_status'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:35:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:35:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Started GET "/rooms/1" for ::1 at 2022-07-15 03:33:11 -0400
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `set_current_user'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/rooms_controller.rb:68:in `set_status'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:68:in `set_status'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/rooms_controller.rb:68:in `set_status'
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 98)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:16:in `show'
  [1m[36mCACHE User Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:17:in `show'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 69)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
  [1m[36mMessage Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."room_id" = $1[0m  [["room_id", 1]]
  â†³ app/controllers/rooms_controller.rb:26:in `show'
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2 OFFSET $3[0m  [["room_id", 1], ["LIMIT", 10], ["OFFSET", 0]]
  â†³ app/controllers/rooms_controller.rb:27:in `show'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/rooms_controller.rb:27:in `show'
  [1m[36mNotification Update All (0.5ms)[0m  [1m[33mUPDATE "notifications" SET "read_at" = $1 WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/1"},"_aj_symbol_keys":["room"]}') AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["read_at", "2022-07-15 07:33:12.051588"], ["recipient_type", "User"], ["recipient_id", 2]]
  â†³ app/controllers/rooms_controller.rb:73:in `set_notifications_to_read'
  Rendering layout layouts/application.html.erb
  Rendering rooms/index.html.erb within layouts/application
  Rendered shared/_message_error.html.erb (Duration: 0.0ms | Allocations: 22)
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.3ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 59)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1[0m  [["id", 2]]
  â†³ app/views/users/_users.html.erb:1
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 ORDER BY "rooms"."id" ASC LIMIT $2[0m  [["name", "private_1_2"], ["LIMIT", 1]]
  â†³ app/views/users/_users.html.erb:4
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 3], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mCACHE Message Load (0.0ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 3], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mParticipant Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "participants" WHERE "participants"."room_id" = $1 AND "participants"."user_id" = $2 LIMIT $3[0m  [["room_id", 1], ["user_id", 1], ["LIMIT", 1]]
  â†³ app/models/room.rb:25:in `participant?'
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.3ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 1], ["variation_digest", "2LUGSpqeAxE2FTbZR5KExFsl26Y="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 53)
  Rendered users/_last_message.html.erb (Duration: 0.1ms | Allocations: 16)
  Rendered users/_user.html.erb (Duration: 17.9ms | Allocations: 7110)
  Rendered users/_users.html.erb (Duration: 25.7ms | Allocations: 10202)
  Rendered layouts/_new_room_form.html.erb (Duration: 0.1ms | Allocations: 28)
  Rendered rooms/_search_results.html.erb (Duration: 0.0ms | Allocations: 16)
  Rendered rooms/_search_form.html.erb (Duration: 1.1ms | Allocations: 835)
  [1m[36mRoom Load (0.8ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 ORDER BY last_message_at DESC[0m  [["user_id", 2]]
  â†³ app/views/rooms/_rooms.html.erb:1
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 1], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mNotification Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "notifications" WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/1"},"_aj_symbol_keys":["room"]}') AND "notifications"."type" = $1 AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["type", "MessageNotification"], ["recipient_type", "User"], ["recipient_id", 2]]
  â†³ app/views/rooms/_notifications.html.erb:4
  Rendered rooms/_notifications.html.erb (Duration: 3.3ms | Allocations: 1347)
  [1m[36mRoom Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 AND "rooms"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:39:in `has_joined_room'
  Rendered rooms/_joinable_link.html.erb (Duration: 2.5ms | Allocations: 984)
  Rendered rooms/_last_message.html.erb (Duration: 0.4ms | Allocations: 182)
  Rendered rooms/_room.html.erb (Duration: 7.2ms | Allocations: 2885)
  Rendered rooms/_rooms.html.erb (Duration: 14.1ms | Allocations: 5450)
  Rendered messages/_pager.html.erb (Duration: 0.6ms | Allocations: 902)
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.4ms | Allocations: 1094)
  [1m[36mActiveStorage::Attachment Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 221], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 3.3ms | Allocations: 1779)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 2.6ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 222], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.1ms | Allocations: 1042)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.2ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 223], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.0ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 2.6ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 224], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.4ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.8ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 225], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.9ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 2.8ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 226], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.4ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.4ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 227], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.1ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.1ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 2.5ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 228], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 3.2ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.4ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 229], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 25.2ms | Allocations: 1112)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.9ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 230], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 3.4ms | Allocations: 1040)
  Rendered collection of messages/_message.html.erb [10 times] (Duration: 103.8ms | Allocations: 37458)
  Rendered layouts/_new_message_form.html.erb (Duration: 1.3ms | Allocations: 464)
  Rendered rooms/index.html.erb within layouts/application (Duration: 186.5ms | Allocations: 71112)
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 16)
  Rendered layout layouts/application.html.erb (Duration: 208.9ms | Allocations: 104159)
Completed 200 OK in 309ms (Views: 190.9ms | ActiveRecord: 43.0ms | Allocations: 141137)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhaakoxZG1ZNVkzWm5kMnQ2Y1d4elluRTNlVEJxYW1wNmNXUmthZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVDJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SWtGa2JXbHVJRkJoY25RZ055NXdibWNpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjBGa2JXbHVKVEl3VUdGeWRDVXlNRGN1Y0c1bkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSU9hVzFoWjJVdmNHNW5CanNHVkRvUmMyVnlkbWxqWlY5dVlXMWxPZ3BzYjJOaGJBPT0iLCJleHAiOiIyMDIyLTA3LTE1VDA3OjMzOjQwLjU3MloiLCJwdXIiOiJibG9iX2tleSJ9fQ==--14df619c426553a4d4e46049023e6b4d80ab111b/Admin%20Part%207.png" for ::1 at 2022-07-15 03:33:12 -0400
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhOWFIwWlRsb1ptOW1lbkkwTXpFNU1teDBPSFY2WTJjMGNIcDRid1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0wNy0xNVQwNzozMzo0MC42MTBaIiwicHVyIjoiYmxvYl9rZXkifX0=--0da82b0ad4db26730aca053c5974c36cd1327bb9/default_profile.jpg" for ::1 at 2022-07-15 03:33:12 -0400
Processing by ActiveStorage::DiskController#show as PNG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"Admin Part 7"}
Completed 304 Not Modified in 4ms (ActiveRecord: 0.0ms | Allocations: 866)


Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"default_profile"}
Completed 304 Not Modified in 1ms (ActiveRecord: 0.0ms | Allocations: 369)


Started GET "/cable" for ::1 at 2022-07-15 03:33:12 -0400
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-15 03:33:12 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:12:in `find_verified_user'
Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMg)
AppearanceChannel is transmitting the subscription confirmation
AppearanceChannel is streaming from appearance_channel
Started GET "/cable" for ::1 at 2022-07-15 03:33:12 -0400
AppearanceChannel#online
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-15 03:33:12 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 62)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:12:in `find_verified_user'
Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMg)
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from user_status
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from users
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from rooms
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from Z2lkOi8vdHVyYm9jaGF0L1Jvb20vMQ
AppearanceChannel#online
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 40)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mUser Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mBEGIN[0m
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
  [1m[36mUser Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
Started POST "/rooms/1/messages" for ::1 at 2022-07-15 03:33:18 -0400
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 55)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Processing by MessagesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "message"=>{"attachments"=>[""], "body"=>"/dnd"}, "commit"=>"Send", "room_id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `set_current_user'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:62:in `dnd_manager'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:62:in `dnd_manager'
  [1m[36mUser Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "status" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2022-07-15 07:33:18.222087"], ["status", 3], ["id", 2]]
  â†³ app/controllers/messages_controller.rb:62:in `dnd_manager'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:62:in `dnd_manager'
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 69)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-danger\" id=\"user_2\"></div>\n</template></turbo-stream>"
No template found for MessagesController#create, rendering head :no_content
Completed 204 No Content in 19ms (ActiveRecord: 4.2ms | Allocations: 6481)


Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-danger\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 41)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mUser Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
Started POST "/rooms/1/messages" for ::1 at 2022-07-15 03:33:51 -0400
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 53)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Processing by MessagesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "message"=>{"attachments"=>[""], "body"=>"/dnd"}, "commit"=>"Send", "room_id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `set_current_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:62:in `dnd_manager'
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:62:in `dnd_manager'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:62:in `dnd_manager'
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.3ms | Allocations: 94)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-danger\" id=\"user_2\"></div>\n</template></turbo-stream>"
No template found for MessagesController#create, rendering head :no_content
Completed 204 No Content in 45ms (ActiveRecord: 9.7ms | Allocations: 18400)


Started GET "/rooms/1" for ::1 at 2022-07-15 03:33:52 -0400
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `set_current_user'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/rooms_controller.rb:68:in `set_status'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:68:in `set_status'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "status" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2022-07-15 07:33:52.375794"], ["status", 2], ["id", 2]]
  â†³ app/controllers/rooms_controller.rb:68:in `set_status'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/rooms_controller.rb:68:in `set_status'
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 73)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
  [1m[36mRoom Load (0.4ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:16:in `show'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/rooms_controller.rb:17:in `show'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:17:in `show'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/rooms_controller.rb:17:in `show'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 69)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
  [1m[36mMessage Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."room_id" = $1[0m  [["room_id", 1]]
  â†³ app/controllers/rooms_controller.rb:26:in `show'
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2 OFFSET $3[0m  [["room_id", 1], ["LIMIT", 10], ["OFFSET", 0]]
  â†³ app/controllers/rooms_controller.rb:27:in `show'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/rooms_controller.rb:27:in `show'
  [1m[36mNotification Update All (0.3ms)[0m  [1m[33mUPDATE "notifications" SET "read_at" = $1 WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/1"},"_aj_symbol_keys":["room"]}') AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["read_at", "2022-07-15 07:33:52.429695"], ["recipient_type", "User"], ["recipient_id", 2]]
  â†³ app/controllers/rooms_controller.rb:73:in `set_notifications_to_read'
  Rendering layout layouts/application.html.erb
  Rendering rooms/index.html.erb within layouts/application
  Rendered shared/_message_error.html.erb (Duration: 0.0ms | Allocations: 22)
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.3ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 59)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1[0m  [["id", 2]]
  â†³ app/views/users/_users.html.erb:1
  [1m[36mRoom Load (0.4ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 ORDER BY "rooms"."id" ASC LIMIT $2[0m  [["name", "private_1_2"], ["LIMIT", 1]]
  â†³ app/views/users/_users.html.erb:4
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 3], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mCACHE Message Load (0.0ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 3], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mParticipant Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "participants" WHERE "participants"."room_id" = $1 AND "participants"."user_id" = $2 LIMIT $3[0m  [["room_id", 1], ["user_id", 1], ["LIMIT", 1]]
  â†³ app/models/room.rb:25:in `participant?'
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.3ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 1], ["variation_digest", "2LUGSpqeAxE2FTbZR5KExFsl26Y="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 53)
  Rendered users/_last_message.html.erb (Duration: 0.0ms | Allocations: 16)
  Rendered users/_user.html.erb (Duration: 16.2ms | Allocations: 7111)
  Rendered users/_users.html.erb (Duration: 22.7ms | Allocations: 10203)
  Rendered layouts/_new_room_form.html.erb (Duration: 0.0ms | Allocations: 28)
  Rendered rooms/_search_results.html.erb (Duration: 0.0ms | Allocations: 16)
  Rendered rooms/_search_form.html.erb (Duration: 0.7ms | Allocations: 836)
  [1m[36mRoom Load (0.6ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 ORDER BY last_message_at DESC[0m  [["user_id", 2]]
  â†³ app/views/rooms/_rooms.html.erb:1
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 1], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mNotification Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "notifications" WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/1"},"_aj_symbol_keys":["room"]}') AND "notifications"."type" = $1 AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["type", "MessageNotification"], ["recipient_type", "User"], ["recipient_id", 2]]
  â†³ app/views/rooms/_notifications.html.erb:4
  Rendered rooms/_notifications.html.erb (Duration: 3.4ms | Allocations: 1348)
  [1m[36mRoom Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 AND "rooms"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:39:in `has_joined_room'
  Rendered rooms/_joinable_link.html.erb (Duration: 2.7ms | Allocations: 984)
  Rendered rooms/_last_message.html.erb (Duration: 0.4ms | Allocations: 181)
  Rendered rooms/_room.html.erb (Duration: 7.4ms | Allocations: 2885)
  Rendered rooms/_rooms.html.erb (Duration: 13.5ms | Allocations: 5450)
  Rendered messages/_pager.html.erb (Duration: 0.6ms | Allocations: 908)
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.2ms | Allocations: 1094)
  [1m[36mActiveStorage::Attachment Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 221], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.8ms | Allocations: 1779)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.5ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 222], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.4ms | Allocations: 1042)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.5ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 223], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 1.9ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.2ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 224], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 1.6ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 2.0ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 225], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.1ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.2ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 226], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.6ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.6ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 227], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 1.7ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.1ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 228], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 1.6ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.2ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 229], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 3.2ms | Allocations: 1112)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.5ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 230], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.0ms | Allocations: 1040)
  Rendered collection of messages/_message.html.erb [10 times] (Duration: 64.2ms | Allocations: 37455)
  Rendered layouts/_new_message_form.html.erb (Duration: 0.7ms | Allocations: 464)
  Rendered rooms/index.html.erb within layouts/application (Duration: 140.1ms | Allocations: 71165)
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 16)
  Rendered layout layouts/application.html.erb (Duration: 160.5ms | Allocations: 104211)
Completed 200 OK in 231ms (Views: 143.9ms | ActiveRecord: 32.1ms | Allocations: 130651)


Started GET "/rails/active_storage/representations/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDUT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--10fd4699f19e65e41e57dc0c4d8052c5b6224e13/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdCem9MWm05eWJXRjBTU0lJY0c1bkJqb0dSVlE2RkhKbGMybDZaVjkwYjE5c2FXMXBkRnNIYVRkcE53PT0iLCJleHAiOm51bGwsInB1ciI6InZhcmlhdGlvbiJ9fQ==--10cd12dda4766ef711b13e56db032a47fae0911d/Admin%20Part%207.png" for ::1 at 2022-07-15 03:33:52 -0400
Processing by ActiveStorage::Representations::RedirectController#show as PNG
  Parameters: {"signed_blob_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDUT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--10fd4699f19e65e41e57dc0c4d8052c5b6224e13", "variation_key"=>"[FILTERED]", "filename"=>"Admin Part 7"}
Started GET "/rails/active_storage/representations/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--758538ea0401eddfb27db21a61b40545e294fba7/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdCem9MWm05eWJXRjBTU0lJYW5CbkJqb0dSVlE2RkhKbGMybDZaVjkwYjE5c2FXMXBkRnNIYVRkcE53PT0iLCJleHAiOm51bGwsInB1ciI6InZhcmlhdGlvbiJ9fQ==--7c67a13b9fd72c703fa320aa1af6cdefe07ca623/default_profile.jpg" for ::1 at 2022-07-15 03:33:52 -0400
  [1m[36mActiveStorage::Blob Load (1.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mActiveStorage::VariantRecord Load (1.2ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.9ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.9ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
[36m  Disk Storage (1.0ms) [0m[34mGenerated URL for file at key: f2uvf9cvgwkzqlsbq7y0jjjzqddj (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhaakoxZG1ZNVkzWm5kMnQ2Y1d4elluRTNlVEJxYW1wNmNXUmthZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVDJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SWtGa2JXbHVJRkJoY25RZ055NXdibWNpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjBGa2JXbHVKVEl3VUdGeWRDVXlNRGN1Y0c1bkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSU9hVzFoWjJVdmNHNW5CanNHVkRvUmMyVnlkbWxqWlY5dVlXMWxPZ3BzYjJOaGJBPT0iLCJleHAiOiIyMDIyLTA3LTE1VDA3OjM4OjUyLjc1M1oiLCJwdXIiOiJibG9iX2tleSJ9fQ==--08b52c3ad46fc3d17152cb701b7451905e5db2be/Admin%20Part%207.png)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhaakoxZG1ZNVkzWm5kMnQ2Y1d4elluRTNlVEJxYW1wNmNXUmthZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVDJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SWtGa2JXbHVJRkJoY25RZ055NXdibWNpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjBGa2JXbHVKVEl3VUdGeWRDVXlNRGN1Y0c1bkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSU9hVzFoWjJVdmNHNW5CanNHVkRvUmMyVnlkbWxqWlY5dVlXMWxPZ3BzYjJOaGJBPT0iLCJleHAiOiIyMDIyLTA3LTE1VDA3OjM4OjUyLjc1M1oiLCJwdXIiOiJibG9iX2tleSJ9fQ==--08b52c3ad46fc3d17152cb701b7451905e5db2be/Admin%20Part%207.png
Completed 302 Found in 29ms (ActiveRecord: 4.2ms | Allocations: 6256)


Processing by ActiveStorage::Representations::RedirectController#show as JPEG
  Parameters: {"signed_blob_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--758538ea0401eddfb27db21a61b40545e294fba7", "variation_key"=>"[FILTERED]", "filename"=>"default_profile"}
  [1m[36mActiveStorage::Blob Load (1.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::VariantRecord Load (1.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 1], ["variation_digest", "2LUGSpqeAxE2FTbZR5KExFsl26Y="], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (1.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.7ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[36m  Disk Storage (0.6ms) [0m[34mGenerated URL for file at key: 5tte9hfofzr43192lt8uzcg4pzxo (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhOWFIwWlRsb1ptOW1lbkkwTXpFNU1teDBPSFY2WTJjMGNIcDRid1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0wNy0xNVQwNzozODo1Mi43OTdaIiwicHVyIjoiYmxvYl9rZXkifX0=--5a9087d0b8fd18b344a95edec683544a97e95bcd/default_profile.jpg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhOWFIwWlRsb1ptOW1lbkkwTXpFNU1teDBPSFY2WTJjMGNIcDRid1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0wNy0xNVQwNzozODo1Mi43OTdaIiwicHVyIjoiYmxvYl9rZXkifX0=--5a9087d0b8fd18b344a95edec683544a97e95bcd/default_profile.jpg
Completed 302 Found in 25ms (ActiveRecord: 4.3ms | Allocations: 5944)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhaakoxZG1ZNVkzWm5kMnQ2Y1d4elluRTNlVEJxYW1wNmNXUmthZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVDJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SWtGa2JXbHVJRkJoY25RZ055NXdibWNpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjBGa2JXbHVKVEl3VUdGeWRDVXlNRGN1Y0c1bkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSU9hVzFoWjJVdmNHNW5CanNHVkRvUmMyVnlkbWxqWlY5dVlXMWxPZ3BzYjJOaGJBPT0iLCJleHAiOiIyMDIyLTA3LTE1VDA3OjM4OjUyLjc1M1oiLCJwdXIiOiJibG9iX2tleSJ9fQ==--08b52c3ad46fc3d17152cb701b7451905e5db2be/Admin%20Part%207.png" for ::1 at 2022-07-15 03:33:52 -0400
Processing by ActiveStorage::DiskController#show as PNG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"Admin Part 7"}
Completed 200 OK in 2ms (ActiveRecord: 0.0ms | Allocations: 359)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhOWFIwWlRsb1ptOW1lbkkwTXpFNU1teDBPSFY2WTJjMGNIcDRid1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0wNy0xNVQwNzozODo1Mi43OTdaIiwicHVyIjoiYmxvYl9rZXkifX0=--5a9087d0b8fd18b344a95edec683544a97e95bcd/default_profile.jpg" for ::1 at 2022-07-15 03:33:52 -0400
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"default_profile"}
Completed 200 OK in 1ms (ActiveRecord: 0.0ms | Allocations: 199)


Started GET "/cable" for ::1 at 2022-07-15 03:33:52 -0400
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-15 03:33:52 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:12:in `find_verified_user'
Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMg)
AppearanceChannel is transmitting the subscription confirmation
AppearanceChannel is streaming from appearance_channel
AppearanceChannel#online
Started GET "/cable" for ::1 at 2022-07-15 03:33:52 -0400
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-15 03:33:52 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:12:in `find_verified_user'
Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMg)
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from user_status
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from users
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from rooms
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from Z2lkOi8vdHVyYm9jaGF0L1Jvb20vMQ
AppearanceChannel#online
AppearanceChannel#online
AppearanceChannel#online
AppearanceChannel#online
AppearanceChannel#online
AppearanceChannel#online
AppearanceChannel#online
AppearanceChannel#online
AppearanceChannel#online
Started POST "/rooms/1/messages" for ::1 at 2022-07-15 03:33:54 -0400
Processing by MessagesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "message"=>{"attachments"=>[""], "body"=>"/dnd"}, "commit"=>"Send", "room_id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `set_current_user'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:62:in `dnd_manager'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:62:in `dnd_manager'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "status" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2022-07-15 07:33:54.592811"], ["status", 3], ["id", 2]]
  â†³ app/controllers/messages_controller.rb:62:in `dnd_manager'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:62:in `dnd_manager'
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 73)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-danger\" id=\"user_2\"></div>\n</template></turbo-stream>"
No template found for MessagesController#create, rendering head :no_content
Completed 204 No Content in 18ms (ActiveRecord: 3.8ms | Allocations: 6065)


Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-danger\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
AppearanceChannel#online
AppearanceChannel#online
Started GET "/rooms/1" for ::1 at 2022-07-15 03:33:55 -0400
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `set_current_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/rooms_controller.rb:68:in `set_status'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:68:in `set_status'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "status" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2022-07-15 07:33:55.951595"], ["status", 2], ["id", 2]]
  â†³ app/controllers/rooms_controller.rb:68:in `set_status'
  [1m[36mTRANSACTION (5.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/rooms_controller.rb:68:in `set_status'
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 53)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
  [1m[36mRoom Load (0.6ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:16:in `show'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/rooms_controller.rb:17:in `show'
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:17:in `show'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/rooms_controller.rb:17:in `show'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 49)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
  [1m[36mMessage Count (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."room_id" = $1[0m  [["room_id", 1]]
  â†³ app/controllers/rooms_controller.rb:26:in `show'
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2 OFFSET $3[0m  [["room_id", 1], ["LIMIT", 10], ["OFFSET", 0]]
  â†³ app/controllers/rooms_controller.rb:27:in `show'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/rooms_controller.rb:27:in `show'
  [1m[36mNotification Update All (0.6ms)[0m  [1m[33mUPDATE "notifications" SET "read_at" = $1 WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/1"},"_aj_symbol_keys":["room"]}') AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["read_at", "2022-07-15 07:33:55.983677"], ["recipient_type", "User"], ["recipient_id", 2]]
  â†³ app/controllers/rooms_controller.rb:73:in `set_notifications_to_read'
  Rendering layout layouts/application.html.erb
  Rendering rooms/index.html.erb within layouts/application
  Rendered shared/_message_error.html.erb (Duration: 0.0ms | Allocations: 16)
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.3ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 47)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1[0m  [["id", 2]]
  â†³ app/views/users/_users.html.erb:1
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 ORDER BY "rooms"."id" ASC LIMIT $2[0m  [["name", "private_1_2"], ["LIMIT", 1]]
  â†³ app/views/users/_users.html.erb:4
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 3], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mCACHE Message Load (0.0ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 3], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mParticipant Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "participants" WHERE "participants"."room_id" = $1 AND "participants"."user_id" = $2 LIMIT $3[0m  [["room_id", 1], ["user_id", 1], ["LIMIT", 1]]
  â†³ app/models/room.rb:25:in `participant?'
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.3ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 1], ["variation_digest", "2LUGSpqeAxE2FTbZR5KExFsl26Y="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 47)
  Rendered users/_last_message.html.erb (Duration: 0.0ms | Allocations: 15)
  Rendered users/_user.html.erb (Duration: 9.6ms | Allocations: 3959)
  Rendered users/_users.html.erb (Duration: 16.6ms | Allocations: 6920)
  Rendered layouts/_new_room_form.html.erb (Duration: 0.0ms | Allocations: 20)
  Rendered rooms/_search_results.html.erb (Duration: 0.0ms | Allocations: 15)
  Rendered rooms/_search_form.html.erb (Duration: 0.7ms | Allocations: 831)
  [1m[36mRoom Load (0.6ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 ORDER BY last_message_at DESC[0m  [["user_id", 2]]
  â†³ app/views/rooms/_rooms.html.erb:1
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 1], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mNotification Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "notifications" WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/1"},"_aj_symbol_keys":["room"]}') AND "notifications"."type" = $1 AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["type", "MessageNotification"], ["recipient_type", "User"], ["recipient_id", 2]]
  â†³ app/views/rooms/_notifications.html.erb:4
  Rendered rooms/_notifications.html.erb (Duration: 3.4ms | Allocations: 885)
  [1m[36mRoom Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 AND "rooms"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:39:in `has_joined_room'
  Rendered rooms/_joinable_link.html.erb (Duration: 2.2ms | Allocations: 840)
  Rendered rooms/_last_message.html.erb (Duration: 0.4ms | Allocations: 138)
  Rendered rooms/_room.html.erb (Duration: 7.0ms | Allocations: 2201)
  Rendered rooms/_rooms.html.erb (Duration: 13.4ms | Allocations: 4689)
  Rendered messages/_pager.html.erb (Duration: 0.2ms | Allocations: 120)
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.8ms | Allocations: 1081)
  [1m[36mActiveStorage::Attachment Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 221], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.3ms | Allocations: 1034)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.4ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 222], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.2ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 2.2ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 223], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.3ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.2ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 224], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 1.9ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.8ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 225], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 1.9ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 2.3ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 226], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.2ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.4ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 227], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.1ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.7ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 228], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 1.5ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.3ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 229], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.5ms | Allocations: 1112)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.9ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 230], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.5ms | Allocations: 1040)
  Rendered collection of messages/_message.html.erb [10 times] (Duration: 68.8ms | Allocations: 36589)
  Rendered layouts/_new_message_form.html.erb (Duration: 1.2ms | Allocations: 415)
  Rendered rooms/index.html.erb within layouts/application (Duration: 109.9ms | Allocations: 53077)
  Rendered layouts/_navbar.html.erb (Duration: 0.0ms | Allocations: 15)
  Rendered layout layouts/application.html.erb (Duration: 112.8ms | Allocations: 55328)
Completed 200 OK in 153ms (Views: 103.0ms | ActiveRecord: 20.8ms | Allocations: 69273)


Finished "/cable/" [WebSocket] for ::1 at 2022-07-15 03:33:56 -0400
AppearanceChannel stopped streaming from appearance_channel
Finished "/cable/" [WebSocket] for ::1 at 2022-07-15 03:33:56 -0400
Turbo::StreamsChannel stopped streaming from user_status
Turbo::StreamsChannel stopped streaming from users
Turbo::StreamsChannel stopped streaming from rooms
Turbo::StreamsChannel stopped streaming from Z2lkOi8vdHVyYm9jaGF0L1Jvb20vMQ
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhaakoxZG1ZNVkzWm5kMnQ2Y1d4elluRTNlVEJxYW1wNmNXUmthZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVDJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SWtGa2JXbHVJRkJoY25RZ055NXdibWNpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjBGa2JXbHVKVEl3VUdGeWRDVXlNRGN1Y0c1bkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSU9hVzFoWjJVdmNHNW5CanNHVkRvUmMyVnlkbWxqWlY5dVlXMWxPZ3BzYjJOaGJBPT0iLCJleHAiOiIyMDIyLTA3LTE1VDA3OjM4OjUyLjc1M1oiLCJwdXIiOiJibG9iX2tleSJ9fQ==--08b52c3ad46fc3d17152cb701b7451905e5db2be/Admin%20Part%207.png" for ::1 at 2022-07-15 03:33:56 -0400
Processing by ActiveStorage::DiskController#show as PNG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"Admin Part 7"}
Completed 304 Not Modified in 1ms (ActiveRecord: 0.0ms | Allocations: 226)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhOWFIwWlRsb1ptOW1lbkkwTXpFNU1teDBPSFY2WTJjMGNIcDRid1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0wNy0xNVQwNzozODo1Mi43OTdaIiwicHVyIjoiYmxvYl9rZXkifX0=--5a9087d0b8fd18b344a95edec683544a97e95bcd/default_profile.jpg" for ::1 at 2022-07-15 03:33:56 -0400
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"default_profile"}
Completed 304 Not Modified in 2ms (ActiveRecord: 0.0ms | Allocations: 228)


Started GET "/cable" for ::1 at 2022-07-15 03:33:56 -0400
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-15 03:33:56 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:12:in `find_verified_user'
Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMg)
Started GET "/cable" for ::1 at 2022-07-15 03:33:56 -0400
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-15 03:33:56 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:12:in `find_verified_user'
Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMg)
AppearanceChannel is transmitting the subscription confirmation
AppearanceChannel is streaming from appearance_channel
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from user_status
AppearanceChannel#online
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from users
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from rooms
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from Z2lkOi8vdHVyYm9jaGF0L1Jvb20vMQ
AppearanceChannel#online
AppearanceChannel#online
AppearanceChannel#online
AppearanceChannel#online
AppearanceChannel#online
AppearanceChannel#online
AppearanceChannel#online
AppearanceChannel#online
Started POST "/rooms/1/messages" for ::1 at 2022-07-15 03:34:06 -0400
Processing by MessagesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "message"=>{"attachments"=>[""], "body"=>"/dnd"}, "commit"=>"Send", "room_id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `set_current_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:62:in `dnd_manager'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:62:in `dnd_manager'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "status" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2022-07-15 07:34:06.950502"], ["status", 3], ["id", 2]]
  â†³ app/controllers/messages_controller.rb:62:in `dnd_manager'
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:62:in `dnd_manager'
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 53)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-danger\" id=\"user_2\"></div>\n</template></turbo-stream>"
No template found for MessagesController#create, rendering head :no_content
Completed 204 No Content in 17ms (ActiveRecord: 3.6ms | Allocations: 5802)


Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-danger\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
AppearanceChannel#online
AppearanceChannel#online
AppearanceChannel#online
AppearanceChannel#online
AppearanceChannel#online
AppearanceChannel#online
AppearanceChannel#online
AppearanceChannel#online
AppearanceChannel#online
AppearanceChannel#online
AppearanceChannel#online
AppearanceChannel#online
AppearanceChannel#online
Started GET "/rooms/1" for ::1 at 2022-07-15 03:34:12 -0400
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `set_current_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/rooms_controller.rb:68:in `set_status'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:68:in `set_status'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "status" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2022-07-15 07:34:12.639089"], ["status", 2], ["id", 2]]
  â†³ app/controllers/rooms_controller.rb:68:in `set_status'
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/rooms_controller.rb:68:in `set_status'
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 53)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
  [1m[36mRoom Load (0.9ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:16:in `show'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/rooms_controller.rb:17:in `show'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:17:in `show'
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/rooms_controller.rb:17:in `show'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 49)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
  [1m[36mMessage Count (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."room_id" = $1[0m  [["room_id", 1]]
  â†³ app/controllers/rooms_controller.rb:26:in `show'
  [1m[36mMessage Load (0.6ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2 OFFSET $3[0m  [["room_id", 1], ["LIMIT", 10], ["OFFSET", 0]]
  â†³ app/controllers/rooms_controller.rb:27:in `show'
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/rooms_controller.rb:27:in `show'
  [1m[36mNotification Update All (0.6ms)[0m  [1m[33mUPDATE "notifications" SET "read_at" = $1 WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/1"},"_aj_symbol_keys":["room"]}') AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["read_at", "2022-07-15 07:34:12.665978"], ["recipient_type", "User"], ["recipient_id", 2]]
  â†³ app/controllers/rooms_controller.rb:73:in `set_notifications_to_read'
  Rendering layout layouts/application.html.erb
  Rendering rooms/index.html.erb within layouts/application
  Rendered shared/_message_error.html.erb (Duration: 0.0ms | Allocations: 16)
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.5ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 47)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1[0m  [["id", 2]]
  â†³ app/views/users/_users.html.erb:1
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 ORDER BY "rooms"."id" ASC LIMIT $2[0m  [["name", "private_1_2"], ["LIMIT", 1]]
  â†³ app/views/users/_users.html.erb:4
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 3], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mCACHE Message Load (0.0ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 3], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mParticipant Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "participants" WHERE "participants"."room_id" = $1 AND "participants"."user_id" = $2 LIMIT $3[0m  [["room_id", 1], ["user_id", 1], ["LIMIT", 1]]
  â†³ app/models/room.rb:25:in `participant?'
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.3ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 1], ["variation_digest", "2LUGSpqeAxE2FTbZR5KExFsl26Y="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 47)
  Rendered users/_last_message.html.erb (Duration: 0.1ms | Allocations: 15)
  Rendered users/_user.html.erb (Duration: 10.3ms | Allocations: 3948)
  Rendered users/_users.html.erb (Duration: 16.7ms | Allocations: 6897)
  Rendered layouts/_new_room_form.html.erb (Duration: 0.0ms | Allocations: 20)
  Rendered rooms/_search_results.html.erb (Duration: 0.0ms | Allocations: 15)
  Rendered rooms/_search_form.html.erb (Duration: 0.8ms | Allocations: 813)
  [1m[36mRoom Load (0.6ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 ORDER BY last_message_at DESC[0m  [["user_id", 2]]
  â†³ app/views/rooms/_rooms.html.erb:1
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 1], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mNotification Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "notifications" WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/1"},"_aj_symbol_keys":["room"]}') AND "notifications"."type" = $1 AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["type", "MessageNotification"], ["recipient_type", "User"], ["recipient_id", 2]]
  â†³ app/views/rooms/_notifications.html.erb:4
  Rendered rooms/_notifications.html.erb (Duration: 2.5ms | Allocations: 884)
  [1m[36mRoom Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 AND "rooms"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:39:in `has_joined_room'
  Rendered rooms/_joinable_link.html.erb (Duration: 2.5ms | Allocations: 835)
  Rendered rooms/_last_message.html.erb (Duration: 0.3ms | Allocations: 106)
  Rendered rooms/_room.html.erb (Duration: 6.2ms | Allocations: 2163)
  Rendered rooms/_rooms.html.erb (Duration: 11.4ms | Allocations: 4643)
  Rendered messages/_pager.html.erb (Duration: 0.2ms | Allocations: 115)
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.2ms | Allocations: 1081)
  [1m[36mActiveStorage::Attachment Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 221], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.2ms | Allocations: 1033)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.6ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 222], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.8ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.4ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 223], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.5ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 2.0ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 224], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.0ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.2ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 225], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.5ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.6ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 226], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 1.9ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.4ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 227], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 1.7ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.8ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 228], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 3.2ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.6ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 229], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.4ms | Allocations: 1112)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.3ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 230], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 1.9ms | Allocations: 1040)
  Rendered collection of messages/_message.html.erb [10 times] (Duration: 71.6ms | Allocations: 36530)
  Rendered layouts/_new_message_form.html.erb (Duration: 0.7ms | Allocations: 400)
  Rendered rooms/index.html.erb within layouts/application (Duration: 109.9ms | Allocations: 52745)
  Rendered layouts/_navbar.html.erb (Duration: 0.0ms | Allocations: 15)
  Rendered layout layouts/application.html.erb (Duration: 112.6ms | Allocations: 54967)
Completed 200 OK in 150ms (Views: 101.5ms | ActiveRecord: 20.6ms | Allocations: 68727)


Finished "/cable/" [WebSocket] for ::1 at 2022-07-15 03:34:12 -0400
Turbo::StreamsChannel stopped streaming from user_status
Turbo::StreamsChannel stopped streaming from users
Turbo::StreamsChannel stopped streaming from rooms
Turbo::StreamsChannel stopped streaming from Z2lkOi8vdHVyYm9jaGF0L1Jvb20vMQ
Finished "/cable/" [WebSocket] for ::1 at 2022-07-15 03:34:12 -0400
AppearanceChannel stopped streaming from appearance_channel
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhaakoxZG1ZNVkzWm5kMnQ2Y1d4elluRTNlVEJxYW1wNmNXUmthZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVDJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SWtGa2JXbHVJRkJoY25RZ055NXdibWNpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjBGa2JXbHVKVEl3VUdGeWRDVXlNRGN1Y0c1bkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSU9hVzFoWjJVdmNHNW5CanNHVkRvUmMyVnlkbWxqWlY5dVlXMWxPZ3BzYjJOaGJBPT0iLCJleHAiOiIyMDIyLTA3LTE1VDA3OjM4OjUyLjc1M1oiLCJwdXIiOiJibG9iX2tleSJ9fQ==--08b52c3ad46fc3d17152cb701b7451905e5db2be/Admin%20Part%207.png" for ::1 at 2022-07-15 03:34:12 -0400
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhOWFIwWlRsb1ptOW1lbkkwTXpFNU1teDBPSFY2WTJjMGNIcDRid1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0wNy0xNVQwNzozODo1Mi43OTdaIiwicHVyIjoiYmxvYl9rZXkifX0=--5a9087d0b8fd18b344a95edec683544a97e95bcd/default_profile.jpg" for ::1 at 2022-07-15 03:34:12 -0400
Processing by ActiveStorage::DiskController#show as PNG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"Admin Part 7"}
Completed 304 Not Modified in 4ms (ActiveRecord: 0.0ms | Allocations: 505)


Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"default_profile"}
Completed 304 Not Modified in 2ms (ActiveRecord: 0.0ms | Allocations: 271)


Started GET "/cable" for ::1 at 2022-07-15 03:34:13 -0400
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-15 03:34:13 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:12:in `find_verified_user'
Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMg)
Started GET "/cable" for ::1 at 2022-07-15 03:34:13 -0400
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-15 03:34:13 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
AppearanceChannel is transmitting the subscription confirmation
AppearanceChannel is streaming from appearance_channel
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:12:in `find_verified_user'
Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMg)
AppearanceChannel#online
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from user_status
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from users
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from rooms
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from Z2lkOi8vdHVyYm9jaGF0L1Jvb20vMQ
AppearanceChannel#online
AppearanceChannel#online
AppearanceChannel#online
AppearanceChannel#online
Started GET "/rooms/1" for ::1 at 2022-07-15 03:34:20 -0400
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `set_current_user'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/rooms_controller.rb:68:in `set_status'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:68:in `set_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/rooms_controller.rb:68:in `set_status'
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 98)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:16:in `show'
  [1m[36mCACHE User Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:17:in `show'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 69)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
  [1m[36mMessage Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."room_id" = $1[0m  [["room_id", 1]]
  â†³ app/controllers/rooms_controller.rb:26:in `show'
  [1m[36mMessage Load (0.7ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2 OFFSET $3[0m  [["room_id", 1], ["LIMIT", 10], ["OFFSET", 0]]
  â†³ app/controllers/rooms_controller.rb:27:in `show'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/rooms_controller.rb:27:in `show'
  [1m[36mNotification Update All (0.5ms)[0m  [1m[33mUPDATE "notifications" SET "read_at" = $1 WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/1"},"_aj_symbol_keys":["room"]}') AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["read_at", "2022-07-15 07:34:20.316538"], ["recipient_type", "User"], ["recipient_id", 2]]
  â†³ app/controllers/rooms_controller.rb:73:in `set_notifications_to_read'
  Rendering layout layouts/application.html.erb
  Rendering rooms/index.html.erb within layouts/application
  Rendered shared/_message_error.html.erb (Duration: 0.0ms | Allocations: 22)
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.5ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 59)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1[0m  [["id", 2]]
  â†³ app/views/users/_users.html.erb:1
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 ORDER BY "rooms"."id" ASC LIMIT $2[0m  [["name", "private_1_2"], ["LIMIT", 1]]
  â†³ app/views/users/_users.html.erb:4
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 3], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mCACHE Message Load (0.0ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 3], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mParticipant Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "participants" WHERE "participants"."room_id" = $1 AND "participants"."user_id" = $2 LIMIT $3[0m  [["room_id", 1], ["user_id", 1], ["LIMIT", 1]]
  â†³ app/models/room.rb:25:in `participant?'
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::Blob Load (0.6ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.5ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 1], ["variation_digest", "2LUGSpqeAxE2FTbZR5KExFsl26Y="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 53)
  Rendered users/_last_message.html.erb (Duration: 0.0ms | Allocations: 16)
  Rendered users/_user.html.erb (Duration: 50.9ms | Allocations: 7111)
  Rendered users/_users.html.erb (Duration: 59.6ms | Allocations: 10212)
  Rendered layouts/_new_room_form.html.erb (Duration: 0.1ms | Allocations: 28)
  Rendered rooms/_search_results.html.erb (Duration: 0.0ms | Allocations: 16)
  Rendered rooms/_search_form.html.erb (Duration: 0.9ms | Allocations: 836)
  [1m[36mRoom Load (0.8ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 ORDER BY last_message_at DESC[0m  [["user_id", 2]]
  â†³ app/views/rooms/_rooms.html.erb:1
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 1], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mNotification Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "notifications" WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/1"},"_aj_symbol_keys":["room"]}') AND "notifications"."type" = $1 AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["type", "MessageNotification"], ["recipient_type", "User"], ["recipient_id", 2]]
  â†³ app/views/rooms/_notifications.html.erb:4
  Rendered rooms/_notifications.html.erb (Duration: 4.1ms | Allocations: 1348)
  [1m[36mRoom Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 AND "rooms"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:39:in `has_joined_room'
  Rendered rooms/_joinable_link.html.erb (Duration: 3.9ms | Allocations: 984)
  Rendered rooms/_last_message.html.erb (Duration: 0.6ms | Allocations: 182)
  Rendered rooms/_room.html.erb (Duration: 9.7ms | Allocations: 2886)
  Rendered rooms/_rooms.html.erb (Duration: 20.7ms | Allocations: 5451)
  Rendered messages/_pager.html.erb (Duration: 1.0ms | Allocations: 914)
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 2.3ms | Allocations: 1094)
  [1m[36mActiveStorage::Attachment Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 221], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 3.8ms | Allocations: 1780)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.7ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 222], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.0ms | Allocations: 1042)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.2ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 223], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.0ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 2.1ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 224], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.8ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 2.7ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 225], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.7ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 2.0ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 226], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.6ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.5ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 227], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.7ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.3ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 228], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.5ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.1ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 229], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 3.7ms | Allocations: 1112)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.7ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 230], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.2ms | Allocations: 1040)
  Rendered collection of messages/_message.html.erb [10 times] (Duration: 80.4ms | Allocations: 37460)
  Rendered layouts/_new_message_form.html.erb (Duration: 1.0ms | Allocations: 464)
  Rendered rooms/index.html.erb within layouts/application (Duration: 205.9ms | Allocations: 71194)
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 16)
  Rendered layout layouts/application.html.erb (Duration: 227.5ms | Allocations: 104241)
Completed 200 OK in 329ms (Views: 206.9ms | ActiveRecord: 43.2ms | Allocations: 141375)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhaakoxZG1ZNVkzWm5kMnQ2Y1d4elluRTNlVEJxYW1wNmNXUmthZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVDJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SWtGa2JXbHVJRkJoY25RZ055NXdibWNpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjBGa2JXbHVKVEl3VUdGeWRDVXlNRGN1Y0c1bkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSU9hVzFoWjJVdmNHNW5CanNHVkRvUmMyVnlkbWxqWlY5dVlXMWxPZ3BzYjJOaGJBPT0iLCJleHAiOiIyMDIyLTA3LTE1VDA3OjM4OjUyLjc1M1oiLCJwdXIiOiJibG9iX2tleSJ9fQ==--08b52c3ad46fc3d17152cb701b7451905e5db2be/Admin%20Part%207.png" for ::1 at 2022-07-15 03:34:20 -0400
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhOWFIwWlRsb1ptOW1lbkkwTXpFNU1teDBPSFY2WTJjMGNIcDRid1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0wNy0xNVQwNzozODo1Mi43OTdaIiwicHVyIjoiYmxvYl9rZXkifX0=--5a9087d0b8fd18b344a95edec683544a97e95bcd/default_profile.jpg" for ::1 at 2022-07-15 03:34:20 -0400
Processing by ActiveStorage::DiskController#show as PNG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"Admin Part 7"}
Completed 304 Not Modified in 5ms (ActiveRecord: 0.0ms | Allocations: 706)


Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"default_profile"}
Completed 304 Not Modified in 2ms (ActiveRecord: 0.0ms | Allocations: 219)


Started GET "/cable" for ::1 at 2022-07-15 03:34:20 -0400
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-15 03:34:20 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:12:in `find_verified_user'
Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMg)
Started GET "/cable" for ::1 at 2022-07-15 03:34:20 -0400
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-15 03:34:20 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:12:in `find_verified_user'
Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMg)
AppearanceChannel is transmitting the subscription confirmation
AppearanceChannel is streaming from appearance_channel
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from user_status
AppearanceChannel#online
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
Turbo::StreamsChannel is transmitting the subscription confirmation
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
Turbo::StreamsChannel is streaming from users
  [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 62)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from rooms
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from Z2lkOi8vdHVyYm9jaGF0L1Jvb20vMQ
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mUser Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
AppearanceChannel#online
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 40)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Started POST "/rooms/1/messages" for ::1 at 2022-07-15 03:34:22 -0400
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Processing by MessagesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "message"=>{"attachments"=>[""], "body"=>"/dnd"}, "commit"=>"Send", "room_id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `set_current_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:62:in `dnd_manager'
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:62:in `dnd_manager'
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "status" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2022-07-15 07:34:22.818352"], ["status", 3], ["id", 2]]
  â†³ app/controllers/messages_controller.rb:62:in `dnd_manager'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:62:in `dnd_manager'
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 73)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-danger\" id=\"user_2\"></div>\n</template></turbo-stream>"
No template found for MessagesController#create, rendering head :no_content
Completed 204 No Content in 19ms (ActiveRecord: 4.2ms | Allocations: 6486)


Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-danger\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 41)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
AppearanceChannel#online
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mBEGIN[0m
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Started POST "/rooms/1/messages" for ::1 at 2022-07-15 03:35:01 -0400
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Processing by MessagesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "message"=>{"attachments"=>[""], "body"=>"/dnd"}, "commit"=>"Send", "room_id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `set_current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:62:in `dnd_manager'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:62:in `dnd_manager'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:62:in `dnd_manager'
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 98)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-danger\" id=\"user_2\"></div>\n</template></turbo-stream>"
No template found for MessagesController#create, rendering head :no_content
Completed 204 No Content in 41ms (ActiveRecord: 9.7ms | Allocations: 18339)


Started GET "/rooms/1" for ::1 at 2022-07-15 03:35:02 -0400
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `set_current_user'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/rooms_controller.rb:68:in `set_status'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:68:in `set_status'
  [1m[36mUser Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "status" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2022-07-15 07:35:02.382772"], ["status", 2], ["id", 2]]
  â†³ app/controllers/rooms_controller.rb:68:in `set_status'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/rooms_controller.rb:68:in `set_status'
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 73)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:16:in `show'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/rooms_controller.rb:17:in `show'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:17:in `show'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/rooms_controller.rb:17:in `show'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 69)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
  [1m[36mMessage Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."room_id" = $1[0m  [["room_id", 1]]
  â†³ app/controllers/rooms_controller.rb:26:in `show'
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2 OFFSET $3[0m  [["room_id", 1], ["LIMIT", 10], ["OFFSET", 0]]
  â†³ app/controllers/rooms_controller.rb:27:in `show'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/rooms_controller.rb:27:in `show'
  [1m[36mNotification Update All (0.4ms)[0m  [1m[33mUPDATE "notifications" SET "read_at" = $1 WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/1"},"_aj_symbol_keys":["room"]}') AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["read_at", "2022-07-15 07:35:02.434681"], ["recipient_type", "User"], ["recipient_id", 2]]
  â†³ app/controllers/rooms_controller.rb:73:in `set_notifications_to_read'
  Rendering layout layouts/application.html.erb
  Rendering rooms/index.html.erb within layouts/application
  Rendered shared/_message_error.html.erb (Duration: 0.0ms | Allocations: 22)
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.3ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 59)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1[0m  [["id", 2]]
  â†³ app/views/users/_users.html.erb:1
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 ORDER BY "rooms"."id" ASC LIMIT $2[0m  [["name", "private_1_2"], ["LIMIT", 1]]
  â†³ app/views/users/_users.html.erb:4
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 3], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mCACHE Message Load (0.0ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 3], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mParticipant Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "participants" WHERE "participants"."room_id" = $1 AND "participants"."user_id" = $2 LIMIT $3[0m  [["room_id", 1], ["user_id", 1], ["LIMIT", 1]]
  â†³ app/models/room.rb:25:in `participant?'
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.4ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 1], ["variation_digest", "2LUGSpqeAxE2FTbZR5KExFsl26Y="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 53)
  Rendered users/_last_message.html.erb (Duration: 0.0ms | Allocations: 16)
  Rendered users/_user.html.erb (Duration: 18.2ms | Allocations: 7111)
  Rendered users/_users.html.erb (Duration: 24.7ms | Allocations: 10203)
  Rendered layouts/_new_room_form.html.erb (Duration: 0.1ms | Allocations: 28)
  Rendered rooms/_search_results.html.erb (Duration: 0.0ms | Allocations: 16)
  Rendered rooms/_search_form.html.erb (Duration: 0.9ms | Allocations: 836)
  [1m[36mRoom Load (0.5ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 ORDER BY last_message_at DESC[0m  [["user_id", 2]]
  â†³ app/views/rooms/_rooms.html.erb:1
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 1], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mNotification Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "notifications" WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/1"},"_aj_symbol_keys":["room"]}') AND "notifications"."type" = $1 AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["type", "MessageNotification"], ["recipient_type", "User"], ["recipient_id", 2]]
  â†³ app/views/rooms/_notifications.html.erb:4
  Rendered rooms/_notifications.html.erb (Duration: 3.5ms | Allocations: 1347)
  [1m[36mRoom Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 AND "rooms"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:39:in `has_joined_room'
  Rendered rooms/_joinable_link.html.erb (Duration: 2.7ms | Allocations: 984)
  Rendered rooms/_last_message.html.erb (Duration: 0.4ms | Allocations: 181)
  Rendered rooms/_room.html.erb (Duration: 7.9ms | Allocations: 2884)
  Rendered rooms/_rooms.html.erb (Duration: 15.7ms | Allocations: 5449)
  Rendered messages/_pager.html.erb (Duration: 21.7ms | Allocations: 920)
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 2.6ms | Allocations: 1094)
  [1m[36mActiveStorage::Attachment Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 221], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 4.2ms | Allocations: 1780)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 2.2ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 222], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.7ms | Allocations: 1042)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.5ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 223], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.2ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.3ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 224], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.1ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.5ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 225], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.1ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.7ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 226], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.1ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.4ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 227], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 1.9ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.5ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 228], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.4ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.4ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 229], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.7ms | Allocations: 1112)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.9ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 230], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 3.1ms | Allocations: 1040)
  Rendered collection of messages/_message.html.erb [10 times] (Duration: 77.8ms | Allocations: 37459)
  Rendered layouts/_new_message_form.html.erb (Duration: 1.1ms | Allocations: 464)
  Rendered rooms/index.html.erb within layouts/application (Duration: 176.6ms | Allocations: 71156)
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 16)
  Rendered layout layouts/application.html.erb (Duration: 198.8ms | Allocations: 104263)
Completed 200 OK in 268ms (Views: 180.7ms | ActiveRecord: 34.7ms | Allocations: 130702)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhaakoxZG1ZNVkzWm5kMnQ2Y1d4elluRTNlVEJxYW1wNmNXUmthZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVDJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SWtGa2JXbHVJRkJoY25RZ055NXdibWNpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjBGa2JXbHVKVEl3VUdGeWRDVXlNRGN1Y0c1bkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSU9hVzFoWjJVdmNHNW5CanNHVkRvUmMyVnlkbWxqWlY5dVlXMWxPZ3BzYjJOaGJBPT0iLCJleHAiOiIyMDIyLTA3LTE1VDA3OjM4OjUyLjc1M1oiLCJwdXIiOiJibG9iX2tleSJ9fQ==--08b52c3ad46fc3d17152cb701b7451905e5db2be/Admin%20Part%207.png" for ::1 at 2022-07-15 03:35:02 -0400
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhOWFIwWlRsb1ptOW1lbkkwTXpFNU1teDBPSFY2WTJjMGNIcDRid1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0wNy0xNVQwNzozODo1Mi43OTdaIiwicHVyIjoiYmxvYl9rZXkifX0=--5a9087d0b8fd18b344a95edec683544a97e95bcd/default_profile.jpg" for ::1 at 2022-07-15 03:35:02 -0400
Processing by ActiveStorage::DiskController#show as PNG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"Admin Part 7"}
Completed 304 Not Modified in 3ms (ActiveRecord: 0.0ms | Allocations: 588)


Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"default_profile"}
Completed 304 Not Modified in 1ms (ActiveRecord: 0.0ms | Allocations: 215)


Started GET "/cable" for ::1 at 2022-07-15 03:35:02 -0400
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-15 03:35:02 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:12:in `find_verified_user'
Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMg)
Started GET "/cable" for ::1 at 2022-07-15 03:35:02 -0400
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-15 03:35:02 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:12:in `find_verified_user'
Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMg)
AppearanceChannel is transmitting the subscription confirmation
AppearanceChannel is streaming from appearance_channel
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from user_status
AppearanceChannel#online
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
Turbo::StreamsChannel is transmitting the subscription confirmation
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
Turbo::StreamsChannel is streaming from users
  [1m[36mActiveStorage::Attachment Load (0.8ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 62)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from Z2lkOi8vdHVyYm9jaGF0L1Jvb20vMQ
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from rooms
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 40)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Started POST "/rooms/1/messages" for ::1 at 2022-07-15 03:35:05 -0400
Processing by MessagesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "message"=>{"attachments"=>[""], "body"=>"/dnd"}, "commit"=>"Send", "room_id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `set_current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:62:in `dnd_manager'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:62:in `dnd_manager'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "status" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2022-07-15 07:35:05.840102"], ["status", 3], ["id", 2]]
  â†³ app/controllers/messages_controller.rb:62:in `dnd_manager'
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:62:in `dnd_manager'
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 53)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-danger\" id=\"user_2\"></div>\n</template></turbo-stream>"
No template found for MessagesController#create, rendering head :no_content
Completed 204 No Content in 16ms (ActiveRecord: 3.6ms | Allocations: 5943)


Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-danger\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 41)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Started GET "/rooms/1" for ::1 at 2022-07-15 03:35:18 -0400
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `set_current_user'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/rooms_controller.rb:68:in `set_status'
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:68:in `set_status'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "status" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2022-07-15 07:35:18.716664"], ["status", 2], ["id", 2]]
  â†³ app/controllers/rooms_controller.rb:68:in `set_status'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/rooms_controller.rb:68:in `set_status'
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 98)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:16:in `show'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/rooms_controller.rb:17:in `show'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:17:in `show'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/rooms_controller.rb:17:in `show'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 69)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
  [1m[36mMessage Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."room_id" = $1[0m  [["room_id", 1]]
  â†³ app/controllers/rooms_controller.rb:26:in `show'
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2 OFFSET $3[0m  [["room_id", 1], ["LIMIT", 10], ["OFFSET", 0]]
  â†³ app/controllers/rooms_controller.rb:27:in `show'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/rooms_controller.rb:27:in `show'
  [1m[36mNotification Update All (0.5ms)[0m  [1m[33mUPDATE "notifications" SET "read_at" = $1 WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/1"},"_aj_symbol_keys":["room"]}') AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["read_at", "2022-07-15 07:35:18.788858"], ["recipient_type", "User"], ["recipient_id", 2]]
  â†³ app/controllers/rooms_controller.rb:73:in `set_notifications_to_read'
  Rendering layout layouts/application.html.erb
  Rendering rooms/index.html.erb within layouts/application
  Rendered shared/_message_error.html.erb (Duration: 0.0ms | Allocations: 22)
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.5ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 59)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1[0m  [["id", 2]]
  â†³ app/views/users/_users.html.erb:1
  [1m[36mRoom Load (0.4ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 ORDER BY "rooms"."id" ASC LIMIT $2[0m  [["name", "private_1_2"], ["LIMIT", 1]]
  â†³ app/views/users/_users.html.erb:4
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 3], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mCACHE Message Load (0.0ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 3], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mParticipant Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "participants" WHERE "participants"."room_id" = $1 AND "participants"."user_id" = $2 LIMIT $3[0m  [["room_id", 1], ["user_id", 1], ["LIMIT", 1]]
  â†³ app/models/room.rb:25:in `participant?'
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.3ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 1], ["variation_digest", "2LUGSpqeAxE2FTbZR5KExFsl26Y="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 53)
  Rendered users/_last_message.html.erb (Duration: 0.0ms | Allocations: 16)
  Rendered users/_user.html.erb (Duration: 16.7ms | Allocations: 7111)
  Rendered users/_users.html.erb (Duration: 23.3ms | Allocations: 10203)
  Rendered layouts/_new_room_form.html.erb (Duration: 0.1ms | Allocations: 28)
  Rendered rooms/_search_results.html.erb (Duration: 0.0ms | Allocations: 16)
  Rendered rooms/_search_form.html.erb (Duration: 0.8ms | Allocations: 836)
  [1m[36mRoom Load (0.6ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 ORDER BY last_message_at DESC[0m  [["user_id", 2]]
  â†³ app/views/rooms/_rooms.html.erb:1
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 1], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mNotification Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "notifications" WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/1"},"_aj_symbol_keys":["room"]}') AND "notifications"."type" = $1 AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["type", "MessageNotification"], ["recipient_type", "User"], ["recipient_id", 2]]
  â†³ app/views/rooms/_notifications.html.erb:4
  Rendered rooms/_notifications.html.erb (Duration: 3.8ms | Allocations: 1348)
  [1m[36mRoom Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 AND "rooms"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:39:in `has_joined_room'
  Rendered rooms/_joinable_link.html.erb (Duration: 3.0ms | Allocations: 984)
  Rendered rooms/_last_message.html.erb (Duration: 0.5ms | Allocations: 182)
  Rendered rooms/_room.html.erb (Duration: 8.4ms | Allocations: 2886)
  Rendered rooms/_rooms.html.erb (Duration: 14.6ms | Allocations: 5451)
  Rendered messages/_pager.html.erb (Duration: 0.7ms | Allocations: 926)
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.3ms | Allocations: 1094)
  [1m[36mActiveStorage::Attachment Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 221], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.5ms | Allocations: 1780)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.3ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 222], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 1.9ms | Allocations: 1042)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 2.5ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 223], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 1.7ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.2ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 224], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 1.8ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.5ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 225], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 1.9ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.6ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 226], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 1.7ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.1ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 227], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.4ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.8ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 228], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 22.4ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.7ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 229], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.4ms | Allocations: 1112)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.1ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 230], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 1.7ms | Allocations: 1040)
  Rendered collection of messages/_message.html.erb [10 times] (Duration: 85.3ms | Allocations: 37461)
  Rendered layouts/_new_message_form.html.erb (Duration: 1.4ms | Allocations: 464)
  Rendered rooms/index.html.erb within layouts/application (Duration: 162.4ms | Allocations: 71166)
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 16)
  Rendered layout layouts/application.html.erb (Duration: 186.2ms | Allocations: 104221)
Completed 200 OK in 284ms (Views: 169.9ms | ActiveRecord: 39.8ms | Allocations: 143173)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhOWFIwWlRsb1ptOW1lbkkwTXpFNU1teDBPSFY2WTJjMGNIcDRid1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0wNy0xNVQwNzozODo1Mi43OTdaIiwicHVyIjoiYmxvYl9rZXkifX0=--5a9087d0b8fd18b344a95edec683544a97e95bcd/default_profile.jpg" for ::1 at 2022-07-15 03:35:19 -0400
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhaakoxZG1ZNVkzWm5kMnQ2Y1d4elluRTNlVEJxYW1wNmNXUmthZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVDJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SWtGa2JXbHVJRkJoY25RZ055NXdibWNpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjBGa2JXbHVKVEl3VUdGeWRDVXlNRGN1Y0c1bkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSU9hVzFoWjJVdmNHNW5CanNHVkRvUmMyVnlkbWxqWlY5dVlXMWxPZ3BzYjJOaGJBPT0iLCJleHAiOiIyMDIyLTA3LTE1VDA3OjM4OjUyLjc1M1oiLCJwdXIiOiJibG9iX2tleSJ9fQ==--08b52c3ad46fc3d17152cb701b7451905e5db2be/Admin%20Part%207.png" for ::1 at 2022-07-15 03:35:19 -0400
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"default_profile"}
Processing by ActiveStorage::DiskController#show as PNG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"Admin Part 7"}
Completed 304 Not Modified in 8ms (ActiveRecord: 0.0ms | Allocations: 1510)


Completed 304 Not Modified in 6ms (ActiveRecord: 0.0ms | Allocations: 1298)


Started GET "/cable" for ::1 at 2022-07-15 03:35:19 -0400
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-15 03:35:19 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:12:in `find_verified_user'
Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMg)
Started GET "/cable" for ::1 at 2022-07-15 03:35:19 -0400
AppearanceChannel is transmitting the subscription confirmation
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-15 03:35:19 -0400
AppearanceChannel is streaming from appearance_channel
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:12:in `find_verified_user'
Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMg)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
Turbo::StreamsChannel is transmitting the subscription confirmation
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
Turbo::StreamsChannel is streaming from user_status
  [1m[36mActiveStorage::Attachment Load (2.8ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 62)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from users
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from Z2lkOi8vdHVyYm9jaGF0L1Jvb20vMQ
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from rooms
AppearanceChannel#online
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 40)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (2.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Started GET "/rooms/1" for ::1 at 2022-07-15 03:35:42 -0400
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `set_current_user'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/rooms_controller.rb:68:in `set_status'
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:68:in `set_status'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/rooms_controller.rb:68:in `set_status'
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 98)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
  [1m[36mRoom Load (0.4ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:16:in `show'
  [1m[36mCACHE User Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:17:in `show'
  Rendered users/_status.html.erb (Duration: 0.4ms | Allocations: 69)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
  [1m[36mMessage Count (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."room_id" = $1[0m  [["room_id", 1]]
  â†³ app/controllers/rooms_controller.rb:26:in `show'
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2 OFFSET $3[0m  [["room_id", 1], ["LIMIT", 10], ["OFFSET", 0]]
  â†³ app/controllers/rooms_controller.rb:27:in `show'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/rooms_controller.rb:27:in `show'
  [1m[36mNotification Update All (0.5ms)[0m  [1m[33mUPDATE "notifications" SET "read_at" = $1 WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/1"},"_aj_symbol_keys":["room"]}') AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["read_at", "2022-07-15 07:35:42.660479"], ["recipient_type", "User"], ["recipient_id", 2]]
  â†³ app/controllers/rooms_controller.rb:73:in `set_notifications_to_read'
  Rendering layout layouts/application.html.erb
  Rendering rooms/index.html.erb within layouts/application
  Rendered shared/_message_error.html.erb (Duration: 0.0ms | Allocations: 22)
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.6ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 59)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1[0m  [["id", 2]]
  â†³ app/views/users/_users.html.erb:1
  [1m[36mRoom Load (0.5ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 ORDER BY "rooms"."id" ASC LIMIT $2[0m  [["name", "private_1_2"], ["LIMIT", 1]]
  â†³ app/views/users/_users.html.erb:4
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 3], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mCACHE Message Load (0.0ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 3], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mParticipant Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "participants" WHERE "participants"."room_id" = $1 AND "participants"."user_id" = $2 LIMIT $3[0m  [["room_id", 1], ["user_id", 1], ["LIMIT", 1]]
  â†³ app/models/room.rb:25:in `participant?'
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::Blob Load (0.8ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.5ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 1], ["variation_digest", "2LUGSpqeAxE2FTbZR5KExFsl26Y="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 53)
  Rendered users/_last_message.html.erb (Duration: 0.0ms | Allocations: 16)
  Rendered users/_user.html.erb (Duration: 27.0ms | Allocations: 7111)
  Rendered users/_users.html.erb (Duration: 36.2ms | Allocations: 10203)
  Rendered layouts/_new_room_form.html.erb (Duration: 0.1ms | Allocations: 28)
  Rendered rooms/_search_results.html.erb (Duration: 0.0ms | Allocations: 16)
  Rendered rooms/_search_form.html.erb (Duration: 1.0ms | Allocations: 836)
  [1m[36mRoom Load (0.6ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 ORDER BY last_message_at DESC[0m  [["user_id", 2]]
  â†³ app/views/rooms/_rooms.html.erb:1
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 1], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mNotification Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "notifications" WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/1"},"_aj_symbol_keys":["room"]}') AND "notifications"."type" = $1 AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["type", "MessageNotification"], ["recipient_type", "User"], ["recipient_id", 2]]
  â†³ app/views/rooms/_notifications.html.erb:4
  Rendered rooms/_notifications.html.erb (Duration: 4.4ms | Allocations: 1348)
  [1m[36mRoom Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 AND "rooms"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:39:in `has_joined_room'
  Rendered rooms/_joinable_link.html.erb (Duration: 3.8ms | Allocations: 984)
  Rendered rooms/_last_message.html.erb (Duration: 0.7ms | Allocations: 182)
  Rendered rooms/_room.html.erb (Duration: 10.5ms | Allocations: 2886)
  Rendered rooms/_rooms.html.erb (Duration: 18.9ms | Allocations: 5451)
  Rendered messages/_pager.html.erb (Duration: 1.1ms | Allocations: 932)
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.5ms | Allocations: 1094)
  [1m[36mActiveStorage::Attachment Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 221], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 4.5ms | Allocations: 1779)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 3.3ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 222], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.9ms | Allocations: 1042)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.7ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 223], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 3.9ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.6ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 224], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.8ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.8ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 225], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 4.0ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 2.0ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 226], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.3ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.3ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 227], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 3.7ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 2.1ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 228], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 3.2ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 4.2ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 229], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 4.0ms | Allocations: 1112)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.6ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 230], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 3.9ms | Allocations: 1040)
  Rendered collection of messages/_message.html.erb [10 times] (Duration: 103.5ms | Allocations: 37457)
  Rendered layouts/_new_message_form.html.erb (Duration: 1.2ms | Allocations: 464)
  Rendered rooms/index.html.erb within layouts/application (Duration: 208.1ms | Allocations: 71168)
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 16)
  Rendered layout layouts/application.html.erb (Duration: 260.9ms | Allocations: 104255)
Completed 200 OK in 380ms (Views: 238.1ms | ActiveRecord: 50.9ms | Allocations: 141226)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhaakoxZG1ZNVkzWm5kMnQ2Y1d4elluRTNlVEJxYW1wNmNXUmthZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVDJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SWtGa2JXbHVJRkJoY25RZ055NXdibWNpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjBGa2JXbHVKVEl3VUdGeWRDVXlNRGN1Y0c1bkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSU9hVzFoWjJVdmNHNW5CanNHVkRvUmMyVnlkbWxqWlY5dVlXMWxPZ3BzYjJOaGJBPT0iLCJleHAiOiIyMDIyLTA3LTE1VDA3OjM4OjUyLjc1M1oiLCJwdXIiOiJibG9iX2tleSJ9fQ==--08b52c3ad46fc3d17152cb701b7451905e5db2be/Admin%20Part%207.png" for ::1 at 2022-07-15 03:35:43 -0400
Processing by ActiveStorage::DiskController#show as PNG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"Admin Part 7"}
Completed 304 Not Modified in 3ms (ActiveRecord: 0.0ms | Allocations: 572)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhOWFIwWlRsb1ptOW1lbkkwTXpFNU1teDBPSFY2WTJjMGNIcDRid1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0wNy0xNVQwNzozODo1Mi43OTdaIiwicHVyIjoiYmxvYl9rZXkifX0=--5a9087d0b8fd18b344a95edec683544a97e95bcd/default_profile.jpg" for ::1 at 2022-07-15 03:35:43 -0400
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"default_profile"}
Completed 304 Not Modified in 2ms (ActiveRecord: 0.0ms | Allocations: 262)


Started GET "/cable" for ::1 at 2022-07-15 03:35:43 -0400
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-15 03:35:43 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:12:in `find_verified_user'
Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMg)
Started GET "/cable" for ::1 at 2022-07-15 03:35:43 -0400
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-15 03:35:43 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:12:in `find_verified_user'
Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMg)
AppearanceChannel is transmitting the subscription confirmation
AppearanceChannel is streaming from appearance_channel
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from user_status
AppearanceChannel#online
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:39:in `broadcast_new_status'
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
Turbo::StreamsChannel is transmitting the subscription confirmation
  â†³ app/channels/appearance_channel.rb:39:in `broadcast_new_status'
Turbo::StreamsChannel is streaming from users
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:39:in `broadcast_new_status'
  [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 62)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from Z2lkOi8vdHVyYm9jaGF0L1Jvb20vMQ
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from rooms
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:39:in `broadcast_new_status'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:39:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:39:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:39:in `broadcast_new_status'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:39:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:39:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:39:in `broadcast_new_status'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:39:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:39:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:39:in `broadcast_new_status'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:39:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:39:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:39:in `broadcast_new_status'
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:39:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:39:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:39:in `broadcast_new_status'
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:39:in `broadcast_new_status'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:39:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
AppearanceChannel#online
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:39:in `broadcast_new_status'
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
Started POST "/rooms/1/messages" for ::1 at 2022-07-15 03:35:48 -0400
  â†³ app/channels/appearance_channel.rb:39:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:39:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 54)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Processing by MessagesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "message"=>{"attachments"=>[""], "body"=>"/dnd"}, "commit"=>"Send", "room_id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `set_current_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:62:in `dnd_manager'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:62:in `dnd_manager'
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "status" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2022-07-15 07:35:48.998283"], ["status", 3], ["id", 2]]
  â†³ app/controllers/messages_controller.rb:62:in `dnd_manager'
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:62:in `dnd_manager'
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 69)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-danger\" id=\"user_2\"></div>\n</template></turbo-stream>"
No template found for MessagesController#create, rendering head :no_content
Completed 204 No Content in 19ms (ActiveRecord: 3.8ms | Allocations: 6498)


Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-danger\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:39:in `broadcast_new_status'
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:39:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:39:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 42)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:39:in `broadcast_new_status'
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:39:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:39:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:39:in `broadcast_new_status'
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:39:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:39:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:39:in `broadcast_new_status'
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:39:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:39:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Started GET "/rooms/1" for ::1 at 2022-07-15 03:36:28 -0400
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `set_current_user'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/rooms_controller.rb:68:in `set_status'
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:68:in `set_status'
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "status" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2022-07-15 07:36:28.934188"], ["status", 2], ["id", 2]]
  â†³ app/controllers/rooms_controller.rb:68:in `set_status'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/rooms_controller.rb:68:in `set_status'
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.3ms | Allocations: 98)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
  [1m[36mRoom Load (0.4ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:16:in `show'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/rooms_controller.rb:17:in `show'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:17:in `show'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/rooms_controller.rb:17:in `show'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 69)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
  [1m[36mMessage Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."room_id" = $1[0m  [["room_id", 1]]
  â†³ app/controllers/rooms_controller.rb:26:in `show'
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2 OFFSET $3[0m  [["room_id", 1], ["LIMIT", 10], ["OFFSET", 0]]
  â†³ app/controllers/rooms_controller.rb:27:in `show'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/rooms_controller.rb:27:in `show'
  [1m[36mNotification Update All (0.8ms)[0m  [1m[33mUPDATE "notifications" SET "read_at" = $1 WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/1"},"_aj_symbol_keys":["room"]}') AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["read_at", "2022-07-15 07:36:29.017525"], ["recipient_type", "User"], ["recipient_id", 2]]
  â†³ app/controllers/rooms_controller.rb:73:in `set_notifications_to_read'
  Rendering layout layouts/application.html.erb
  Rendering rooms/index.html.erb within layouts/application
  Rendered shared/_message_error.html.erb (Duration: 0.1ms | Allocations: 22)
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.3ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 59)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1[0m  [["id", 2]]
  â†³ app/views/users/_users.html.erb:1
  [1m[36mRoom Load (0.5ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 ORDER BY "rooms"."id" ASC LIMIT $2[0m  [["name", "private_1_2"], ["LIMIT", 1]]
  â†³ app/views/users/_users.html.erb:4
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 3], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mCACHE Message Load (0.0ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 3], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mParticipant Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "participants" WHERE "participants"."room_id" = $1 AND "participants"."user_id" = $2 LIMIT $3[0m  [["room_id", 1], ["user_id", 1], ["LIMIT", 1]]
  â†³ app/models/room.rb:25:in `participant?'
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.2ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 1], ["variation_digest", "2LUGSpqeAxE2FTbZR5KExFsl26Y="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 53)
  Rendered users/_last_message.html.erb (Duration: 0.1ms | Allocations: 16)
  Rendered users/_user.html.erb (Duration: 17.7ms | Allocations: 7111)
  Rendered users/_users.html.erb (Duration: 26.9ms | Allocations: 10203)
  Rendered layouts/_new_room_form.html.erb (Duration: 0.1ms | Allocations: 28)
  Rendered rooms/_search_results.html.erb (Duration: 0.0ms | Allocations: 16)
  Rendered rooms/_search_form.html.erb (Duration: 0.9ms | Allocations: 836)
  [1m[36mRoom Load (0.7ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 ORDER BY last_message_at DESC[0m  [["user_id", 2]]
  â†³ app/views/rooms/_rooms.html.erb:1
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 1], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mNotification Count (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "notifications" WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/1"},"_aj_symbol_keys":["room"]}') AND "notifications"."type" = $1 AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["type", "MessageNotification"], ["recipient_type", "User"], ["recipient_id", 2]]
  â†³ app/views/rooms/_notifications.html.erb:4
  Rendered rooms/_notifications.html.erb (Duration: 4.6ms | Allocations: 1348)
  [1m[36mRoom Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 AND "rooms"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:39:in `has_joined_room'
  Rendered rooms/_joinable_link.html.erb (Duration: 4.4ms | Allocations: 984)
  Rendered rooms/_last_message.html.erb (Duration: 0.4ms | Allocations: 182)
  Rendered rooms/_room.html.erb (Duration: 10.4ms | Allocations: 2886)
  Rendered rooms/_rooms.html.erb (Duration: 17.2ms | Allocations: 5451)
  Rendered messages/_pager.html.erb (Duration: 0.7ms | Allocations: 938)
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.4ms | Allocations: 1094)
  [1m[36mActiveStorage::Attachment Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 221], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 3.4ms | Allocations: 1779)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 2.6ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 222], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.6ms | Allocations: 1042)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 3.2ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 223], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 3.0ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.2ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 224], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.3ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.6ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 225], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.8ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.5ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 226], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.4ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 2.4ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 227], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 3.3ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 2.7ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 228], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.6ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 2.1ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 229], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.8ms | Allocations: 1112)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 3.4ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 230], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.7ms | Allocations: 1040)
  Rendered collection of messages/_message.html.erb [10 times] (Duration: 114.5ms | Allocations: 37459)
  Rendered layouts/_new_message_form.html.erb (Duration: 1.5ms | Allocations: 464)
  Rendered rooms/index.html.erb within layouts/application (Duration: 205.0ms | Allocations: 71203)
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 16)
  Rendered layout layouts/application.html.erb (Duration: 232.9ms | Allocations: 104250)
Completed 200 OK in 347ms (Views: 213.4ms | ActiveRecord: 48.7ms | Allocations: 143261)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhaakoxZG1ZNVkzWm5kMnQ2Y1d4elluRTNlVEJxYW1wNmNXUmthZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVDJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SWtGa2JXbHVJRkJoY25RZ055NXdibWNpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjBGa2JXbHVKVEl3VUdGeWRDVXlNRGN1Y0c1bkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSU9hVzFoWjJVdmNHNW5CanNHVkRvUmMyVnlkbWxqWlY5dVlXMWxPZ3BzYjJOaGJBPT0iLCJleHAiOiIyMDIyLTA3LTE1VDA3OjM4OjUyLjc1M1oiLCJwdXIiOiJibG9iX2tleSJ9fQ==--08b52c3ad46fc3d17152cb701b7451905e5db2be/Admin%20Part%207.png" for ::1 at 2022-07-15 03:36:29 -0400
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhOWFIwWlRsb1ptOW1lbkkwTXpFNU1teDBPSFY2WTJjMGNIcDRid1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0wNy0xNVQwNzozODo1Mi43OTdaIiwicHVyIjoiYmxvYl9rZXkifX0=--5a9087d0b8fd18b344a95edec683544a97e95bcd/default_profile.jpg" for ::1 at 2022-07-15 03:36:29 -0400
Processing by ActiveStorage::DiskController#show as PNG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"Admin Part 7"}
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"default_profile"}
Completed 304 Not Modified in 5ms (ActiveRecord: 0.0ms | Allocations: 1016)


Completed 304 Not Modified in 1ms (ActiveRecord: 0.0ms | Allocations: 306)


Started GET "/cable" for ::1 at 2022-07-15 03:36:29 -0400
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-15 03:36:29 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:16:in `find_verified_user'
Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMg)
Started GET "/cable" for ::1 at 2022-07-15 03:36:29 -0400
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-15 03:36:29 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:16:in `find_verified_user'
Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMg)
AppearanceChannel is transmitting the subscription confirmation
AppearanceChannel is streaming from appearance_channel
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from user_status
AppearanceChannel#online
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from users
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 62)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from Z2lkOi8vdHVyYm9jaGF0L1Jvb20vMQ
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from rooms
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 40)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.3ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
  [1m[36mUser Exists? (2.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
Started POST "/rooms/1/messages" for ::1 at 2022-07-15 03:36:31 -0400
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Processing by MessagesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "message"=>{"attachments"=>[""], "body"=>"/dnd"}, "commit"=>"Send", "room_id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `set_current_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:62:in `dnd_manager'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:62:in `dnd_manager'
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "status" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2022-07-15 07:36:31.925748"], ["status", 3], ["id", 2]]
  â†³ app/controllers/messages_controller.rb:62:in `dnd_manager'
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:62:in `dnd_manager'
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.3ms | Allocations: 73)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-danger\" id=\"user_2\"></div>\n</template></turbo-stream>"
No template found for MessagesController#create, rendering head :no_content
Completed 204 No Content in 20ms (ActiveRecord: 4.5ms | Allocations: 6456)


Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-danger\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 41)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Started GET "/rooms/1" for ::1 at 2022-07-15 03:36:37 -0400
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `set_current_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/rooms_controller.rb:68:in `set_status'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:68:in `set_status'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "status" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2022-07-15 07:36:37.112684"], ["status", 2], ["id", 2]]
  â†³ app/controllers/rooms_controller.rb:68:in `set_status'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/rooms_controller.rb:68:in `set_status'
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 53)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
  [1m[36mRoom Load (1.0ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:16:in `show'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/rooms_controller.rb:17:in `show'
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:17:in `show'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
  â†³ app/controllers/rooms_controller.rb:17:in `show'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 49)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
  [1m[36mMessage Count (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."room_id" = $1[0m  [["room_id", 1]]
  â†³ app/controllers/rooms_controller.rb:26:in `show'
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2 OFFSET $3[0m  [["room_id", 1], ["LIMIT", 10], ["OFFSET", 0]]
  â†³ app/controllers/rooms_controller.rb:27:in `show'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/rooms_controller.rb:27:in `show'
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
  [1m[36mNotification Update All (0.8ms)[0m  [1m[33mUPDATE "notifications" SET "read_at" = $1 WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/1"},"_aj_symbol_keys":["room"]}') AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["read_at", "2022-07-15 07:36:37.145421"], ["recipient_type", "User"], ["recipient_id", 2]]
  â†³ app/controllers/rooms_controller.rb:73:in `set_notifications_to_read'
  Rendering layout layouts/application.html.erb
  Rendering rooms/index.html.erb within layouts/application
  Rendered shared/_message_error.html.erb (Duration: 0.1ms | Allocations: 16)
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.3ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 47)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1[0m  [["id", 2]]
  â†³ app/views/users/_users.html.erb:1
  [1m[36mRoom Load (0.4ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 ORDER BY "rooms"."id" ASC LIMIT $2[0m  [["name", "private_1_2"], ["LIMIT", 1]]
  â†³ app/views/users/_users.html.erb:4
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 3], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mCACHE Message Load (0.0ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 3], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mParticipant Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "participants" WHERE "participants"."room_id" = $1 AND "participants"."user_id" = $2 LIMIT $3[0m  [["room_id", 1], ["user_id", 1], ["LIMIT", 1]]
  â†³ app/models/room.rb:25:in `participant?'
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.2ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 1], ["variation_digest", "2LUGSpqeAxE2FTbZR5KExFsl26Y="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 47)
  Rendered users/_last_message.html.erb (Duration: 0.0ms | Allocations: 15)
  Rendered users/_user.html.erb (Duration: 10.0ms | Allocations: 3959)
  Rendered users/_users.html.erb (Duration: 16.6ms | Allocations: 6911)
  Rendered layouts/_new_room_form.html.erb (Duration: 0.1ms | Allocations: 20)
  Rendered rooms/_search_results.html.erb (Duration: 0.0ms | Allocations: 15)
  Rendered rooms/_search_form.html.erb (Duration: 0.8ms | Allocations: 831)
  [1m[36mRoom Load (0.5ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 ORDER BY last_message_at DESC[0m  [["user_id", 2]]
  â†³ app/views/rooms/_rooms.html.erb:1
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 1], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mNotification Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "notifications" WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/1"},"_aj_symbol_keys":["room"]}') AND "notifications"."type" = $1 AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["type", "MessageNotification"], ["recipient_type", "User"], ["recipient_id", 2]]
  â†³ app/views/rooms/_notifications.html.erb:4
  Rendered rooms/_notifications.html.erb (Duration: 3.4ms | Allocations: 885)
  [1m[36mRoom Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 AND "rooms"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:39:in `has_joined_room'
  Rendered rooms/_joinable_link.html.erb (Duration: 1.9ms | Allocations: 840)
  Rendered rooms/_last_message.html.erb (Duration: 0.3ms | Allocations: 138)
  Rendered rooms/_room.html.erb (Duration: 6.6ms | Allocations: 2201)
  Rendered rooms/_rooms.html.erb (Duration: 13.4ms | Allocations: 4688)
  Rendered messages/_pager.html.erb (Duration: 0.1ms | Allocations: 120)
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.4ms | Allocations: 1081)
  [1m[36mActiveStorage::Attachment Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 221], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.0ms | Allocations: 1034)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.5ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 222], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.5ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.7ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 223], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.0ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.3ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 224], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.7ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 2.0ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 225], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.6ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 2.7ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 226], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.2ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.3ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 227], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 3.2ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.5ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 228], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.0ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.2ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 229], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.0ms | Allocations: 1112)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.4ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 230], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.4ms | Allocations: 1040)
  Rendered collection of messages/_message.html.erb [10 times] (Duration: 73.7ms | Allocations: 36589)
  Rendered layouts/_new_message_form.html.erb (Duration: 1.3ms | Allocations: 415)
  Rendered rooms/index.html.erb within layouts/application (Duration: 116.5ms | Allocations: 53062)
  Rendered layouts/_navbar.html.erb (Duration: 0.0ms | Allocations: 15)
  Rendered layout layouts/application.html.erb (Duration: 120.1ms | Allocations: 55297)
Completed 200 OK in 164ms (Views: 108.8ms | ActiveRecord: 20.7ms | Allocations: 69212)


Finished "/cable/" [WebSocket] for ::1 at 2022-07-15 03:36:37 -0400
AppearanceChannel stopped streaming from appearance_channel
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
Finished "/cable/" [WebSocket] for ::1 at 2022-07-15 03:36:37 -0400
Turbo::StreamsChannel stopped streaming from user_status
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
Turbo::StreamsChannel stopped streaming from users
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
Turbo::StreamsChannel stopped streaming from Z2lkOi8vdHVyYm9jaGF0L1Jvb20vMQ
Turbo::StreamsChannel stopped streaming from rooms
  [1m[36mUser Update (1.1ms)[0m  [1m[33mUPDATE "users" SET "status" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["status", 0], ["updated_at", "2022-07-15 07:36:37.289593"], ["id", 2]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 41)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_2\"></div>\n</template></turbo-stream>"
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhaakoxZG1ZNVkzWm5kMnQ2Y1d4elluRTNlVEJxYW1wNmNXUmthZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVDJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SWtGa2JXbHVJRkJoY25RZ055NXdibWNpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjBGa2JXbHVKVEl3VUdGeWRDVXlNRGN1Y0c1bkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSU9hVzFoWjJVdmNHNW5CanNHVkRvUmMyVnlkbWxqWlY5dVlXMWxPZ3BzYjJOaGJBPT0iLCJleHAiOiIyMDIyLTA3LTE1VDA3OjM4OjUyLjc1M1oiLCJwdXIiOiJibG9iX2tleSJ9fQ==--08b52c3ad46fc3d17152cb701b7451905e5db2be/Admin%20Part%207.png" for ::1 at 2022-07-15 03:36:37 -0400
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhOWFIwWlRsb1ptOW1lbkkwTXpFNU1teDBPSFY2WTJjMGNIcDRid1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0wNy0xNVQwNzozODo1Mi43OTdaIiwicHVyIjoiYmxvYl9rZXkifX0=--5a9087d0b8fd18b344a95edec683544a97e95bcd/default_profile.jpg" for ::1 at 2022-07-15 03:36:37 -0400
Processing by ActiveStorage::DiskController#show as PNG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"Admin Part 7"}
Completed 304 Not Modified in 4ms (ActiveRecord: 0.0ms | Allocations: 278)


Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"default_profile"}
Completed 304 Not Modified in 3ms (ActiveRecord: 0.0ms | Allocations: 402)


Started GET "/cable" for ::1 at 2022-07-15 03:36:37 -0400
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-15 03:36:37 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:16:in `find_verified_user'
Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMg)
Started GET "/cable" for ::1 at 2022-07-15 03:36:37 -0400
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-15 03:36:37 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:16:in `find_verified_user'
Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMg)
AppearanceChannel is transmitting the subscription confirmation
AppearanceChannel is streaming from appearance_channel
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from user_status
AppearanceChannel#online
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
Turbo::StreamsChannel is transmitting the subscription confirmation
  [1m[36mUser Update (0.9ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "status" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2022-07-15 07:36:37.561439"], ["status", 2], ["id", 2]]
Turbo::StreamsChannel is streaming from users
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mActiveStorage::Attachment Load (1.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
Turbo::StreamsChannel is transmitting the subscription confirmation
  â†³ app/models/user.rb:60:in `add_default_avatar'
Turbo::StreamsChannel is streaming from Z2lkOi8vdHVyYm9jaGF0L1Jvb20vMQ
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 41)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from rooms
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.3ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Started GET "/rooms/1" for ::1 at 2022-07-15 03:37:56 -0400
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `set_current_user'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/rooms_controller.rb:68:in `set_status'
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:68:in `set_status'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/rooms_controller.rb:68:in `set_status'
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 98)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:16:in `show'
  [1m[36mCACHE User Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:17:in `show'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 69)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
  [1m[36mMessage Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."room_id" = $1[0m  [["room_id", 1]]
  â†³ app/controllers/rooms_controller.rb:26:in `show'
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2 OFFSET $3[0m  [["room_id", 1], ["LIMIT", 10], ["OFFSET", 0]]
  â†³ app/controllers/rooms_controller.rb:27:in `show'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/rooms_controller.rb:27:in `show'
  [1m[36mNotification Update All (0.9ms)[0m  [1m[33mUPDATE "notifications" SET "read_at" = $1 WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/1"},"_aj_symbol_keys":["room"]}') AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["read_at", "2022-07-15 07:37:57.075651"], ["recipient_type", "User"], ["recipient_id", 2]]
  â†³ app/controllers/rooms_controller.rb:73:in `set_notifications_to_read'
  Rendering layout layouts/application.html.erb
  Rendering rooms/index.html.erb within layouts/application
  Rendered shared/_message_error.html.erb (Duration: 0.0ms | Allocations: 22)
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.3ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 59)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1[0m  [["id", 2]]
  â†³ app/views/users/_users.html.erb:1
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 ORDER BY "rooms"."id" ASC LIMIT $2[0m  [["name", "private_1_2"], ["LIMIT", 1]]
  â†³ app/views/users/_users.html.erb:4
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 3], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mCACHE Message Load (0.0ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 3], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mParticipant Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "participants" WHERE "participants"."room_id" = $1 AND "participants"."user_id" = $2 LIMIT $3[0m  [["room_id", 1], ["user_id", 1], ["LIMIT", 1]]
  â†³ app/models/room.rb:25:in `participant?'
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.4ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 1], ["variation_digest", "2LUGSpqeAxE2FTbZR5KExFsl26Y="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 53)
  Rendered users/_last_message.html.erb (Duration: 0.0ms | Allocations: 16)
  Rendered users/_user.html.erb (Duration: 18.3ms | Allocations: 7111)
  Rendered users/_users.html.erb (Duration: 27.4ms | Allocations: 10203)
  Rendered layouts/_new_room_form.html.erb (Duration: 0.1ms | Allocations: 28)
  Rendered rooms/_search_results.html.erb (Duration: 0.1ms | Allocations: 16)
  Rendered rooms/_search_form.html.erb (Duration: 1.3ms | Allocations: 836)
  [1m[36mRoom Load (0.8ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 ORDER BY last_message_at DESC[0m  [["user_id", 2]]
  â†³ app/views/rooms/_rooms.html.erb:1
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 1], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mNotification Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "notifications" WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/1"},"_aj_symbol_keys":["room"]}') AND "notifications"."type" = $1 AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["type", "MessageNotification"], ["recipient_type", "User"], ["recipient_id", 2]]
  â†³ app/views/rooms/_notifications.html.erb:4
  Rendered rooms/_notifications.html.erb (Duration: 3.4ms | Allocations: 1348)
  [1m[36mRoom Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 AND "rooms"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:39:in `has_joined_room'
  Rendered rooms/_joinable_link.html.erb (Duration: 4.1ms | Allocations: 984)
  Rendered rooms/_last_message.html.erb (Duration: 0.4ms | Allocations: 182)
  Rendered rooms/_room.html.erb (Duration: 9.3ms | Allocations: 2886)
  Rendered rooms/_rooms.html.erb (Duration: 16.8ms | Allocations: 5451)
  Rendered messages/_pager.html.erb (Duration: 0.7ms | Allocations: 944)
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.8ms | Allocations: 1094)
  [1m[36mActiveStorage::Attachment Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 221], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 4.1ms | Allocations: 1779)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.2ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 222], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.9ms | Allocations: 1042)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 2.8ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 223], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.6ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.1ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.9ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 224], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.4ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.2ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 225], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.6ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.4ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 226], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 3.4ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.3ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 227], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 3.2ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 2.3ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 228], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.4ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.7ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 229], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.4ms | Allocations: 1112)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 2.4ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 230], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 3.1ms | Allocations: 1040)
  Rendered collection of messages/_message.html.erb [10 times] (Duration: 105.3ms | Allocations: 37459)
  Rendered layouts/_new_message_form.html.erb (Duration: 1.1ms | Allocations: 464)
  Rendered rooms/index.html.erb within layouts/application (Duration: 192.3ms | Allocations: 71208)
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 16)
  Rendered layout layouts/application.html.erb (Duration: 215.7ms | Allocations: 104255)
Completed 200 OK in 321ms (Views: 196.8ms | ActiveRecord: 43.9ms | Allocations: 141324)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhaakoxZG1ZNVkzWm5kMnQ2Y1d4elluRTNlVEJxYW1wNmNXUmthZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVDJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SWtGa2JXbHVJRkJoY25RZ055NXdibWNpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjBGa2JXbHVKVEl3VUdGeWRDVXlNRGN1Y0c1bkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSU9hVzFoWjJVdmNHNW5CanNHVkRvUmMyVnlkbWxqWlY5dVlXMWxPZ3BzYjJOaGJBPT0iLCJleHAiOiIyMDIyLTA3LTE1VDA3OjM4OjUyLjc1M1oiLCJwdXIiOiJibG9iX2tleSJ9fQ==--08b52c3ad46fc3d17152cb701b7451905e5db2be/Admin%20Part%207.png" for ::1 at 2022-07-15 03:37:57 -0400
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhOWFIwWlRsb1ptOW1lbkkwTXpFNU1teDBPSFY2WTJjMGNIcDRid1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0wNy0xNVQwNzozODo1Mi43OTdaIiwicHVyIjoiYmxvYl9rZXkifX0=--5a9087d0b8fd18b344a95edec683544a97e95bcd/default_profile.jpg" for ::1 at 2022-07-15 03:37:57 -0400
Processing by ActiveStorage::DiskController#show as PNG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"Admin Part 7"}
Completed 304 Not Modified in 4ms (ActiveRecord: 0.0ms | Allocations: 529)


Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"default_profile"}
Completed 304 Not Modified in 1ms (ActiveRecord: 0.0ms | Allocations: 214)


Started GET "/cable" for ::1 at 2022-07-15 03:37:57 -0400
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-15 03:37:57 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:12:in `find_verified_user'
Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMg)
AppearanceChannel is transmitting the subscription confirmation
AppearanceChannel is streaming from appearance_channel
Started GET "/cable" for ::1 at 2022-07-15 03:37:57 -0400
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-15 03:37:57 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:12:in `find_verified_user'
Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMg)
AppearanceChannel#online
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 62)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from user_status
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from users
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from rooms
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from Z2lkOi8vdHVyYm9jaGF0L1Jvb20vMQ
AppearanceChannel#online
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 40)
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 40)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
Started POST "/rooms/1/messages" for ::1 at 2022-07-15 03:37:59 -0400
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 57)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Processing by MessagesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "message"=>{"attachments"=>[""], "body"=>"/dnd"}, "commit"=>"Send", "room_id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `set_current_user'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:62:in `dnd_manager'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:62:in `dnd_manager'
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "status" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2022-07-15 07:37:59.622554"], ["status", 3], ["id", 2]]
  â†³ app/controllers/messages_controller.rb:62:in `dnd_manager'
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:62:in `dnd_manager'
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 69)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-danger\" id=\"user_2\"></div>\n</template></turbo-stream>"
No template found for MessagesController#create, rendering head :no_content
Completed 204 No Content in 20ms (ActiveRecord: 3.9ms | Allocations: 6462)


Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-danger\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
Started GET "/rooms/1" for ::1 at 2022-07-15 03:42:15 -0400
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `set_current_user'
  [1m[36mRoom Load (0.4ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:16:in `show'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/rooms_controller.rb:17:in `show'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:17:in `show'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/rooms_controller.rb:17:in `show'
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 98)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-danger\" id=\"user_2\"></div>\n</template></turbo-stream>"
  [1m[36mMessage Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."room_id" = $1[0m  [["room_id", 1]]
  â†³ app/controllers/rooms_controller.rb:26:in `show'
  [1m[36mMessage Load (0.7ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2 OFFSET $3[0m  [["room_id", 1], ["LIMIT", 10], ["OFFSET", 0]]
  â†³ app/controllers/rooms_controller.rb:27:in `show'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/rooms_controller.rb:27:in `show'
  [1m[36mNotification Update All (0.6ms)[0m  [1m[33mUPDATE "notifications" SET "read_at" = $1 WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/1"},"_aj_symbol_keys":["room"]}') AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["read_at", "2022-07-15 07:42:15.754543"], ["recipient_type", "User"], ["recipient_id", 2]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_notifications_to_read'
  Rendering layout layouts/application.html.erb
  Rendering rooms/index.html.erb within layouts/application
  Rendered shared/_message_error.html.erb (Duration: 0.1ms | Allocations: 22)
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.2ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 59)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1[0m  [["id", 2]]
  â†³ app/views/users/_users.html.erb:1
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 ORDER BY "rooms"."id" ASC LIMIT $2[0m  [["name", "private_1_2"], ["LIMIT", 1]]
  â†³ app/views/users/_users.html.erb:4
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 3], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mCACHE Message Load (0.0ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 3], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mParticipant Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "participants" WHERE "participants"."room_id" = $1 AND "participants"."user_id" = $2 LIMIT $3[0m  [["room_id", 1], ["user_id", 1], ["LIMIT", 1]]
  â†³ app/models/room.rb:25:in `participant?'
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.3ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 1], ["variation_digest", "2LUGSpqeAxE2FTbZR5KExFsl26Y="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 53)
  Rendered users/_last_message.html.erb (Duration: 0.0ms | Allocations: 16)
  Rendered users/_user.html.erb (Duration: 17.7ms | Allocations: 7111)
  Rendered users/_users.html.erb (Duration: 24.5ms | Allocations: 10203)
  Rendered layouts/_new_room_form.html.erb (Duration: 0.1ms | Allocations: 28)
  Rendered rooms/_search_results.html.erb (Duration: 0.0ms | Allocations: 16)
  Rendered rooms/_search_form.html.erb (Duration: 1.6ms | Allocations: 836)
  [1m[36mRoom Load (0.8ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 ORDER BY last_message_at DESC[0m  [["user_id", 2]]
  â†³ app/views/rooms/_rooms.html.erb:1
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 1], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mNotification Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "notifications" WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/1"},"_aj_symbol_keys":["room"]}') AND "notifications"."type" = $1 AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["type", "MessageNotification"], ["recipient_type", "User"], ["recipient_id", 2]]
  â†³ app/views/rooms/_notifications.html.erb:4
  Rendered rooms/_notifications.html.erb (Duration: 4.0ms | Allocations: 1348)
  [1m[36mRoom Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 AND "rooms"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:39:in `has_joined_room'
  Rendered rooms/_joinable_link.html.erb (Duration: 2.8ms | Allocations: 984)
  Rendered rooms/_last_message.html.erb (Duration: 0.6ms | Allocations: 182)
  Rendered rooms/_room.html.erb (Duration: 8.2ms | Allocations: 2886)
  Rendered rooms/_rooms.html.erb (Duration: 15.2ms | Allocations: 5451)
  Rendered messages/_pager.html.erb (Duration: 0.7ms | Allocations: 950)
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.7ms | Allocations: 1094)
  [1m[36mActiveStorage::Attachment Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 221], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.8ms | Allocations: 1779)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 3.6ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 222], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 3.2ms | Allocations: 1042)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.4ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 223], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 3.3ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.6ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 224], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.7ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.7ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 225], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 1.8ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.3ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 226], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.7ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.5ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 227], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.1ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 2.3ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 228], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.3ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 2.5ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 229], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.9ms | Allocations: 1112)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.1ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.8ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 230], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.4ms | Allocations: 1040)
  Rendered collection of messages/_message.html.erb [10 times] (Duration: 80.7ms | Allocations: 37458)
  Rendered layouts/_new_message_form.html.erb (Duration: 0.9ms | Allocations: 464)
  Rendered rooms/index.html.erb within layouts/application (Duration: 164.4ms | Allocations: 71214)
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 16)
  Rendered layout layouts/application.html.erb (Duration: 188.9ms | Allocations: 104260)
Completed 200 OK in 290ms (Views: 171.7ms | ActiveRecord: 40.7ms | Allocations: 139634)


Started GET "/rails/active_storage/representations/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDUT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--10fd4699f19e65e41e57dc0c4d8052c5b6224e13/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdCem9MWm05eWJXRjBTU0lJY0c1bkJqb0dSVlE2RkhKbGMybDZaVjkwYjE5c2FXMXBkRnNIYVRkcE53PT0iLCJleHAiOm51bGwsInB1ciI6InZhcmlhdGlvbiJ9fQ==--10cd12dda4766ef711b13e56db032a47fae0911d/Admin%20Part%207.png" for ::1 at 2022-07-15 03:42:16 -0400
Processing by ActiveStorage::Representations::RedirectController#show as PNG
  Parameters: {"signed_blob_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDUT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--10fd4699f19e65e41e57dc0c4d8052c5b6224e13", "variation_key"=>"[FILTERED]", "filename"=>"Admin Part 7"}
Started GET "/rails/active_storage/representations/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--758538ea0401eddfb27db21a61b40545e294fba7/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdCem9MWm05eWJXRjBTU0lJYW5CbkJqb0dSVlE2RkhKbGMybDZaVjkwYjE5c2FXMXBkRnNIYVRkcE53PT0iLCJleHAiOm51bGwsInB1ciI6InZhcmlhdGlvbiJ9fQ==--7c67a13b9fd72c703fa320aa1af6cdefe07ca623/default_profile.jpg" for ::1 at 2022-07-15 03:42:16 -0400
  [1m[36mActiveStorage::Blob Load (0.9ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mActiveStorage::VariantRecord Load (1.8ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (1.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.8ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
[36m  Disk Storage (0.7ms) [0m[34mGenerated URL for file at key: f2uvf9cvgwkzqlsbq7y0jjjzqddj (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhaakoxZG1ZNVkzWm5kMnQ2Y1d4elluRTNlVEJxYW1wNmNXUmthZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVDJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SWtGa2JXbHVJRkJoY25RZ055NXdibWNpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjBGa2JXbHVKVEl3VUdGeWRDVXlNRGN1Y0c1bkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSU9hVzFoWjJVdmNHNW5CanNHVkRvUmMyVnlkbWxqWlY5dVlXMWxPZ3BzYjJOaGJBPT0iLCJleHAiOiIyMDIyLTA3LTE1VDA3OjQ3OjE2LjExMVoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--4b6236e7990bfc60afd7bc6c47de54f9a440bef1/Admin%20Part%207.png)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhaakoxZG1ZNVkzWm5kMnQ2Y1d4elluRTNlVEJxYW1wNmNXUmthZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVDJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SWtGa2JXbHVJRkJoY25RZ055NXdibWNpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjBGa2JXbHVKVEl3VUdGeWRDVXlNRGN1Y0c1bkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSU9hVzFoWjJVdmNHNW5CanNHVkRvUmMyVnlkbWxqWlY5dVlXMWxPZ3BzYjJOaGJBPT0iLCJleHAiOiIyMDIyLTA3LTE1VDA3OjQ3OjE2LjExMVoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--4b6236e7990bfc60afd7bc6c47de54f9a440bef1/Admin%20Part%207.png
Completed 302 Found in 27ms (ActiveRecord: 4.6ms | Allocations: 6413)


Processing by ActiveStorage::Representations::RedirectController#show as JPEG
  Parameters: {"signed_blob_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--758538ea0401eddfb27db21a61b40545e294fba7", "variation_key"=>"[FILTERED]", "filename"=>"default_profile"}
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhaakoxZG1ZNVkzWm5kMnQ2Y1d4elluRTNlVEJxYW1wNmNXUmthZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVDJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SWtGa2JXbHVJRkJoY25RZ055NXdibWNpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjBGa2JXbHVKVEl3VUdGeWRDVXlNRGN1Y0c1bkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSU9hVzFoWjJVdmNHNW5CanNHVkRvUmMyVnlkbWxqWlY5dVlXMWxPZ3BzYjJOaGJBPT0iLCJleHAiOiIyMDIyLTA3LTE1VDA3OjQ3OjE2LjExMVoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--4b6236e7990bfc60afd7bc6c47de54f9a440bef1/Admin%20Part%207.png" for ::1 at 2022-07-15 03:42:16 -0400
  [1m[36mActiveStorage::Blob Load (4.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::VariantRecord Load (3.4ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 1], ["variation_digest", "2LUGSpqeAxE2FTbZR5KExFsl26Y="], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (3.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.7ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[36m  Disk Storage (0.8ms) [0m[34mGenerated URL for file at key: 5tte9hfofzr43192lt8uzcg4pzxo (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhOWFIwWlRsb1ptOW1lbkkwTXpFNU1teDBPSFY2WTJjMGNIcDRid1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0wNy0xNVQwNzo0NzoxNi4xNzJaIiwicHVyIjoiYmxvYl9rZXkifX0=--ce5b72dd9b85989b3ab18ea8be611c63df781072/default_profile.jpg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhOWFIwWlRsb1ptOW1lbkkwTXpFNU1teDBPSFY2WTJjMGNIcDRid1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0wNy0xNVQwNzo0NzoxNi4xNzJaIiwicHVyIjoiYmxvYl9rZXkifX0=--ce5b72dd9b85989b3ab18ea8be611c63df781072/default_profile.jpg
Completed 302 Found in 43ms (ActiveRecord: 11.5ms | Allocations: 6864)


Processing by ActiveStorage::DiskController#show as PNG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"Admin Part 7"}
Completed 200 OK in 5ms (ActiveRecord: 0.0ms | Allocations: 761)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhOWFIwWlRsb1ptOW1lbkkwTXpFNU1teDBPSFY2WTJjMGNIcDRid1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0wNy0xNVQwNzo0NzoxNi4xNzJaIiwicHVyIjoiYmxvYl9rZXkifX0=--ce5b72dd9b85989b3ab18ea8be611c63df781072/default_profile.jpg" for ::1 at 2022-07-15 03:42:16 -0400
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"default_profile"}
Completed 200 OK in 1ms (ActiveRecord: 0.0ms | Allocations: 199)


Started GET "/cable" for ::1 at 2022-07-15 03:42:16 -0400
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-15 03:42:16 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:12:in `find_verified_user'
Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMg)
AppearanceChannel is transmitting the subscription confirmation
AppearanceChannel is streaming from appearance_channel
AppearanceChannel#online
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Started GET "/cable" for ::1 at 2022-07-15 03:42:16 -0400
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-15 03:42:16 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:12:in `find_verified_user'
Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMg)
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from user_status
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from users
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from Z2lkOi8vdHVyYm9jaGF0L1Jvb20vMQ
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from rooms
AppearanceChannel#online
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
Started GET "/rooms/1" for ::1 at 2022-07-15 03:42:18 -0400
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `set_current_user'
  [1m[36mRoom Load (0.6ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:16:in `show'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/rooms_controller.rb:17:in `show'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:17:in `show'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/rooms_controller.rb:17:in `show'
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 73)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-danger\" id=\"user_2\"></div>\n</template></turbo-stream>"
  [1m[36mMessage Count (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."room_id" = $1[0m  [["room_id", 1]]
  â†³ app/controllers/rooms_controller.rb:26:in `show'
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2 OFFSET $3[0m  [["room_id", 1], ["LIMIT", 10], ["OFFSET", 0]]
  â†³ app/controllers/rooms_controller.rb:27:in `show'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/rooms_controller.rb:27:in `show'
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-danger\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
  [1m[36mNotification Update All (1.0ms)[0m  [1m[33mUPDATE "notifications" SET "read_at" = $1 WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/1"},"_aj_symbol_keys":["room"]}') AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["read_at", "2022-07-15 07:42:18.252909"], ["recipient_type", "User"], ["recipient_id", 2]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_notifications_to_read'
  Rendering layout layouts/application.html.erb
  Rendering rooms/index.html.erb within layouts/application
  Rendered shared/_message_error.html.erb (Duration: 0.0ms | Allocations: 16)
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.5ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 47)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1[0m  [["id", 2]]
  â†³ app/views/users/_users.html.erb:1
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 ORDER BY "rooms"."id" ASC LIMIT $2[0m  [["name", "private_1_2"], ["LIMIT", 1]]
  â†³ app/views/users/_users.html.erb:4
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 3], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mCACHE Message Load (0.0ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 3], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mParticipant Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "participants" WHERE "participants"."room_id" = $1 AND "participants"."user_id" = $2 LIMIT $3[0m  [["room_id", 1], ["user_id", 1], ["LIMIT", 1]]
  â†³ app/models/room.rb:25:in `participant?'
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.3ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 1], ["variation_digest", "2LUGSpqeAxE2FTbZR5KExFsl26Y="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 47)
  Rendered users/_last_message.html.erb (Duration: 0.0ms | Allocations: 15)
  Rendered users/_user.html.erb (Duration: 12.6ms | Allocations: 3959)
  Rendered users/_users.html.erb (Duration: 19.3ms | Allocations: 6911)
  Rendered layouts/_new_room_form.html.erb (Duration: 0.0ms | Allocations: 20)
  Rendered rooms/_search_results.html.erb (Duration: 0.0ms | Allocations: 15)
  Rendered rooms/_search_form.html.erb (Duration: 1.0ms | Allocations: 834)
  [1m[36mRoom Load (0.8ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 ORDER BY last_message_at DESC[0m  [["user_id", 2]]
  â†³ app/views/rooms/_rooms.html.erb:1
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 1], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mNotification Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "notifications" WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/1"},"_aj_symbol_keys":["room"]}') AND "notifications"."type" = $1 AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["type", "MessageNotification"], ["recipient_type", "User"], ["recipient_id", 2]]
  â†³ app/views/rooms/_notifications.html.erb:4
  Rendered rooms/_notifications.html.erb (Duration: 2.1ms | Allocations: 885)
  [1m[36mRoom Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 AND "rooms"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:39:in `has_joined_room'
  Rendered rooms/_joinable_link.html.erb (Duration: 2.0ms | Allocations: 840)
  Rendered rooms/_last_message.html.erb (Duration: 0.5ms | Allocations: 139)
  Rendered rooms/_room.html.erb (Duration: 5.6ms | Allocations: 2202)
  Rendered rooms/_rooms.html.erb (Duration: 12.4ms | Allocations: 4689)
  Rendered messages/_pager.html.erb (Duration: 0.2ms | Allocations: 120)
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.5ms | Allocations: 1081)
  [1m[36mActiveStorage::Attachment Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 221], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.8ms | Allocations: 1034)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.7ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 222], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 3.2ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.5ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 223], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.1ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.3ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 224], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.3ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 2.0ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 225], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 3.2ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.6ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 226], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 1.9ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.4ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 227], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.5ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.6ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 228], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 3.0ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.4ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 229], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 1.9ms | Allocations: 1112)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.3ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 230], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.4ms | Allocations: 1040)
  Rendered collection of messages/_message.html.erb [10 times] (Duration: 74.2ms | Allocations: 36590)
  Rendered layouts/_new_message_form.html.erb (Duration: 1.0ms | Allocations: 415)
  Rendered rooms/index.html.erb within layouts/application (Duration: 118.9ms | Allocations: 53069)
  Rendered layouts/_navbar.html.erb (Duration: 0.0ms | Allocations: 15)
  Rendered layout layouts/application.html.erb (Duration: 122.1ms | Allocations: 55321)
Completed 200 OK in 176ms (Views: 109.7ms | ActiveRecord: 18.8ms | Allocations: 65617)


Finished "/cable/" [WebSocket] for ::1 at 2022-07-15 03:42:18 -0400
AppearanceChannel stopped streaming from appearance_channel
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
Finished "/cable/" [WebSocket] for ::1 at 2022-07-15 03:42:18 -0400
Turbo::StreamsChannel stopped streaming from user_status
Turbo::StreamsChannel stopped streaming from users
Turbo::StreamsChannel stopped streaming from Z2lkOi8vdHVyYm9jaGF0L1Jvb20vMQ
Turbo::StreamsChannel stopped streaming from rooms
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhaakoxZG1ZNVkzWm5kMnQ2Y1d4elluRTNlVEJxYW1wNmNXUmthZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVDJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SWtGa2JXbHVJRkJoY25RZ055NXdibWNpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjBGa2JXbHVKVEl3VUdGeWRDVXlNRGN1Y0c1bkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSU9hVzFoWjJVdmNHNW5CanNHVkRvUmMyVnlkbWxqWlY5dVlXMWxPZ3BzYjJOaGJBPT0iLCJleHAiOiIyMDIyLTA3LTE1VDA3OjQ3OjE2LjExMVoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--4b6236e7990bfc60afd7bc6c47de54f9a440bef1/Admin%20Part%207.png" for ::1 at 2022-07-15 03:42:18 -0400
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhOWFIwWlRsb1ptOW1lbkkwTXpFNU1teDBPSFY2WTJjMGNIcDRid1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0wNy0xNVQwNzo0NzoxNi4xNzJaIiwicHVyIjoiYmxvYl9rZXkifX0=--ce5b72dd9b85989b3ab18ea8be611c63df781072/default_profile.jpg" for ::1 at 2022-07-15 03:42:18 -0400
Processing by ActiveStorage::DiskController#show as PNG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"Admin Part 7"}
Completed 304 Not Modified in 4ms (ActiveRecord: 0.0ms | Allocations: 304)


Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"default_profile"}
Completed 304 Not Modified in 2ms (ActiveRecord: 0.0ms | Allocations: 246)


Started GET "/cable" for ::1 at 2022-07-15 03:42:18 -0400
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-15 03:42:18 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:12:in `find_verified_user'
Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMg)
AppearanceChannel is transmitting the subscription confirmation
AppearanceChannel is streaming from appearance_channel
Started GET "/cable" for ::1 at 2022-07-15 03:42:18 -0400
AppearanceChannel#online
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-15 03:42:18 -0400
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:12:in `find_verified_user'
Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMg)
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from user_status
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from users
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from rooms
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from Z2lkOi8vdHVyYm9jaGF0L1Jvb20vMQ
AppearanceChannel#online
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
Started POST "/rooms/1/messages" for ::1 at 2022-07-15 03:42:22 -0400
Processing by MessagesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "message"=>{"attachments"=>[""], "body"=>"/dnd"}, "commit"=>"Send", "room_id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `set_current_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:62:in `dnd_manager'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:62:in `dnd_manager'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:62:in `dnd_manager'
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 73)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-danger\" id=\"user_2\"></div>\n</template></turbo-stream>"
No template found for MessagesController#create, rendering head :no_content
Completed 204 No Content in 15ms (ActiveRecord: 1.8ms | Allocations: 5753)


Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-danger\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
Started GET "/rooms/1" for ::1 at 2022-07-15 03:42:23 -0400
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `set_current_user'
  [1m[36mRoom Load (0.5ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:16:in `show'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/rooms_controller.rb:17:in `show'
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:17:in `show'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/rooms_controller.rb:17:in `show'
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 53)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-danger\" id=\"user_2\"></div>\n</template></turbo-stream>"
  [1m[36mMessage Count (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."room_id" = $1[0m  [["room_id", 1]]
  â†³ app/controllers/rooms_controller.rb:26:in `show'
  [1m[36mMessage Load (0.8ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2 OFFSET $3[0m  [["room_id", 1], ["LIMIT", 10], ["OFFSET", 0]]
  â†³ app/controllers/rooms_controller.rb:27:in `show'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/rooms_controller.rb:27:in `show'
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-danger\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
  [1m[36mNotification Update All (0.5ms)[0m  [1m[33mUPDATE "notifications" SET "read_at" = $1 WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/1"},"_aj_symbol_keys":["room"]}') AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["read_at", "2022-07-15 07:42:23.818095"], ["recipient_type", "User"], ["recipient_id", 2]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_notifications_to_read'
  Rendering layout layouts/application.html.erb
  Rendering rooms/index.html.erb within layouts/application
  Rendered shared/_message_error.html.erb (Duration: 0.0ms | Allocations: 16)
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.4ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 47)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1[0m  [["id", 2]]
  â†³ app/views/users/_users.html.erb:1
  [1m[36mRoom Load (0.4ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 ORDER BY "rooms"."id" ASC LIMIT $2[0m  [["name", "private_1_2"], ["LIMIT", 1]]
  â†³ app/views/users/_users.html.erb:4
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 3], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mCACHE Message Load (0.0ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 3], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mParticipant Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "participants" WHERE "participants"."room_id" = $1 AND "participants"."user_id" = $2 LIMIT $3[0m  [["room_id", 1], ["user_id", 1], ["LIMIT", 1]]
  â†³ app/models/room.rb:25:in `participant?'
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::Blob Load (0.6ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.4ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 1], ["variation_digest", "2LUGSpqeAxE2FTbZR5KExFsl26Y="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 47)
  Rendered users/_last_message.html.erb (Duration: 0.1ms | Allocations: 15)
  Rendered users/_user.html.erb (Duration: 10.3ms | Allocations: 3956)
  Rendered users/_users.html.erb (Duration: 17.4ms | Allocations: 6908)
  Rendered layouts/_new_room_form.html.erb (Duration: 0.1ms | Allocations: 20)
  Rendered rooms/_search_results.html.erb (Duration: 0.0ms | Allocations: 15)
  Rendered rooms/_search_form.html.erb (Duration: 1.2ms | Allocations: 830)
  [1m[36mRoom Load (0.7ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 ORDER BY last_message_at DESC[0m  [["user_id", 2]]
  â†³ app/views/rooms/_rooms.html.erb:1
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 1], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mNotification Count (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "notifications" WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/1"},"_aj_symbol_keys":["room"]}') AND "notifications"."type" = $1 AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["type", "MessageNotification"], ["recipient_type", "User"], ["recipient_id", 2]]
  â†³ app/views/rooms/_notifications.html.erb:4
  Rendered rooms/_notifications.html.erb (Duration: 3.3ms | Allocations: 885)
  [1m[36mRoom Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 AND "rooms"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:39:in `has_joined_room'
  Rendered rooms/_joinable_link.html.erb (Duration: 2.3ms | Allocations: 837)
  Rendered rooms/_last_message.html.erb (Duration: 0.8ms | Allocations: 138)
  Rendered rooms/_room.html.erb (Duration: 7.8ms | Allocations: 2198)
  Rendered rooms/_rooms.html.erb (Duration: 14.2ms | Allocations: 4685)
  Rendered messages/_pager.html.erb (Duration: 0.2ms | Allocations: 120)
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.5ms | Allocations: 1081)
  [1m[36mActiveStorage::Attachment Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 221], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.5ms | Allocations: 1034)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.3ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 222], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.1ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.7ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 223], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.0ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.2ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 224], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.1ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.1ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 2.2ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 225], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.2ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.5ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 226], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 1.8ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.4ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 227], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.6ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 4.3ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 228], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.5ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.3ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 229], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.1ms | Allocations: 1112)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.2ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 230], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 3.2ms | Allocations: 1040)
  Rendered collection of messages/_message.html.erb [10 times] (Duration: 74.0ms | Allocations: 36589)
  Rendered layouts/_new_message_form.html.erb (Duration: 1.1ms | Allocations: 415)
  Rendered rooms/index.html.erb within layouts/application (Duration: 119.4ms | Allocations: 53053)
  Rendered layouts/_navbar.html.erb (Duration: 0.0ms | Allocations: 15)
  Rendered layout layouts/application.html.erb (Duration: 122.3ms | Allocations: 55287)
Completed 200 OK in 150ms (Views: 110.1ms | ActiveRecord: 17.7ms | Allocations: 65412)


Finished "/cable/" [WebSocket] for ::1 at 2022-07-15 03:42:23 -0400
Turbo::StreamsChannel stopped streaming from user_status
Turbo::StreamsChannel stopped streaming from users
Turbo::StreamsChannel stopped streaming from rooms
Turbo::StreamsChannel stopped streaming from Z2lkOi8vdHVyYm9jaGF0L1Jvb20vMQ
Finished "/cable/" [WebSocket] for ::1 at 2022-07-15 03:42:23 -0400
AppearanceChannel stopped streaming from appearance_channel
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhaakoxZG1ZNVkzWm5kMnQ2Y1d4elluRTNlVEJxYW1wNmNXUmthZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVDJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SWtGa2JXbHVJRkJoY25RZ055NXdibWNpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjBGa2JXbHVKVEl3VUdGeWRDVXlNRGN1Y0c1bkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSU9hVzFoWjJVdmNHNW5CanNHVkRvUmMyVnlkbWxqWlY5dVlXMWxPZ3BzYjJOaGJBPT0iLCJleHAiOiIyMDIyLTA3LTE1VDA3OjQ3OjE2LjExMVoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--4b6236e7990bfc60afd7bc6c47de54f9a440bef1/Admin%20Part%207.png" for ::1 at 2022-07-15 03:42:24 -0400
Processing by ActiveStorage::DiskController#show as PNG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"Admin Part 7"}
Completed 304 Not Modified in 1ms (ActiveRecord: 0.0ms | Allocations: 233)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhOWFIwWlRsb1ptOW1lbkkwTXpFNU1teDBPSFY2WTJjMGNIcDRid1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0wNy0xNVQwNzo0NzoxNi4xNzJaIiwicHVyIjoiYmxvYl9rZXkifX0=--ce5b72dd9b85989b3ab18ea8be611c63df781072/default_profile.jpg" for ::1 at 2022-07-15 03:42:24 -0400
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"default_profile"}
Completed 304 Not Modified in 2ms (ActiveRecord: 0.0ms | Allocations: 342)


Started GET "/cable" for ::1 at 2022-07-15 03:42:24 -0400
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-15 03:42:24 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:12:in `find_verified_user'
Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMg)
Started GET "/cable" for ::1 at 2022-07-15 03:42:24 -0400
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-15 03:42:24 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:12:in `find_verified_user'
Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMg)
AppearanceChannel is transmitting the subscription confirmation
AppearanceChannel is streaming from appearance_channel
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from user_status
AppearanceChannel#online
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from users
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from rooms
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from Z2lkOi8vdHVyYm9jaGF0L1Jvb20vMQ
AppearanceChannel#online
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
Started GET "/rooms/1" for ::1 at 2022-07-15 03:43:38 -0400
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `set_current_user'
  [1m[36mRoom Load (0.4ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:16:in `show'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/rooms_controller.rb:17:in `show'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:17:in `show'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/rooms_controller.rb:17:in `show'
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 98)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-danger\" id=\"user_2\"></div>\n</template></turbo-stream>"
  [1m[36mMessage Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."room_id" = $1[0m  [["room_id", 1]]
  â†³ app/controllers/rooms_controller.rb:26:in `show'
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2 OFFSET $3[0m  [["room_id", 1], ["LIMIT", 10], ["OFFSET", 0]]
  â†³ app/controllers/rooms_controller.rb:27:in `show'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/rooms_controller.rb:27:in `show'
  [1m[36mNotification Update All (0.7ms)[0m  [1m[33mUPDATE "notifications" SET "read_at" = $1 WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/1"},"_aj_symbol_keys":["room"]}') AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["read_at", "2022-07-15 07:43:38.231058"], ["recipient_type", "User"], ["recipient_id", 2]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_notifications_to_read'
  Rendering layout layouts/application.html.erb
  Rendering rooms/index.html.erb within layouts/application
  Rendered shared/_message_error.html.erb (Duration: 0.1ms | Allocations: 22)
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.3ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.7ms | Allocations: 59)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1[0m  [["id", 2]]
  â†³ app/views/users/_users.html.erb:1
  [1m[36mRoom Load (0.4ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 ORDER BY "rooms"."id" ASC LIMIT $2[0m  [["name", "private_1_2"], ["LIMIT", 1]]
  â†³ app/views/users/_users.html.erb:4
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 3], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mCACHE Message Load (0.0ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 3], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mParticipant Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "participants" WHERE "participants"."room_id" = $1 AND "participants"."user_id" = $2 LIMIT $3[0m  [["room_id", 1], ["user_id", 1], ["LIMIT", 1]]
  â†³ app/models/room.rb:25:in `participant?'
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.5ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 1], ["variation_digest", "2LUGSpqeAxE2FTbZR5KExFsl26Y="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 53)
  Rendered users/_last_message.html.erb (Duration: 0.0ms | Allocations: 16)
  Rendered users/_user.html.erb (Duration: 19.0ms | Allocations: 7111)
  Rendered users/_users.html.erb (Duration: 29.1ms | Allocations: 10212)
  Rendered layouts/_new_room_form.html.erb (Duration: 0.1ms | Allocations: 28)
  Rendered rooms/_search_results.html.erb (Duration: 0.0ms | Allocations: 16)
  Rendered rooms/_search_form.html.erb (Duration: 1.4ms | Allocations: 836)
  [1m[36mRoom Load (0.6ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 ORDER BY last_message_at DESC[0m  [["user_id", 2]]
  â†³ app/views/rooms/_rooms.html.erb:1
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 1], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mNotification Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "notifications" WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/1"},"_aj_symbol_keys":["room"]}') AND "notifications"."type" = $1 AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["type", "MessageNotification"], ["recipient_type", "User"], ["recipient_id", 2]]
  â†³ app/views/rooms/_notifications.html.erb:4
  Rendered rooms/_notifications.html.erb (Duration: 3.9ms | Allocations: 1348)
  [1m[36mRoom Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 AND "rooms"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:39:in `has_joined_room'
  Rendered rooms/_joinable_link.html.erb (Duration: 3.4ms | Allocations: 984)
  Rendered rooms/_last_message.html.erb (Duration: 0.7ms | Allocations: 182)
  Rendered rooms/_room.html.erb (Duration: 9.6ms | Allocations: 2886)
  Rendered rooms/_rooms.html.erb (Duration: 16.1ms | Allocations: 5451)
  Rendered messages/_pager.html.erb (Duration: 1.4ms | Allocations: 956)
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.9ms | Allocations: 1094)
  [1m[36mActiveStorage::Attachment Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 221], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 4.0ms | Allocations: 1779)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.9ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 222], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 3.5ms | Allocations: 1042)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.4ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 223], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.8ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 3.2ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 224], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 3.0ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.2ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 225], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.1ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.4ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 226], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 3.3ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.8ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 227], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.0ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.5ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 228], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.4ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 2.2ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 229], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.9ms | Allocations: 1112)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.9ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 230], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.2ms | Allocations: 1040)
  Rendered collection of messages/_message.html.erb [10 times] (Duration: 86.5ms | Allocations: 37458)
  Rendered layouts/_new_message_form.html.erb (Duration: 1.4ms | Allocations: 464)
  Rendered rooms/index.html.erb within layouts/application (Duration: 181.0ms | Allocations: 71236)
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 16)
  Rendered layout layouts/application.html.erb (Duration: 208.8ms | Allocations: 104282)
Completed 200 OK in 309ms (Views: 189.2ms | ActiveRecord: 43.4ms | Allocations: 139660)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhOWFIwWlRsb1ptOW1lbkkwTXpFNU1teDBPSFY2WTJjMGNIcDRid1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0wNy0xNVQwNzo0NzoxNi4xNzJaIiwicHVyIjoiYmxvYl9rZXkifX0=--ce5b72dd9b85989b3ab18ea8be611c63df781072/default_profile.jpg" for ::1 at 2022-07-15 03:43:38 -0400
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhaakoxZG1ZNVkzWm5kMnQ2Y1d4elluRTNlVEJxYW1wNmNXUmthZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVDJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SWtGa2JXbHVJRkJoY25RZ055NXdibWNpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjBGa2JXbHVKVEl3VUdGeWRDVXlNRGN1Y0c1bkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSU9hVzFoWjJVdmNHNW5CanNHVkRvUmMyVnlkbWxqWlY5dVlXMWxPZ3BzYjJOaGJBPT0iLCJleHAiOiIyMDIyLTA3LTE1VDA3OjQ3OjE2LjExMVoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--4b6236e7990bfc60afd7bc6c47de54f9a440bef1/Admin%20Part%207.png" for ::1 at 2022-07-15 03:43:38 -0400
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"default_profile"}
Completed 304 Not Modified in 4ms (ActiveRecord: 0.0ms | Allocations: 588)


Processing by ActiveStorage::DiskController#show as PNG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"Admin Part 7"}
Completed 304 Not Modified in 1ms (ActiveRecord: 0.0ms | Allocations: 215)


Started GET "/cable" for ::1 at 2022-07-15 03:43:38 -0400
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-15 03:43:38 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:12:in `find_verified_user'
Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMg)
Started GET "/cable" for ::1 at 2022-07-15 03:43:38 -0400
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-15 03:43:38 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:12:in `find_verified_user'
Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMg)
AppearanceChannel is transmitting the subscription confirmation
AppearanceChannel is streaming from appearance_channel
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from user_status
AppearanceChannel#online
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from users
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from Z2lkOi8vdHVyYm9jaGF0L1Jvb20vMQ
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from rooms
AppearanceChannel#online
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
Started POST "/rooms/1/messages" for ::1 at 2022-07-15 03:43:40 -0400
Processing by MessagesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "message"=>{"attachments"=>[""], "body"=>"/dnd"}, "commit"=>"Send", "room_id"=>"1"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `set_current_user'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:63:in `dnd_manager'
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:63:in `dnd_manager'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:63:in `dnd_manager'
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 73)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-danger\" id=\"user_2\"></div>\n</template></turbo-stream>"
No template found for MessagesController#create, rendering head :no_content
Completed 204 No Content in 17ms (ActiveRecord: 2.3ms | Allocations: 5768)


Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-danger\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
Started POST "/rooms/1/messages" for ::1 at 2022-07-15 03:43:41 -0400
Processing by MessagesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "message"=>{"attachments"=>[""], "body"=>"/dnd"}, "commit"=>"Send", "room_id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `set_current_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:63:in `dnd_manager'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:63:in `dnd_manager'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:63:in `dnd_manager'
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 53)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-danger\" id=\"user_2\"></div>\n</template></turbo-stream>"
No template found for MessagesController#create, rendering head :no_content
Completed 204 No Content in 15ms (ActiveRecord: 1.7ms | Allocations: 5155)


Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-danger\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
Started GET "/rooms/1" for ::1 at 2022-07-15 03:43:43 -0400
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `set_current_user'
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:16:in `show'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/rooms_controller.rb:17:in `show'
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:17:in `show'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/rooms_controller.rb:17:in `show'
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 53)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-danger\" id=\"user_2\"></div>\n</template></turbo-stream>"
  [1m[36mMessage Count (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."room_id" = $1[0m  [["room_id", 1]]
  â†³ app/controllers/rooms_controller.rb:26:in `show'
  [1m[36mMessage Load (0.8ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2 OFFSET $3[0m  [["room_id", 1], ["LIMIT", 10], ["OFFSET", 0]]
  â†³ app/controllers/rooms_controller.rb:27:in `show'
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-danger\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
  â†³ app/controllers/rooms_controller.rb:27:in `show'
  [1m[36mNotification Update All (0.6ms)[0m  [1m[33mUPDATE "notifications" SET "read_at" = $1 WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/1"},"_aj_symbol_keys":["room"]}') AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["read_at", "2022-07-15 07:43:43.308936"], ["recipient_type", "User"], ["recipient_id", 2]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_notifications_to_read'
  Rendering layout layouts/application.html.erb
  Rendering rooms/index.html.erb within layouts/application
  Rendered shared/_message_error.html.erb (Duration: 0.0ms | Allocations: 16)
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.3ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 47)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1[0m  [["id", 2]]
  â†³ app/views/users/_users.html.erb:1
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 ORDER BY "rooms"."id" ASC LIMIT $2[0m  [["name", "private_1_2"], ["LIMIT", 1]]
  â†³ app/views/users/_users.html.erb:4
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 3], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mCACHE Message Load (0.0ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 3], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mParticipant Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "participants" WHERE "participants"."room_id" = $1 AND "participants"."user_id" = $2 LIMIT $3[0m  [["room_id", 1], ["user_id", 1], ["LIMIT", 1]]
  â†³ app/models/room.rb:25:in `participant?'
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.4ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 1], ["variation_digest", "2LUGSpqeAxE2FTbZR5KExFsl26Y="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 47)
  Rendered users/_last_message.html.erb (Duration: 0.0ms | Allocations: 15)
  Rendered users/_user.html.erb (Duration: 10.9ms | Allocations: 3959)
  Rendered users/_users.html.erb (Duration: 18.7ms | Allocations: 6911)
  Rendered layouts/_new_room_form.html.erb (Duration: 0.0ms | Allocations: 20)
  Rendered rooms/_search_results.html.erb (Duration: 0.0ms | Allocations: 15)
  Rendered rooms/_search_form.html.erb (Duration: 0.8ms | Allocations: 830)
  [1m[36mRoom Load (0.7ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 ORDER BY last_message_at DESC[0m  [["user_id", 2]]
  â†³ app/views/rooms/_rooms.html.erb:1
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 1], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mNotification Count (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "notifications" WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/1"},"_aj_symbol_keys":["room"]}') AND "notifications"."type" = $1 AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["type", "MessageNotification"], ["recipient_type", "User"], ["recipient_id", 2]]
  â†³ app/views/rooms/_notifications.html.erb:4
  Rendered rooms/_notifications.html.erb (Duration: 3.1ms | Allocations: 885)
  [1m[36mRoom Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 AND "rooms"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:39:in `has_joined_room'
  Rendered rooms/_joinable_link.html.erb (Duration: 3.0ms | Allocations: 840)
  Rendered rooms/_last_message.html.erb (Duration: 0.4ms | Allocations: 138)
  Rendered rooms/_room.html.erb (Duration: 7.7ms | Allocations: 2201)
  Rendered rooms/_rooms.html.erb (Duration: 14.7ms | Allocations: 4688)
  Rendered messages/_pager.html.erb (Duration: 0.2ms | Allocations: 120)
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 2.1ms | Allocations: 1081)
  [1m[36mActiveStorage::Attachment Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 221], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.4ms | Allocations: 1034)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.3ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 222], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 3.1ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.9ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 223], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.9ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.3ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 224], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.7ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.4ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 225], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.2ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.3ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 226], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.6ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.5ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 227], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.3ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.4ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 228], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.3ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.5ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 229], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.9ms | Allocations: 1112)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.1ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.9ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 230], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.2ms | Allocations: 1040)
  Rendered collection of messages/_message.html.erb [10 times] (Duration: 78.8ms | Allocations: 36589)
  Rendered layouts/_new_message_form.html.erb (Duration: 20.5ms | Allocations: 415)
  Rendered rooms/index.html.erb within layouts/application (Duration: 142.9ms | Allocations: 53060)
  Rendered layouts/_navbar.html.erb (Duration: 0.0ms | Allocations: 15)
  Rendered layout layouts/application.html.erb (Duration: 146.2ms | Allocations: 55312)
Completed 200 OK in 179ms (Views: 133.4ms | ActiveRecord: 19.4ms | Allocations: 65442)


Finished "/cable/" [WebSocket] for ::1 at 2022-07-15 03:43:43 -0400
Turbo::StreamsChannel stopped streaming from user_status
Turbo::StreamsChannel stopped streaming from users
Turbo::StreamsChannel stopped streaming from Z2lkOi8vdHVyYm9jaGF0L1Jvb20vMQ
Turbo::StreamsChannel stopped streaming from rooms
Finished "/cable/" [WebSocket] for ::1 at 2022-07-15 03:43:43 -0400
AppearanceChannel stopped streaming from appearance_channel
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhaakoxZG1ZNVkzWm5kMnQ2Y1d4elluRTNlVEJxYW1wNmNXUmthZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVDJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SWtGa2JXbHVJRkJoY25RZ055NXdibWNpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjBGa2JXbHVKVEl3VUdGeWRDVXlNRGN1Y0c1bkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSU9hVzFoWjJVdmNHNW5CanNHVkRvUmMyVnlkbWxqWlY5dVlXMWxPZ3BzYjJOaGJBPT0iLCJleHAiOiIyMDIyLTA3LTE1VDA3OjQ3OjE2LjExMVoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--4b6236e7990bfc60afd7bc6c47de54f9a440bef1/Admin%20Part%207.png" for ::1 at 2022-07-15 03:43:43 -0400
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhOWFIwWlRsb1ptOW1lbkkwTXpFNU1teDBPSFY2WTJjMGNIcDRid1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0wNy0xNVQwNzo0NzoxNi4xNzJaIiwicHVyIjoiYmxvYl9rZXkifX0=--ce5b72dd9b85989b3ab18ea8be611c63df781072/default_profile.jpg" for ::1 at 2022-07-15 03:43:43 -0400
Processing by ActiveStorage::DiskController#show as PNG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"Admin Part 7"}
Completed 304 Not Modified in 3ms (ActiveRecord: 0.0ms | Allocations: 246)


Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"default_profile"}
Completed 304 Not Modified in 1ms (ActiveRecord: 0.0ms | Allocations: 210)


Started GET "/cable" for ::1 at 2022-07-15 03:43:43 -0400
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-15 03:43:43 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:12:in `find_verified_user'
Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMg)
Started GET "/cable" for ::1 at 2022-07-15 03:43:43 -0400
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-15 03:43:43 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:12:in `find_verified_user'
Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMg)
AppearanceChannel is transmitting the subscription confirmation
AppearanceChannel is streaming from appearance_channel
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from user_status
AppearanceChannel#online
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from users
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from rooms
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from Z2lkOi8vdHVyYm9jaGF0L1Jvb20vMQ
AppearanceChannel#online
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mUser Update All (1.9ms)[0m  [1m[33mUPDATE "users" SET "status" = $1[0m  [["status", 0]]
  â†³ config/initializers/user_status.rb:6:in `block in <class:UserStatus>'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
AppearanceChannel#online
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "status" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2022-07-15 07:44:13.092814"], ["status", 2], ["id", 2]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 42)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.3ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Started GET "/rooms/1" for ::1 at 2022-07-15 03:44:13 -0400
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `set_current_user'
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:16:in `show'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/rooms_controller.rb:17:in `show'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:17:in `show'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/rooms_controller.rb:17:in `show'
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 53)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
  [1m[36mMessage Count (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."room_id" = $1[0m  [["room_id", 1]]
  â†³ app/controllers/rooms_controller.rb:26:in `show'
  [1m[36mMessage Load (0.7ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2 OFFSET $3[0m  [["room_id", 1], ["LIMIT", 10], ["OFFSET", 0]]
  â†³ app/controllers/rooms_controller.rb:27:in `show'
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/rooms_controller.rb:27:in `show'
  [1m[36mNotification Update All (0.7ms)[0m  [1m[33mUPDATE "notifications" SET "read_at" = $1 WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/1"},"_aj_symbol_keys":["room"]}') AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["read_at", "2022-07-15 07:44:13.265836"], ["recipient_type", "User"], ["recipient_id", 2]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_notifications_to_read'
  Rendering layout layouts/application.html.erb
  Rendering rooms/index.html.erb within layouts/application
  Rendered shared/_message_error.html.erb (Duration: 0.0ms | Allocations: 16)
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.5ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 47)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1[0m  [["id", 2]]
  â†³ app/views/users/_users.html.erb:1
  [1m[36mRoom Load (0.4ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 ORDER BY "rooms"."id" ASC LIMIT $2[0m  [["name", "private_1_2"], ["LIMIT", 1]]
  â†³ app/views/users/_users.html.erb:4
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 3], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mCACHE Message Load (0.0ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 3], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mParticipant Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "participants" WHERE "participants"."room_id" = $1 AND "participants"."user_id" = $2 LIMIT $3[0m  [["room_id", 1], ["user_id", 1], ["LIMIT", 1]]
  â†³ app/models/room.rb:25:in `participant?'
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.4ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 1], ["variation_digest", "2LUGSpqeAxE2FTbZR5KExFsl26Y="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 47)
  Rendered users/_last_message.html.erb (Duration: 0.0ms | Allocations: 15)
  Rendered users/_user.html.erb (Duration: 11.3ms | Allocations: 3948)
  Rendered users/_users.html.erb (Duration: 18.7ms | Allocations: 6897)
  Rendered layouts/_new_room_form.html.erb (Duration: 0.1ms | Allocations: 20)
  Rendered rooms/_search_results.html.erb (Duration: 0.0ms | Allocations: 15)
  Rendered rooms/_search_form.html.erb (Duration: 1.0ms | Allocations: 814)
  [1m[36mRoom Load (1.4ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 ORDER BY last_message_at DESC[0m  [["user_id", 2]]
  â†³ app/views/rooms/_rooms.html.erb:1
  [1m[36mMessage Load (0.6ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 1], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mNotification Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "notifications" WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/1"},"_aj_symbol_keys":["room"]}') AND "notifications"."type" = $1 AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["type", "MessageNotification"], ["recipient_type", "User"], ["recipient_id", 2]]
  â†³ app/views/rooms/_notifications.html.erb:4
  Rendered rooms/_notifications.html.erb (Duration: 2.8ms | Allocations: 884)
  [1m[36mRoom Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 AND "rooms"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:39:in `has_joined_room'
  Rendered rooms/_joinable_link.html.erb (Duration: 3.1ms | Allocations: 835)
  Rendered rooms/_last_message.html.erb (Duration: 0.5ms | Allocations: 106)
  Rendered rooms/_room.html.erb (Duration: 7.4ms | Allocations: 2163)
  Rendered rooms/_rooms.html.erb (Duration: 17.5ms | Allocations: 4643)
  Rendered messages/_pager.html.erb (Duration: 0.2ms | Allocations: 115)
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 4.9ms | Allocations: 1081)
  [1m[36mActiveStorage::Attachment Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 221], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.9ms | Allocations: 1033)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 2.1ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 222], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 3.3ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 2.6ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 223], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 3.0ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.6ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 224], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.3ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.5ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 225], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 3.7ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.8ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 226], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.6ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 2.5ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 227], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 3.1ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 2.6ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 228], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 4.3ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.7ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 229], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 3.3ms | Allocations: 1112)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 2.0ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 230], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 3.1ms | Allocations: 1040)
  Rendered collection of messages/_message.html.erb [10 times] (Duration: 95.8ms | Allocations: 36530)
  Rendered layouts/_new_message_form.html.erb (Duration: 1.4ms | Allocations: 400)
  Rendered rooms/index.html.erb within layouts/application (Duration: 144.5ms | Allocations: 52749)
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 15)
  Rendered layout layouts/application.html.erb (Duration: 148.5ms | Allocations: 54982)
Completed 200 OK in 179ms (Views: 134.7ms | ActiveRecord: 20.3ms | Allocations: 64931)


Finished "/cable/" [WebSocket] for ::1 at 2022-07-15 03:44:13 -0400
Turbo::StreamsChannel stopped streaming from user_status
Turbo::StreamsChannel stopped streaming from users
Turbo::StreamsChannel stopped streaming from rooms
Turbo::StreamsChannel stopped streaming from Z2lkOi8vdHVyYm9jaGF0L1Jvb20vMQ
Finished "/cable/" [WebSocket] for ::1 at 2022-07-15 03:44:13 -0400
AppearanceChannel stopped streaming from appearance_channel
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "status" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["status", 0], ["updated_at", "2022-07-15 07:44:13.443598"], ["id", 2]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.4ms | Allocations: 42)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_2\"></div>\n</template></turbo-stream>"
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhOWFIwWlRsb1ptOW1lbkkwTXpFNU1teDBPSFY2WTJjMGNIcDRid1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0wNy0xNVQwNzo0NzoxNi4xNzJaIiwicHVyIjoiYmxvYl9rZXkifX0=--ce5b72dd9b85989b3ab18ea8be611c63df781072/default_profile.jpg" for ::1 at 2022-07-15 03:44:13 -0400
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhaakoxZG1ZNVkzWm5kMnQ2Y1d4elluRTNlVEJxYW1wNmNXUmthZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVDJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SWtGa2JXbHVJRkJoY25RZ055NXdibWNpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjBGa2JXbHVKVEl3VUdGeWRDVXlNRGN1Y0c1bkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSU9hVzFoWjJVdmNHNW5CanNHVkRvUmMyVnlkbWxqWlY5dVlXMWxPZ3BzYjJOaGJBPT0iLCJleHAiOiIyMDIyLTA3LTE1VDA3OjQ3OjE2LjExMVoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--4b6236e7990bfc60afd7bc6c47de54f9a440bef1/Admin%20Part%207.png" for ::1 at 2022-07-15 03:44:13 -0400
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"default_profile"}
Completed 304 Not Modified in 4ms (ActiveRecord: 0.0ms | Allocations: 231)


Processing by ActiveStorage::DiskController#show as PNG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"Admin Part 7"}
Completed 304 Not Modified in 1ms (ActiveRecord: 0.0ms | Allocations: 211)


Started GET "/cable" for ::1 at 2022-07-15 03:44:13 -0400
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-15 03:44:13 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:12:in `find_verified_user'
Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMg)
Started GET "/cable" for ::1 at 2022-07-15 03:44:13 -0400
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-15 03:44:13 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:12:in `find_verified_user'
Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMg)
AppearanceChannel is transmitting the subscription confirmation
AppearanceChannel is streaming from appearance_channel
AppearanceChannel#online
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "status" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2022-07-15 07:44:13.737067"], ["status", 2], ["id", 2]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.3ms | Allocations: 41)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from user_status
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from users
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from rooms
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from Z2lkOi8vdHVyYm9jaGF0L1Jvb20vMQ
AppearanceChannel#online
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 40)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (1.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 40)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.3ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Started POST "/rooms/1/messages" for ::1 at 2022-07-15 03:44:18 -0400
Processing by MessagesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "message"=>{"attachments"=>[""], "body"=>"/dnd"}, "commit"=>"Send", "room_id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `set_current_user'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:63:in `dnd_manager'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:63:in `dnd_manager'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "status" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2022-07-15 07:44:18.800417"], ["status", 3], ["id", 2]]
  â†³ app/controllers/messages_controller.rb:63:in `dnd_manager'
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:63:in `dnd_manager'
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 53)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-danger\" id=\"user_2\"></div>\n</template></turbo-stream>"
No template found for MessagesController#create, rendering head :no_content
Completed 204 No Content in 17ms (ActiveRecord: 3.4ms | Allocations: 5806)


Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-danger\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
AppearanceChannel#online
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
Started POST "/rooms/1/messages" for ::1 at 2022-07-15 03:44:22 -0400
Processing by MessagesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "message"=>{"attachments"=>[""], "body"=>"/dnd"}, "commit"=>"Send", "room_id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `set_current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:63:in `dnd_manager'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:63:in `dnd_manager'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:63:in `dnd_manager'
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 53)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-danger\" id=\"user_2\"></div>\n</template></turbo-stream>"
No template found for MessagesController#create, rendering head :no_content
Completed 204 No Content in 14ms (ActiveRecord: 1.5ms | Allocations: 5154)


Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-danger\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
Started GET "/rooms/1" for ::1 at 2022-07-15 03:44:23 -0400
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `set_current_user'
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:16:in `show'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/rooms_controller.rb:17:in `show'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:17:in `show'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/rooms_controller.rb:17:in `show'
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 53)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-danger\" id=\"user_2\"></div>\n</template></turbo-stream>"
  [1m[36mMessage Count (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."room_id" = $1[0m  [["room_id", 1]]
  â†³ app/controllers/rooms_controller.rb:26:in `show'
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2 OFFSET $3[0m  [["room_id", 1], ["LIMIT", 10], ["OFFSET", 0]]
  â†³ app/controllers/rooms_controller.rb:27:in `show'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/rooms_controller.rb:27:in `show'
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-danger\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
  [1m[36mNotification Update All (0.6ms)[0m  [1m[33mUPDATE "notifications" SET "read_at" = $1 WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/1"},"_aj_symbol_keys":["room"]}') AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["read_at", "2022-07-15 07:44:23.710880"], ["recipient_type", "User"], ["recipient_id", 2]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_notifications_to_read'
  Rendering layout layouts/application.html.erb
  Rendering rooms/index.html.erb within layouts/application
  Rendered shared/_message_error.html.erb (Duration: 0.1ms | Allocations: 16)
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.3ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 47)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1[0m  [["id", 2]]
  â†³ app/views/users/_users.html.erb:1
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 ORDER BY "rooms"."id" ASC LIMIT $2[0m  [["name", "private_1_2"], ["LIMIT", 1]]
  â†³ app/views/users/_users.html.erb:4
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 3], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mCACHE Message Load (0.0ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 3], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mParticipant Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "participants" WHERE "participants"."room_id" = $1 AND "participants"."user_id" = $2 LIMIT $3[0m  [["room_id", 1], ["user_id", 1], ["LIMIT", 1]]
  â†³ app/models/room.rb:25:in `participant?'
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.3ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 1], ["variation_digest", "2LUGSpqeAxE2FTbZR5KExFsl26Y="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 47)
  Rendered users/_last_message.html.erb (Duration: 0.0ms | Allocations: 15)
  Rendered users/_user.html.erb (Duration: 7.6ms | Allocations: 3948)
  Rendered users/_users.html.erb (Duration: 15.0ms | Allocations: 6906)
  Rendered layouts/_new_room_form.html.erb (Duration: 0.1ms | Allocations: 20)
  Rendered rooms/_search_results.html.erb (Duration: 0.0ms | Allocations: 15)
  Rendered rooms/_search_form.html.erb (Duration: 0.9ms | Allocations: 813)
  [1m[36mRoom Load (0.5ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 ORDER BY last_message_at DESC[0m  [["user_id", 2]]
  â†³ app/views/rooms/_rooms.html.erb:1
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 1], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mNotification Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "notifications" WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/1"},"_aj_symbol_keys":["room"]}') AND "notifications"."type" = $1 AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["type", "MessageNotification"], ["recipient_type", "User"], ["recipient_id", 2]]
  â†³ app/views/rooms/_notifications.html.erb:4
  Rendered rooms/_notifications.html.erb (Duration: 1.7ms | Allocations: 884)
  [1m[36mRoom Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 AND "rooms"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:39:in `has_joined_room'
  Rendered rooms/_joinable_link.html.erb (Duration: 2.1ms | Allocations: 835)
  Rendered rooms/_last_message.html.erb (Duration: 0.3ms | Allocations: 106)
  Rendered rooms/_room.html.erb (Duration: 5.4ms | Allocations: 2163)
  Rendered rooms/_rooms.html.erb (Duration: 19.8ms | Allocations: 4643)
  Rendered messages/_pager.html.erb (Duration: 0.2ms | Allocations: 115)
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 2.1ms | Allocations: 1081)
  [1m[36mActiveStorage::Attachment Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 221], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.0ms | Allocations: 1033)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.2ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 222], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.2ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.8ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 223], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 1.7ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.3ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 224], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 1.4ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.2ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 225], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.1ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.6ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 226], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 1.5ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.2ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 227], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.4ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.7ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 228], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.3ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.4ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 229], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.1ms | Allocations: 1112)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.6ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 230], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 1.7ms | Allocations: 1040)
  Rendered collection of messages/_message.html.erb [10 times] (Duration: 65.0ms | Allocations: 36530)
  Rendered layouts/_new_message_form.html.erb (Duration: 0.8ms | Allocations: 400)
  Rendered rooms/index.html.erb within layouts/application (Duration: 113.2ms | Allocations: 52761)
  Rendered layouts/_navbar.html.erb (Duration: 0.0ms | Allocations: 15)
  Rendered layout layouts/application.html.erb (Duration: 115.8ms | Allocations: 55002)
Completed 200 OK in 142ms (Views: 106.6ms | ActiveRecord: 14.5ms | Allocations: 65013)


Finished "/cable/" [WebSocket] for ::1 at 2022-07-15 03:44:23 -0400
AppearanceChannel stopped streaming from appearance_channel
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
Finished "/cable/" [WebSocket] for ::1 at 2022-07-15 03:44:23 -0400
Turbo::StreamsChannel stopped streaming from user_status
Turbo::StreamsChannel stopped streaming from users
Turbo::StreamsChannel stopped streaming from rooms
Turbo::StreamsChannel stopped streaming from Z2lkOi8vdHVyYm9jaGF0L1Jvb20vMQ
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhaakoxZG1ZNVkzWm5kMnQ2Y1d4elluRTNlVEJxYW1wNmNXUmthZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVDJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SWtGa2JXbHVJRkJoY25RZ055NXdibWNpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjBGa2JXbHVKVEl3VUdGeWRDVXlNRGN1Y0c1bkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSU9hVzFoWjJVdmNHNW5CanNHVkRvUmMyVnlkbWxqWlY5dVlXMWxPZ3BzYjJOaGJBPT0iLCJleHAiOiIyMDIyLTA3LTE1VDA3OjQ3OjE2LjExMVoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--4b6236e7990bfc60afd7bc6c47de54f9a440bef1/Admin%20Part%207.png" for ::1 at 2022-07-15 03:44:23 -0400
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhOWFIwWlRsb1ptOW1lbkkwTXpFNU1teDBPSFY2WTJjMGNIcDRid1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0wNy0xNVQwNzo0NzoxNi4xNzJaIiwicHVyIjoiYmxvYl9rZXkifX0=--ce5b72dd9b85989b3ab18ea8be611c63df781072/default_profile.jpg" for ::1 at 2022-07-15 03:44:23 -0400
Processing by ActiveStorage::DiskController#show as PNG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"Admin Part 7"}
Completed 304 Not Modified in 3ms (ActiveRecord: 0.0ms | Allocations: 456)


Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"default_profile"}
Completed 304 Not Modified in 2ms (ActiveRecord: 0.0ms | Allocations: 301)


Started GET "/cable" for ::1 at 2022-07-15 03:44:24 -0400
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-15 03:44:24 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:12:in `find_verified_user'
Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMg)
AppearanceChannel is transmitting the subscription confirmation
AppearanceChannel is streaming from appearance_channel
AppearanceChannel#online
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
Started GET "/cable" for ::1 at 2022-07-15 03:44:24 -0400
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-15 03:44:24 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:12:in `find_verified_user'
Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMg)
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from user_status
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from users
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from rooms
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from Z2lkOi8vdHVyYm9jaGF0L1Jvb20vMQ
AppearanceChannel#online
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
AppearanceChannel#online
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
Started GET "/rooms/1" for ::1 at 2022-07-15 03:44:27 -0400
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `set_current_user'
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:16:in `show'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/rooms_controller.rb:17:in `show'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:17:in `show'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/rooms_controller.rb:17:in `show'
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 53)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-danger\" id=\"user_2\"></div>\n</template></turbo-stream>"
  [1m[36mMessage Count (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."room_id" = $1[0m  [["room_id", 1]]
  â†³ app/controllers/rooms_controller.rb:26:in `show'
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2 OFFSET $3[0m  [["room_id", 1], ["LIMIT", 10], ["OFFSET", 0]]
  â†³ app/controllers/rooms_controller.rb:27:in `show'
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/rooms_controller.rb:27:in `show'
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-danger\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
  [1m[36mNotification Update All (0.9ms)[0m  [1m[33mUPDATE "notifications" SET "read_at" = $1 WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/1"},"_aj_symbol_keys":["room"]}') AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["read_at", "2022-07-15 07:44:27.956727"], ["recipient_type", "User"], ["recipient_id", 2]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_notifications_to_read'
  Rendering layout layouts/application.html.erb
  Rendering rooms/index.html.erb within layouts/application
  Rendered shared/_message_error.html.erb (Duration: 0.0ms | Allocations: 16)
  [1m[36mActiveStorage::Blob Load (0.6ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.6ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 47)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1[0m  [["id", 2]]
  â†³ app/views/users/_users.html.erb:1
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 ORDER BY "rooms"."id" ASC LIMIT $2[0m  [["name", "private_1_2"], ["LIMIT", 1]]
  â†³ app/views/users/_users.html.erb:4
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 3], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mCACHE Message Load (0.0ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 3], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mParticipant Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "participants" WHERE "participants"."room_id" = $1 AND "participants"."user_id" = $2 LIMIT $3[0m  [["room_id", 1], ["user_id", 1], ["LIMIT", 1]]
  â†³ app/models/room.rb:25:in `participant?'
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.4ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 1], ["variation_digest", "2LUGSpqeAxE2FTbZR5KExFsl26Y="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 47)
  Rendered users/_last_message.html.erb (Duration: 0.0ms | Allocations: 15)
  Rendered users/_user.html.erb (Duration: 11.2ms | Allocations: 3948)
  Rendered users/_users.html.erb (Duration: 17.6ms | Allocations: 6897)
  Rendered layouts/_new_room_form.html.erb (Duration: 0.1ms | Allocations: 20)
  Rendered rooms/_search_results.html.erb (Duration: 0.0ms | Allocations: 15)
  Rendered rooms/_search_form.html.erb (Duration: 0.9ms | Allocations: 814)
  [1m[36mRoom Load (0.7ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 ORDER BY last_message_at DESC[0m  [["user_id", 2]]
  â†³ app/views/rooms/_rooms.html.erb:1
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 1], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mNotification Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "notifications" WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/1"},"_aj_symbol_keys":["room"]}') AND "notifications"."type" = $1 AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["type", "MessageNotification"], ["recipient_type", "User"], ["recipient_id", 2]]
  â†³ app/views/rooms/_notifications.html.erb:4
  Rendered rooms/_notifications.html.erb (Duration: 2.5ms | Allocations: 884)
  [1m[36mRoom Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 AND "rooms"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:39:in `has_joined_room'
  Rendered rooms/_joinable_link.html.erb (Duration: 3.2ms | Allocations: 835)
  Rendered rooms/_last_message.html.erb (Duration: 0.4ms | Allocations: 106)
  Rendered rooms/_room.html.erb (Duration: 7.1ms | Allocations: 2163)
  Rendered rooms/_rooms.html.erb (Duration: 14.3ms | Allocations: 4646)
  Rendered messages/_pager.html.erb (Duration: 0.3ms | Allocations: 115)
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.5ms | Allocations: 1081)
  [1m[36mActiveStorage::Attachment Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 221], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.6ms | Allocations: 1033)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 3.0ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 222], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 3.2ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 2.4ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 223], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.6ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.1ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 224], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.0ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 2.7ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 225], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.3ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.3ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 226], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.6ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.8ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 227], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.8ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.3ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 228], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.6ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.3ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 229], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.9ms | Allocations: 1112)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 2.2ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 230], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 3.5ms | Allocations: 1040)
  Rendered collection of messages/_message.html.erb [10 times] (Duration: 82.1ms | Allocations: 36530)
  Rendered layouts/_new_message_form.html.erb (Duration: 1.3ms | Allocations: 400)
  Rendered rooms/index.html.erb within layouts/application (Duration: 127.3ms | Allocations: 52752)
  Rendered layouts/_navbar.html.erb (Duration: 0.0ms | Allocations: 15)
  Rendered layout layouts/application.html.erb (Duration: 130.2ms | Allocations: 54985)
Completed 200 OK in 160ms (Views: 118.1ms | ActiveRecord: 18.2ms | Allocations: 64986)


Finished "/cable/" [WebSocket] for ::1 at 2022-07-15 03:44:28 -0400
Turbo::StreamsChannel stopped streaming from user_status
Turbo::StreamsChannel stopped streaming from users
Turbo::StreamsChannel stopped streaming from rooms
Turbo::StreamsChannel stopped streaming from Z2lkOi8vdHVyYm9jaGF0L1Jvb20vMQ
Finished "/cable/" [WebSocket] for ::1 at 2022-07-15 03:44:28 -0400
AppearanceChannel stopped streaming from appearance_channel
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhaakoxZG1ZNVkzWm5kMnQ2Y1d4elluRTNlVEJxYW1wNmNXUmthZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVDJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SWtGa2JXbHVJRkJoY25RZ055NXdibWNpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjBGa2JXbHVKVEl3VUdGeWRDVXlNRGN1Y0c1bkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSU9hVzFoWjJVdmNHNW5CanNHVkRvUmMyVnlkbWxqWlY5dVlXMWxPZ3BzYjJOaGJBPT0iLCJleHAiOiIyMDIyLTA3LTE1VDA3OjQ3OjE2LjExMVoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--4b6236e7990bfc60afd7bc6c47de54f9a440bef1/Admin%20Part%207.png" for ::1 at 2022-07-15 03:44:28 -0400
Processing by ActiveStorage::DiskController#show as PNG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"Admin Part 7"}
Completed 304 Not Modified in 1ms (ActiveRecord: 0.0ms | Allocations: 210)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhOWFIwWlRsb1ptOW1lbkkwTXpFNU1teDBPSFY2WTJjMGNIcDRid1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0wNy0xNVQwNzo0NzoxNi4xNzJaIiwicHVyIjoiYmxvYl9rZXkifX0=--ce5b72dd9b85989b3ab18ea8be611c63df781072/default_profile.jpg" for ::1 at 2022-07-15 03:44:28 -0400
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"default_profile"}
Completed 304 Not Modified in 2ms (ActiveRecord: 0.0ms | Allocations: 310)


Started GET "/cable" for ::1 at 2022-07-15 03:44:28 -0400
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-15 03:44:28 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:12:in `find_verified_user'
Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMg)
Started GET "/cable" for ::1 at 2022-07-15 03:44:28 -0400
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-15 03:44:28 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:12:in `find_verified_user'
Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMg)
AppearanceChannel is transmitting the subscription confirmation
AppearanceChannel is streaming from appearance_channel
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from user_status
AppearanceChannel#online
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from users
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from rooms
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from Z2lkOi8vdHVyYm9jaGF0L1Jvb20vMQ
AppearanceChannel#online
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
Started GET "/rooms/1" for ::1 at 2022-07-15 03:44:29 -0400
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `set_current_user'
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:16:in `show'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/rooms_controller.rb:17:in `show'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:17:in `show'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/rooms_controller.rb:17:in `show'
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 53)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-danger\" id=\"user_2\"></div>\n</template></turbo-stream>"
  [1m[36mMessage Count (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."room_id" = $1[0m  [["room_id", 1]]
  â†³ app/controllers/rooms_controller.rb:26:in `show'
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2 OFFSET $3[0m  [["room_id", 1], ["LIMIT", 10], ["OFFSET", 0]]
  â†³ app/controllers/rooms_controller.rb:27:in `show'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/rooms_controller.rb:27:in `show'
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-danger\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
  [1m[36mNotification Update All (1.2ms)[0m  [1m[33mUPDATE "notifications" SET "read_at" = $1 WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/1"},"_aj_symbol_keys":["room"]}') AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["read_at", "2022-07-15 07:44:29.299137"], ["recipient_type", "User"], ["recipient_id", 2]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_notifications_to_read'
  Rendering layout layouts/application.html.erb
  Rendering rooms/index.html.erb within layouts/application
  Rendered shared/_message_error.html.erb (Duration: 0.0ms | Allocations: 16)
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.4ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 47)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1[0m  [["id", 2]]
  â†³ app/views/users/_users.html.erb:1
  [1m[36mRoom Load (0.4ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 ORDER BY "rooms"."id" ASC LIMIT $2[0m  [["name", "private_1_2"], ["LIMIT", 1]]
  â†³ app/views/users/_users.html.erb:4
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 3], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mCACHE Message Load (0.0ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 3], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mParticipant Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "participants" WHERE "participants"."room_id" = $1 AND "participants"."user_id" = $2 LIMIT $3[0m  [["room_id", 1], ["user_id", 1], ["LIMIT", 1]]
  â†³ app/models/room.rb:25:in `participant?'
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.3ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 1], ["variation_digest", "2LUGSpqeAxE2FTbZR5KExFsl26Y="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 47)
  Rendered users/_last_message.html.erb (Duration: 0.1ms | Allocations: 15)
  Rendered users/_user.html.erb (Duration: 10.0ms | Allocations: 3948)
  Rendered users/_users.html.erb (Duration: 15.5ms | Allocations: 6897)
  Rendered layouts/_new_room_form.html.erb (Duration: 0.1ms | Allocations: 20)
  Rendered rooms/_search_results.html.erb (Duration: 0.0ms | Allocations: 15)
  Rendered rooms/_search_form.html.erb (Duration: 0.9ms | Allocations: 813)
  [1m[36mRoom Load (0.5ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 ORDER BY last_message_at DESC[0m  [["user_id", 2]]
  â†³ app/views/rooms/_rooms.html.erb:1
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 1], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mNotification Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "notifications" WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/1"},"_aj_symbol_keys":["room"]}') AND "notifications"."type" = $1 AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["type", "MessageNotification"], ["recipient_type", "User"], ["recipient_id", 2]]
  â†³ app/views/rooms/_notifications.html.erb:4
  Rendered rooms/_notifications.html.erb (Duration: 1.9ms | Allocations: 884)
  [1m[36mRoom Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 AND "rooms"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:39:in `has_joined_room'
  Rendered rooms/_joinable_link.html.erb (Duration: 1.7ms | Allocations: 835)
  Rendered rooms/_last_message.html.erb (Duration: 0.8ms | Allocations: 106)
  Rendered rooms/_room.html.erb (Duration: 5.4ms | Allocations: 2163)
  Rendered rooms/_rooms.html.erb (Duration: 12.0ms | Allocations: 4643)
  Rendered messages/_pager.html.erb (Duration: 0.2ms | Allocations: 115)
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.8ms | Allocations: 1081)
  [1m[36mActiveStorage::Attachment Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 221], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.1ms | Allocations: 1033)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.4ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 222], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.4ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.7ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 223], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.4ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.3ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 224], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 1.9ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 2.1ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 225], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.3ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 2.5ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 226], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 1.8ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.5ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 227], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 1.9ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.6ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 228], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.1ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.4ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 229], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.3ms | Allocations: 1112)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.2ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 230], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.8ms | Allocations: 1040)
  Rendered collection of messages/_message.html.erb [10 times] (Duration: 70.3ms | Allocations: 36530)
  Rendered layouts/_new_message_form.html.erb (Duration: 1.0ms | Allocations: 400)
  Rendered rooms/index.html.erb within layouts/application (Duration: 109.8ms | Allocations: 52745)
  Rendered layouts/_navbar.html.erb (Duration: 0.0ms | Allocations: 15)
  Rendered layout layouts/application.html.erb (Duration: 112.5ms | Allocations: 54967)
Completed 200 OK in 138ms (Views: 102.9ms | ActiveRecord: 15.2ms | Allocations: 64948)


Finished "/cable/" [WebSocket] for ::1 at 2022-07-15 03:44:29 -0400
AppearanceChannel stopped streaming from appearance_channel
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
Finished "/cable/" [WebSocket] for ::1 at 2022-07-15 03:44:29 -0400
Turbo::StreamsChannel stopped streaming from user_status
Turbo::StreamsChannel stopped streaming from users
Turbo::StreamsChannel stopped streaming from rooms
Turbo::StreamsChannel stopped streaming from Z2lkOi8vdHVyYm9jaGF0L1Jvb20vMQ
Started GET "/rails/active_storage/representations/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDUT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--10fd4699f19e65e41e57dc0c4d8052c5b6224e13/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdCem9MWm05eWJXRjBTU0lJY0c1bkJqb0dSVlE2RkhKbGMybDZaVjkwYjE5c2FXMXBkRnNIYVRkcE53PT0iLCJleHAiOm51bGwsInB1ciI6InZhcmlhdGlvbiJ9fQ==--10cd12dda4766ef711b13e56db032a47fae0911d/Admin%20Part%207.png" for ::1 at 2022-07-15 03:44:29 -0400
Started GET "/rails/active_storage/representations/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--758538ea0401eddfb27db21a61b40545e294fba7/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdCem9MWm05eWJXRjBTU0lJYW5CbkJqb0dSVlE2RkhKbGMybDZaVjkwYjE5c2FXMXBkRnNIYVRkcE53PT0iLCJleHAiOm51bGwsInB1ciI6InZhcmlhdGlvbiJ9fQ==--7c67a13b9fd72c703fa320aa1af6cdefe07ca623/default_profile.jpg" for ::1 at 2022-07-15 03:44:29 -0400
Processing by ActiveStorage::Representations::RedirectController#show as PNG
  Parameters: {"signed_blob_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDUT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--10fd4699f19e65e41e57dc0c4d8052c5b6224e13", "variation_key"=>"[FILTERED]", "filename"=>"Admin Part 7"}
Processing by ActiveStorage::Representations::RedirectController#show as JPEG
  Parameters: {"signed_blob_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--758538ea0401eddfb27db21a61b40545e294fba7", "variation_key"=>"[FILTERED]", "filename"=>"default_profile"}
  [1m[36mActiveStorage::Blob Load (0.9ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mActiveStorage::VariantRecord Load (2.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (3.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::VariantRecord Load (0.4ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 1], ["variation_digest", "2LUGSpqeAxE2FTbZR5KExFsl26Y="], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (2.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
[36m  Disk Storage (0.8ms) [0m[34mGenerated URL for file at key: f2uvf9cvgwkzqlsbq7y0jjjzqddj (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhaakoxZG1ZNVkzWm5kMnQ2Y1d4elluRTNlVEJxYW1wNmNXUmthZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVDJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SWtGa2JXbHVJRkJoY25RZ055NXdibWNpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjBGa2JXbHVKVEl3VUdGeWRDVXlNRGN1Y0c1bkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSU9hVzFoWjJVdmNHNW5CanNHVkRvUmMyVnlkbWxqWlY5dVlXMWxPZ3BzYjJOaGJBPT0iLCJleHAiOiIyMDIyLTA3LTE1VDA3OjQ5OjI5LjcxOVoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--f57330d7ff124bb6b68d50b611c54d8a0141dca1/Admin%20Part%207.png)[0m
  [1m[36mActiveStorage::Attachment Load (2.9ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhaakoxZG1ZNVkzWm5kMnQ2Y1d4elluRTNlVEJxYW1wNmNXUmthZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVDJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SWtGa2JXbHVJRkJoY25RZ055NXdibWNpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjBGa2JXbHVKVEl3VUdGeWRDVXlNRGN1Y0c1bkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSU9hVzFoWjJVdmNHNW5CanNHVkRvUmMyVnlkbWxqWlY5dVlXMWxPZ3BzYjJOaGJBPT0iLCJleHAiOiIyMDIyLTA3LTE1VDA3OjQ5OjI5LjcxOVoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--f57330d7ff124bb6b68d50b611c54d8a0141dca1/Admin%20Part%207.png
Completed 302 Found in 31ms (ActiveRecord: 5.6ms | Allocations: 10181)


  [1m[36mActiveStorage::Blob Load (0.8ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[36m  Disk Storage (0.6ms) [0m[34mGenerated URL for file at key: 5tte9hfofzr43192lt8uzcg4pzxo (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhOWFIwWlRsb1ptOW1lbkkwTXpFNU1teDBPSFY2WTJjMGNIcDRid1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0wNy0xNVQwNzo0OToyOS43MjdaIiwicHVyIjoiYmxvYl9rZXkifX0=--bd30ab4404c346c8c8744ba85d92ea36e3b5b845/default_profile.jpg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhOWFIwWlRsb1ptOW1lbkkwTXpFNU1teDBPSFY2WTJjMGNIcDRid1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0wNy0xNVQwNzo0OToyOS43MjdaIiwicHVyIjoiYmxvYl9rZXkifX0=--bd30ab4404c346c8c8744ba85d92ea36e3b5b845/default_profile.jpg
Completed 302 Found in 34ms (ActiveRecord: 7.0ms | Allocations: 11406)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhaakoxZG1ZNVkzWm5kMnQ2Y1d4elluRTNlVEJxYW1wNmNXUmthZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVDJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SWtGa2JXbHVJRkJoY25RZ055NXdibWNpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjBGa2JXbHVKVEl3VUdGeWRDVXlNRGN1Y0c1bkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSU9hVzFoWjJVdmNHNW5CanNHVkRvUmMyVnlkbWxqWlY5dVlXMWxPZ3BzYjJOaGJBPT0iLCJleHAiOiIyMDIyLTA3LTE1VDA3OjQ5OjI5LjcxOVoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--f57330d7ff124bb6b68d50b611c54d8a0141dca1/Admin%20Part%207.png" for ::1 at 2022-07-15 03:44:29 -0400
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhOWFIwWlRsb1ptOW1lbkkwTXpFNU1teDBPSFY2WTJjMGNIcDRid1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0wNy0xNVQwNzo0OToyOS43MjdaIiwicHVyIjoiYmxvYl9rZXkifX0=--bd30ab4404c346c8c8744ba85d92ea36e3b5b845/default_profile.jpg" for ::1 at 2022-07-15 03:44:29 -0400
Processing by ActiveStorage::DiskController#show as PNG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"Admin Part 7"}
Completed 200 OK in 3ms (ActiveRecord: 0.0ms | Allocations: 247)


Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"default_profile"}
Completed 200 OK in 2ms (ActiveRecord: 0.0ms | Allocations: 231)


Started GET "/cable" for ::1 at 2022-07-15 03:44:30 -0400
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-15 03:44:30 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:12:in `find_verified_user'
Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMg)
AppearanceChannel is transmitting the subscription confirmation
AppearanceChannel is streaming from appearance_channel
AppearanceChannel#online
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
Started POST "/rooms/1/messages" for ::1 at 2022-07-15 03:44:33 -0400
Processing by MessagesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "message"=>{"attachments"=>[""], "body"=>"/dnd"}, "commit"=>"Send", "room_id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `set_current_user'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:63:in `dnd_manager'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:63:in `dnd_manager'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:63:in `dnd_manager'
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 71)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-danger\" id=\"user_2\"></div>\n</template></turbo-stream>"
No template found for MessagesController#create, rendering head :no_content
Completed 204 No Content in 13ms (ActiveRecord: 1.5ms | Allocations: 5215)


  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
Started GET "/cable" for ::1 at 2022-07-15 03:44:40 -0400
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-15 03:44:40 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:12:in `find_verified_user'
Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMg)
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from user_status
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from users
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from rooms
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from Z2lkOi8vdHVyYm9jaGF0L1Jvb20vMQ
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
AppearanceChannel#online
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
Started GET "/rooms/1" for ::1 at 2022-07-15 03:46:54 -0400
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `set_current_user'
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:16:in `show'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/rooms_controller.rb:17:in `show'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:17:in `show'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/rooms_controller.rb:17:in `show'
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 98)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-danger\" id=\"user_2\"></div>\n</template></turbo-stream>"
  [1m[36mMessage Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."room_id" = $1[0m  [["room_id", 1]]
  â†³ app/controllers/rooms_controller.rb:26:in `show'
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2 OFFSET $3[0m  [["room_id", 1], ["LIMIT", 10], ["OFFSET", 0]]
  â†³ app/controllers/rooms_controller.rb:27:in `show'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/rooms_controller.rb:27:in `show'
  [1m[36mNotification Update All (0.4ms)[0m  [1m[33mUPDATE "notifications" SET "read_at" = $1 WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/1"},"_aj_symbol_keys":["room"]}') AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["read_at", "2022-07-15 07:46:54.740021"], ["recipient_type", "User"], ["recipient_id", 2]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_notifications_to_read'
  Rendering layout layouts/application.html.erb
  Rendering rooms/index.html.erb within layouts/application
  Rendered shared/_message_error.html.erb (Duration: 0.0ms | Allocations: 22)
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.3ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 59)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1[0m  [["id", 2]]
  â†³ app/views/users/_users.html.erb:1
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 ORDER BY "rooms"."id" ASC LIMIT $2[0m  [["name", "private_1_2"], ["LIMIT", 1]]
  â†³ app/views/users/_users.html.erb:4
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 3], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mCACHE Message Load (0.0ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 3], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mParticipant Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "participants" WHERE "participants"."room_id" = $1 AND "participants"."user_id" = $2 LIMIT $3[0m  [["room_id", 1], ["user_id", 1], ["LIMIT", 1]]
  â†³ app/models/room.rb:25:in `participant?'
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.4ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 1], ["variation_digest", "2LUGSpqeAxE2FTbZR5KExFsl26Y="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.6ms | Allocations: 53)
  Rendered users/_last_message.html.erb (Duration: 0.0ms | Allocations: 16)
  Rendered users/_user.html.erb (Duration: 19.5ms | Allocations: 7111)
  Rendered users/_users.html.erb (Duration: 28.7ms | Allocations: 10212)
  Rendered layouts/_new_room_form.html.erb (Duration: 0.1ms | Allocations: 28)
  Rendered rooms/_search_results.html.erb (Duration: 0.0ms | Allocations: 16)
  Rendered rooms/_search_form.html.erb (Duration: 0.7ms | Allocations: 836)
  [1m[36mRoom Load (0.6ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 ORDER BY last_message_at DESC[0m  [["user_id", 2]]
  â†³ app/views/rooms/_rooms.html.erb:1
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 1], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mNotification Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "notifications" WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/1"},"_aj_symbol_keys":["room"]}') AND "notifications"."type" = $1 AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["type", "MessageNotification"], ["recipient_type", "User"], ["recipient_id", 2]]
  â†³ app/views/rooms/_notifications.html.erb:4
  Rendered rooms/_notifications.html.erb (Duration: 3.7ms | Allocations: 1348)
  [1m[36mRoom Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 AND "rooms"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:39:in `has_joined_room'
  Rendered rooms/_joinable_link.html.erb (Duration: 2.6ms | Allocations: 984)
  Rendered rooms/_last_message.html.erb (Duration: 0.4ms | Allocations: 182)
  Rendered rooms/_room.html.erb (Duration: 8.1ms | Allocations: 2886)
  Rendered rooms/_rooms.html.erb (Duration: 14.2ms | Allocations: 5451)
  Rendered messages/_pager.html.erb (Duration: 0.6ms | Allocations: 962)
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 2.4ms | Allocations: 1094)
  [1m[36mActiveStorage::Attachment Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 221], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 3.4ms | Allocations: 1779)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.6ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 222], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.8ms | Allocations: 1042)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 2.2ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 223], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.7ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.8ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 224], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.5ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.3ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 225], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.8ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 2.1ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 226], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.1ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.6ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 227], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 1.9ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.2ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 228], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 1.8ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 2.6ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 229], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 1.9ms | Allocations: 1112)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.3ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 230], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.1ms | Allocations: 1040)
  Rendered collection of messages/_message.html.erb [10 times] (Duration: 74.5ms | Allocations: 37458)
  Rendered layouts/_new_message_form.html.erb (Duration: 1.2ms | Allocations: 464)
  Rendered rooms/index.html.erb within layouts/application (Duration: 160.4ms | Allocations: 71244)
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 16)
  Rendered layout layouts/application.html.erb (Duration: 181.2ms | Allocations: 104291)
Completed 200 OK in 291ms (Views: 164.6ms | ActiveRecord: 38.6ms | Allocations: 139695)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhaakoxZG1ZNVkzWm5kMnQ2Y1d4elluRTNlVEJxYW1wNmNXUmthZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVDJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SWtGa2JXbHVJRkJoY25RZ055NXdibWNpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjBGa2JXbHVKVEl3VUdGeWRDVXlNRGN1Y0c1bkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSU9hVzFoWjJVdmNHNW5CanNHVkRvUmMyVnlkbWxqWlY5dVlXMWxPZ3BzYjJOaGJBPT0iLCJleHAiOiIyMDIyLTA3LTE1VDA3OjQ5OjI5LjcxOVoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--f57330d7ff124bb6b68d50b611c54d8a0141dca1/Admin%20Part%207.png" for ::1 at 2022-07-15 03:46:55 -0400
Processing by ActiveStorage::DiskController#show as PNG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"Admin Part 7"}
Completed 304 Not Modified in 3ms (ActiveRecord: 0.0ms | Allocations: 585)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhOWFIwWlRsb1ptOW1lbkkwTXpFNU1teDBPSFY2WTJjMGNIcDRid1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0wNy0xNVQwNzo0OToyOS43MjdaIiwicHVyIjoiYmxvYl9rZXkifX0=--bd30ab4404c346c8c8744ba85d92ea36e3b5b845/default_profile.jpg" for ::1 at 2022-07-15 03:46:55 -0400
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"default_profile"}
Completed 304 Not Modified in 2ms (ActiveRecord: 0.0ms | Allocations: 329)


Started GET "/cable" for ::1 at 2022-07-15 03:46:55 -0400
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-15 03:46:55 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:12:in `find_verified_user'
Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMg)
AppearanceChannel is transmitting the subscription confirmation
AppearanceChannel is streaming from appearance_channel
AppearanceChannel#online
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
Started GET "/cable" for ::1 at 2022-07-15 03:46:55 -0400
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-15 03:46:55 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:12:in `find_verified_user'
Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMg)
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from user_status
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from users
AppearanceChannel#online
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from Z2lkOi8vdHVyYm9jaGF0L1Jvb20vMQ
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from rooms
AppearanceChannel#online
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
Started POST "/rooms/1/messages" for ::1 at 2022-07-15 03:46:57 -0400
Processing by MessagesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "message"=>{"attachments"=>[""], "body"=>"/dnd"}, "commit"=>"Send", "room_id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `set_current_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:63:in `dnd_manager'
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:63:in `dnd_manager'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "status" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2022-07-15 07:46:57.103682"], ["status", 2], ["id", 2]]
  â†³ app/controllers/messages_controller.rb:63:in `dnd_manager'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:63:in `dnd_manager'
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 73)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
No template found for MessagesController#create, rendering head :no_content
Completed 204 No Content in 18ms (ActiveRecord: 4.1ms | Allocations: 6512)


Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "status" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2022-07-15 07:46:57.540171"], ["status", 2], ["id", 2]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 42)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Started GET "/rooms/1" for ::1 at 2022-07-15 03:46:58 -0400
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `set_current_user'
  [1m[36mRoom Load (0.4ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:16:in `show'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/rooms_controller.rb:17:in `show'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:17:in `show'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/rooms_controller.rb:17:in `show'
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 53)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
  [1m[36mMessage Count (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."room_id" = $1[0m  [["room_id", 1]]
  â†³ app/controllers/rooms_controller.rb:26:in `show'
  [1m[36mMessage Load (0.7ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2 OFFSET $3[0m  [["room_id", 1], ["LIMIT", 10], ["OFFSET", 0]]
  â†³ app/controllers/rooms_controller.rb:27:in `show'
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/rooms_controller.rb:27:in `show'
  [1m[36mNotification Update All (0.4ms)[0m  [1m[33mUPDATE "notifications" SET "read_at" = $1 WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/1"},"_aj_symbol_keys":["room"]}') AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["read_at", "2022-07-15 07:46:58.055623"], ["recipient_type", "User"], ["recipient_id", 2]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_notifications_to_read'
  Rendering layout layouts/application.html.erb
  Rendering rooms/index.html.erb within layouts/application
  Rendered shared/_message_error.html.erb (Duration: 0.0ms | Allocations: 16)
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.4ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.4ms | Allocations: 47)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1[0m  [["id", 2]]
  â†³ app/views/users/_users.html.erb:1
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 ORDER BY "rooms"."id" ASC LIMIT $2[0m  [["name", "private_1_2"], ["LIMIT", 1]]
  â†³ app/views/users/_users.html.erb:4
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 3], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mCACHE Message Load (0.0ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 3], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mParticipant Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "participants" WHERE "participants"."room_id" = $1 AND "participants"."user_id" = $2 LIMIT $3[0m  [["room_id", 1], ["user_id", 1], ["LIMIT", 1]]
  â†³ app/models/room.rb:25:in `participant?'
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.4ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 1], ["variation_digest", "2LUGSpqeAxE2FTbZR5KExFsl26Y="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 47)
  Rendered users/_last_message.html.erb (Duration: 0.0ms | Allocations: 15)
  Rendered users/_user.html.erb (Duration: 9.0ms | Allocations: 3959)
  Rendered users/_users.html.erb (Duration: 15.9ms | Allocations: 6911)
  Rendered layouts/_new_room_form.html.erb (Duration: 0.0ms | Allocations: 20)
  Rendered rooms/_search_results.html.erb (Duration: 0.0ms | Allocations: 15)
  Rendered rooms/_search_form.html.erb (Duration: 0.9ms | Allocations: 830)
  [1m[36mRoom Load (0.9ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 ORDER BY last_message_at DESC[0m  [["user_id", 2]]
  â†³ app/views/rooms/_rooms.html.erb:1
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 1], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mNotification Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "notifications" WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/1"},"_aj_symbol_keys":["room"]}') AND "notifications"."type" = $1 AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["type", "MessageNotification"], ["recipient_type", "User"], ["recipient_id", 2]]
  â†³ app/views/rooms/_notifications.html.erb:4
  Rendered rooms/_notifications.html.erb (Duration: 2.7ms | Allocations: 885)
  [1m[36mRoom Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 AND "rooms"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:39:in `has_joined_room'
  Rendered rooms/_joinable_link.html.erb (Duration: 2.2ms | Allocations: 840)
  Rendered rooms/_last_message.html.erb (Duration: 0.4ms | Allocations: 138)
  Rendered rooms/_room.html.erb (Duration: 6.3ms | Allocations: 2201)
  Rendered rooms/_rooms.html.erb (Duration: 13.5ms | Allocations: 4688)
  Rendered messages/_pager.html.erb (Duration: 0.2ms | Allocations: 120)
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 2.6ms | Allocations: 1081)
  [1m[36mActiveStorage::Attachment Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 221], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.9ms | Allocations: 1034)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.2ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.5ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 222], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.9ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.6ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 223], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.5ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.2ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 224], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.1ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.7ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 225], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 1.7ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 16.9ms | Allocations: 1081)
  [1m[36mActiveStorage::Attachment Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 226], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.7ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.5ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 227], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 1.7ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.4ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 228], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 1.9ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.6ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 229], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 1.8ms | Allocations: 1112)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.3ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 230], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.6ms | Allocations: 1040)
  Rendered collection of messages/_message.html.erb [10 times] (Duration: 86.3ms | Allocations: 36591)
  Rendered layouts/_new_message_form.html.erb (Duration: 0.7ms | Allocations: 415)
  Rendered rooms/index.html.erb within layouts/application (Duration: 126.8ms | Allocations: 53061)
  Rendered layouts/_navbar.html.erb (Duration: 0.0ms | Allocations: 15)
  Rendered layout layouts/application.html.erb (Duration: 129.3ms | Allocations: 55314)
Completed 200 OK in 155ms (Views: 118.4ms | ActiveRecord: 16.4ms | Allocations: 65438)


Finished "/cable/" [WebSocket] for ::1 at 2022-07-15 03:46:58 -0400
AppearanceChannel stopped streaming from appearance_channel
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
Finished "/cable/" [WebSocket] for ::1 at 2022-07-15 03:46:58 -0400
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mBEGIN[0m
Turbo::StreamsChannel stopped streaming from user_status
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
Turbo::StreamsChannel stopped streaming from users
Turbo::StreamsChannel stopped streaming from Z2lkOi8vdHVyYm9jaGF0L1Jvb20vMQ
Turbo::StreamsChannel stopped streaming from rooms
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "status" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["status", 0], ["updated_at", "2022-07-15 07:46:58.210886"], ["id", 2]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.3ms | Allocations: 41)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_2\"></div>\n</template></turbo-stream>"
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhOWFIwWlRsb1ptOW1lbkkwTXpFNU1teDBPSFY2WTJjMGNIcDRid1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0wNy0xNVQwNzo0OToyOS43MjdaIiwicHVyIjoiYmxvYl9rZXkifX0=--bd30ab4404c346c8c8744ba85d92ea36e3b5b845/default_profile.jpg" for ::1 at 2022-07-15 03:46:58 -0400
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhaakoxZG1ZNVkzWm5kMnQ2Y1d4elluRTNlVEJxYW1wNmNXUmthZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVDJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SWtGa2JXbHVJRkJoY25RZ055NXdibWNpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjBGa2JXbHVKVEl3VUdGeWRDVXlNRGN1Y0c1bkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSU9hVzFoWjJVdmNHNW5CanNHVkRvUmMyVnlkbWxqWlY5dVlXMWxPZ3BzYjJOaGJBPT0iLCJleHAiOiIyMDIyLTA3LTE1VDA3OjQ5OjI5LjcxOVoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--f57330d7ff124bb6b68d50b611c54d8a0141dca1/Admin%20Part%207.png" for ::1 at 2022-07-15 03:46:58 -0400
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"default_profile"}
Completed 304 Not Modified in 3ms (ActiveRecord: 0.0ms | Allocations: 262)


Processing by ActiveStorage::DiskController#show as PNG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"Admin Part 7"}
Completed 304 Not Modified in 0ms (ActiveRecord: 0.0ms | Allocations: 210)


Started GET "/cable" for ::1 at 2022-07-15 03:46:58 -0400
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-15 03:46:58 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:12:in `find_verified_user'
Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMg)
AppearanceChannel is transmitting the subscription confirmation
AppearanceChannel is streaming from appearance_channel
Started GET "/cable" for ::1 at 2022-07-15 03:46:58 -0400
AppearanceChannel#online
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mBEGIN[0m
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-15 03:46:58 -0400
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "status" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2022-07-15 07:46:58.452353"], ["status", 2], ["id", 2]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:12:in `find_verified_user'
  [1m[36mActiveStorage::Attachment Load (1.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMg)
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 41)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from user_status
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from users
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from rooms
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from Z2lkOi8vdHVyYm9jaGF0L1Jvb20vMQ
AppearanceChannel#online
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 40)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.3ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 55)
Started POST "/rooms/1/messages" for ::1 at 2022-07-15 03:47:01 -0400
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Processing by MessagesController#create as TURBO_STREAM
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
  Parameters: {"authenticity_token"=>"[FILTERED]", "message"=>{"attachments"=>[""], "body"=>"/dnd"}, "commit"=>"Send", "room_id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `set_current_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:63:in `dnd_manager'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:63:in `dnd_manager'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "status" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2022-07-15 07:47:01.721355"], ["status", 3], ["id", 2]]
  â†³ app/controllers/messages_controller.rb:63:in `dnd_manager'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:63:in `dnd_manager'
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 49)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-danger\" id=\"user_2\"></div>\n</template></turbo-stream>"
No template found for MessagesController#create, rendering head :no_content
Completed 204 No Content in 18ms (ActiveRecord: 3.9ms | Allocations: 5784)


Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-danger\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
Started POST "/rooms/1/messages" for ::1 at 2022-07-15 03:47:03 -0400
Processing by MessagesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "message"=>{"attachments"=>[""], "body"=>"/dnd"}, "commit"=>"Send", "room_id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `set_current_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:63:in `dnd_manager'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:63:in `dnd_manager'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "status" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2022-07-15 07:47:03.205843"], ["status", 2], ["id", 2]]
  â†³ app/controllers/messages_controller.rb:63:in `dnd_manager'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:63:in `dnd_manager'
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 53)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
No template found for MessagesController#create, rendering head :no_content
Completed 204 No Content in 15ms (ActiveRecord: 3.3ms | Allocations: 5841)


Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 41)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
AppearanceChannel#online
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Started POST "/rooms/1/messages" for ::1 at 2022-07-15 03:47:04 -0400
Processing by MessagesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "message"=>{"attachments"=>[""], "body"=>"/dnd"}, "commit"=>"Send", "room_id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `set_current_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:63:in `dnd_manager'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:63:in `dnd_manager'
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "status" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2022-07-15 07:47:04.578888"], ["status", 3], ["id", 2]]
  â†³ app/controllers/messages_controller.rb:63:in `dnd_manager'
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:63:in `dnd_manager'
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 53)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-danger\" id=\"user_2\"></div>\n</template></turbo-stream>"
No template found for MessagesController#create, rendering head :no_content
Completed 204 No Content in 16ms (ActiveRecord: 3.1ms | Allocations: 5823)


Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-danger\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
Started GET "/" for ::1 at 2022-07-15 03:47:08 -0400
Processing by PagesController#home as HTML
  [1m[36mUser Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."status" != $1[0m  [["status", 0]]
  â†³ app/controllers/pages_controller.rb:7:in `home'
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mMessage Load (0.9ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" IN (SELECT "rooms"."id" FROM "rooms" WHERE "rooms"."is_private" = $1) ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["is_private", false], ["LIMIT", 5]]
  â†³ app/views/pages/home.html.erb:26
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message_preview.html.erb:6
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message_preview.html.erb:9
  Rendered messages/_message_preview.html.erb (Duration: 6.8ms | Allocations: 3395)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message_preview.html.erb:6
  [1m[36mCACHE Room Load (0.0ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message_preview.html.erb:9
  Rendered messages/_message_preview.html.erb (Duration: 2.1ms | Allocations: 1402)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message_preview.html.erb:6
  [1m[36mCACHE Room Load (0.0ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message_preview.html.erb:9
  Rendered messages/_message_preview.html.erb (Duration: 2.8ms | Allocations: 1401)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message_preview.html.erb:6
  [1m[36mCACHE Room Load (0.0ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message_preview.html.erb:9
  Rendered messages/_message_preview.html.erb (Duration: 2.2ms | Allocations: 1401)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message_preview.html.erb:6
  [1m[36mCACHE Room Load (0.0ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message_preview.html.erb:9
  Rendered messages/_message_preview.html.erb (Duration: 1.7ms | Allocations: 1401)
  Rendered pages/home.html.erb within layouts/application (Duration: 22.9ms | Allocations: 10823)
  Rendered layouts/_navbar.html.erb (Duration: 0.0ms | Allocations: 16)
  Rendered layout layouts/application.html.erb (Duration: 27.0ms | Allocations: 13454)
Completed 200 OK in 35ms (Views: 26.8ms | ActiveRecord: 2.3ms | Allocations: 15759)


Started GET "/cable" for ::1 at 2022-07-15 03:47:08 -0400
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-15 03:47:08 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
An unauthorized connection attempt was rejected
Finished "/cable/" [WebSocket] for ::1 at 2022-07-15 03:47:08 -0400
Started GET "/cable" for ::1 at 2022-07-15 03:47:08 -0400
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-15 03:47:08 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
An unauthorized connection attempt was rejected
Finished "/cable/" [WebSocket] for ::1 at 2022-07-15 03:47:08 -0400
Started GET "/users/sign_in" for ::1 at 2022-07-15 03:47:09 -0400
Processing by Users::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 2.0ms | Allocations: 716)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 10.6ms | Allocations: 3158)
  Rendered layouts/_navbar.html.erb (Duration: 0.0ms | Allocations: 16)
  Rendered layout layouts/application.html.erb (Duration: 14.1ms | Allocations: 5741)
Completed 200 OK in 19ms (Views: 16.6ms | ActiveRecord: 0.0ms | Allocations: 7791)


Started POST "/users/sign_in" for ::1 at 2022-07-15 03:47:13 -0400
Processing by Users::SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"dean@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "dean@example.com"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `set_current_user'
Redirected to http://localhost:3000/
Completed 302 Found in 190ms (ActiveRecord: 0.5ms | Allocations: 3660)


Started GET "/" for ::1 at 2022-07-15 03:47:13 -0400
Processing by PagesController#home as TURBO_STREAM
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `set_current_user'
  [1m[36mUser Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."status" != $1[0m  [["status", 0]]
  â†³ app/controllers/pages_controller.rb:7:in `home'
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mMessage Load (0.8ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" IN (SELECT "rooms"."id" FROM "rooms" WHERE "rooms"."is_private" = $1) ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["is_private", false], ["LIMIT", 5]]
  â†³ app/views/pages/home.html.erb:26
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message_preview.html.erb:6
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message_preview.html.erb:9
  Rendered messages/_message_preview.html.erb (Duration: 3.3ms | Allocations: 1584)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message_preview.html.erb:6
  [1m[36mCACHE Room Load (0.0ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message_preview.html.erb:9
  Rendered messages/_message_preview.html.erb (Duration: 2.2ms | Allocations: 1402)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message_preview.html.erb:6
  [1m[36mCACHE Room Load (0.0ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message_preview.html.erb:9
  Rendered messages/_message_preview.html.erb (Duration: 2.1ms | Allocations: 1401)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message_preview.html.erb:6
  [1m[36mCACHE Room Load (0.0ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message_preview.html.erb:9
  Rendered messages/_message_preview.html.erb (Duration: 2.3ms | Allocations: 1401)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message_preview.html.erb:6
  [1m[36mCACHE Room Load (0.0ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message_preview.html.erb:9
  Rendered messages/_message_preview.html.erb (Duration: 2.1ms | Allocations: 1401)
  Rendered pages/home.html.erb within layouts/application (Duration: 16.3ms | Allocations: 8560)
  Rendered layouts/_navbar.html.erb (Duration: 0.2ms | Allocations: 15)
  Rendered layout layouts/application.html.erb (Duration: 20.6ms | Allocations: 10990)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/pages_controller.rb:13:in `set_status'
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/pages_controller.rb:13:in `set_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/pages_controller.rb:13:in `set_status'
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 49)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_1\"></div>\n</template></turbo-stream>"
Completed 200 OK in 36ms (Views: 19.8ms | ActiveRecord: 3.6ms | Allocations: 16858)


Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Started GET "/cable" for ::1 at 2022-07-15 03:47:13 -0400
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-15 03:47:13 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:12:in `find_verified_user'
Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMQ)
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from public_messages
Started GET "/rooms" for ::1 at 2022-07-15 03:47:14 -0400
Processing by RoomsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `set_current_user'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/rooms_controller.rb:9:in `index'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:9:in `index'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/rooms_controller.rb:9:in `index'
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.3ms | Allocations: 53)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_1\"></div>\n</template></turbo-stream>"
  Rendering layout layouts/application.html.erb
  Rendering rooms/index.html.erb within layouts/application
  Rendered shared/_message_error.html.erb (Duration: 0.1ms | Allocations: 16)
  [1m[36mActiveStorage::Blob Load (0.7ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
  [1m[36mActiveStorage::VariantRecord Load (0.8ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 1], ["variation_digest", "2LUGSpqeAxE2FTbZR5KExFsl26Y="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 47)
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1[0m  [["id", 1]]
  â†³ app/views/users/_users.html.erb:1
  [1m[36mRoom Load (1.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 ORDER BY "rooms"."id" ASC LIMIT $2[0m  [["name", "private_1_2"], ["LIMIT", 1]]
  â†³ app/views/users/_users.html.erb:4
  [1m[36mMessage Load (0.6ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 3], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mCACHE Message Load (0.0ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 3], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.2ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 47)
  Rendered users/_last_message.html.erb (Duration: 0.0ms | Allocations: 15)
  Rendered users/_user.html.erb (Duration: 8.8ms | Allocations: 3439)
  Rendered users/_users.html.erb (Duration: 22.0ms | Allocations: 7080)
  Rendered layouts/_new_room_form.html.erb (Duration: 1.3ms | Allocations: 451)
  Rendered rooms/_search_results.html.erb (Duration: 0.0ms | Allocations: 15)
  Rendered rooms/_search_form.html.erb (Duration: 1.1ms | Allocations: 893)
  [1m[36mRoom Load (0.7ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 ORDER BY last_message_at DESC[0m  [["user_id", 1]]
  â†³ app/views/rooms/_rooms.html.erb:1
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 1], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mNotification Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "notifications" WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/1"},"_aj_symbol_keys":["room"]}') AND "notifications"."type" = $1 AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["type", "MessageNotification"], ["recipient_type", "User"], ["recipient_id", 1]]
  â†³ app/views/rooms/_notifications.html.erb:4
  [1m[36mCACHE Notification Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "notifications" WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/1"},"_aj_symbol_keys":["room"]}') AND "notifications"."type" = $1 AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["type", "MessageNotification"], ["recipient_type", "User"], ["recipient_id", 1]]
  â†³ app/views/rooms/_notifications.html.erb:5
  Rendered rooms/_notifications.html.erb (Duration: 3.8ms | Allocations: 1506)
  [1m[36mRoom Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 AND "rooms"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:39:in `has_joined_room'
  Rendered rooms/_joinable_link.html.erb (Duration: 2.6ms | Allocations: 958)
  Rendered rooms/_last_message.html.erb (Duration: 0.4ms | Allocations: 117)
  Rendered rooms/_room.html.erb (Duration: 7.8ms | Allocations: 2919)
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 2], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mNotification Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "notifications" WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/2"},"_aj_symbol_keys":["room"]}') AND "notifications"."type" = $1 AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["type", "MessageNotification"], ["recipient_type", "User"], ["recipient_id", 1]]
  â†³ app/views/rooms/_notifications.html.erb:4
  Rendered rooms/_notifications.html.erb (Duration: 2.7ms | Allocations: 884)
  [1m[36mRoom Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 AND "rooms"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 2], ["LIMIT", 1]]
  â†³ app/models/user.rb:39:in `has_joined_room'
  Rendered rooms/_joinable_link.html.erb (Duration: 3.9ms | Allocations: 840)
  Rendered rooms/_last_message.html.erb (Duration: 0.0ms | Allocations: 15)
  Rendered rooms/_room.html.erb (Duration: 7.4ms | Allocations: 2077)
  Rendered rooms/_rooms.html.erb (Duration: 25.2ms | Allocations: 8402)
  Rendered rooms/index.html.erb within layouts/application (Duration: 61.7ms | Allocations: 20330)
  Rendered layouts/_navbar.html.erb (Duration: 0.0ms | Allocations: 15)
  Rendered layout layouts/application.html.erb (Duration: 65.2ms | Allocations: 22616)
Completed 200 OK in 80ms (Views: 56.6ms | ActiveRecord: 11.7ms | Allocations: 27769)


Unsubscribing from channel: {"channel":"Turbo::StreamsChannel","signed_stream_name":"InB1YmxpY19tZXNzYWdlcyI=--b59292e056b3d87d7934979af985afc9da8ba6023e412800f1c22835f05a3e4d"}
Turbo::StreamsChannel stopped streaming from public_messages
Started GET "/rails/active_storage/representations/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--758538ea0401eddfb27db21a61b40545e294fba7/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdCem9MWm05eWJXRjBTU0lJYW5CbkJqb0dSVlE2RkhKbGMybDZaVjkwYjE5c2FXMXBkRnNIYVRkcE53PT0iLCJleHAiOm51bGwsInB1ciI6InZhcmlhdGlvbiJ9fQ==--7c67a13b9fd72c703fa320aa1af6cdefe07ca623/default_profile.jpg" for ::1 at 2022-07-15 03:47:14 -0400
Started GET "/rails/active_storage/representations/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDUT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--10fd4699f19e65e41e57dc0c4d8052c5b6224e13/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdCem9MWm05eWJXRjBTU0lJY0c1bkJqb0dSVlE2RkhKbGMybDZaVjkwYjE5c2FXMXBkRnNIYVRkcE53PT0iLCJleHAiOm51bGwsInB1ciI6InZhcmlhdGlvbiJ9fQ==--10cd12dda4766ef711b13e56db032a47fae0911d/Admin%20Part%207.png" for ::1 at 2022-07-15 03:47:14 -0400
Processing by ActiveStorage::Representations::RedirectController#show as PNG
Processing by ActiveStorage::Representations::RedirectController#show as JPEG
  Parameters: {"signed_blob_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--758538ea0401eddfb27db21a61b40545e294fba7", "variation_key"=>"[FILTERED]", "filename"=>"default_profile"}
  Parameters: {"signed_blob_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDUT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--10fd4699f19e65e41e57dc0c4d8052c5b6224e13", "variation_key"=>"[FILTERED]", "filename"=>"Admin Part 7"}
  [1m[36mActiveStorage::Blob Load (1.7ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::VariantRecord Load (0.5ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 1], ["variation_digest", "2LUGSpqeAxE2FTbZR5KExFsl26Y="], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (2.6ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (1.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (1.8ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mActiveStorage::VariantRecord Load (0.7ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
[36m  Disk Storage (0.6ms) [0m[34mGenerated URL for file at key: 5tte9hfofzr43192lt8uzcg4pzxo (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhOWFIwWlRsb1ptOW1lbkkwTXpFNU1teDBPSFY2WTJjMGNIcDRid1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0wNy0xNVQwNzo1MjoxNC4yMTRaIiwicHVyIjoiYmxvYl9rZXkifX0=--1cb9d9ff7c0547e91a2cc64e0371aaa66fbd4b2e/default_profile.jpg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhOWFIwWlRsb1ptOW1lbkkwTXpFNU1teDBPSFY2WTJjMGNIcDRid1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0wNy0xNVQwNzo1MjoxNC4yMTRaIiwicHVyIjoiYmxvYl9rZXkifX0=--1cb9d9ff7c0547e91a2cc64e0371aaa66fbd4b2e/default_profile.jpg
Completed 302 Found in 26ms (ActiveRecord: 5.0ms | Allocations: 8055)


  [1m[36mActiveStorage::Attachment Load (2.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (1.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
[36m  Disk Storage (0.8ms) [0m[34mGenerated URL for file at key: f2uvf9cvgwkzqlsbq7y0jjjzqddj (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhaakoxZG1ZNVkzWm5kMnQ2Y1d4elluRTNlVEJxYW1wNmNXUmthZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVDJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SWtGa2JXbHVJRkJoY25RZ055NXdibWNpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjBGa2JXbHVKVEl3VUdGeWRDVXlNRGN1Y0c1bkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSU9hVzFoWjJVdmNHNW5CanNHVkRvUmMyVnlkbWxqWlY5dVlXMWxPZ3BzYjJOaGJBPT0iLCJleHAiOiIyMDIyLTA3LTE1VDA3OjUyOjE0LjIyM1oiLCJwdXIiOiJibG9iX2tleSJ9fQ==--072723a997dbf1733e0f97bc3d87181edb66364d/Admin%20Part%207.png)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhaakoxZG1ZNVkzWm5kMnQ2Y1d4elluRTNlVEJxYW1wNmNXUmthZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVDJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SWtGa2JXbHVJRkJoY25RZ055NXdibWNpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjBGa2JXbHVKVEl3VUdGeWRDVXlNRGN1Y0c1bkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSU9hVzFoWjJVdmNHNW5CanNHVkRvUmMyVnlkbWxqWlY5dVlXMWxPZ3BzYjJOaGJBPT0iLCJleHAiOiIyMDIyLTA3LTE1VDA3OjUyOjE0LjIyM1oiLCJwdXIiOiJibG9iX2tleSJ9fQ==--072723a997dbf1733e0f97bc3d87181edb66364d/Admin%20Part%207.png
Completed 302 Found in 33ms (ActiveRecord: 6.9ms | Allocations: 10195)


Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from user_status
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from rooms
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhOWFIwWlRsb1ptOW1lbkkwTXpFNU1teDBPSFY2WTJjMGNIcDRid1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0wNy0xNVQwNzo1MjoxNC4yMTRaIiwicHVyIjoiYmxvYl9rZXkifX0=--1cb9d9ff7c0547e91a2cc64e0371aaa66fbd4b2e/default_profile.jpg" for ::1 at 2022-07-15 03:47:14 -0400
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhaakoxZG1ZNVkzWm5kMnQ2Y1d4elluRTNlVEJxYW1wNmNXUmthZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVDJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SWtGa2JXbHVJRkJoY25RZ055NXdibWNpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjBGa2JXbHVKVEl3VUdGeWRDVXlNRGN1Y0c1bkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSU9hVzFoWjJVdmNHNW5CanNHVkRvUmMyVnlkbWxqWlY5dVlXMWxPZ3BzYjJOaGJBPT0iLCJleHAiOiIyMDIyLTA3LTE1VDA3OjUyOjE0LjIyM1oiLCJwdXIiOiJibG9iX2tleSJ9fQ==--072723a997dbf1733e0f97bc3d87181edb66364d/Admin%20Part%207.png" for ::1 at 2022-07-15 03:47:14 -0400
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"default_profile"}
Completed 200 OK in 3ms (ActiveRecord: 0.0ms | Allocations: 306)


Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from users
Processing by ActiveStorage::DiskController#show as PNG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"Admin Part 7"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 199)


AppearanceChannel#online
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
Started GET "/rooms" for ::1 at 2022-07-15 03:47:17 -0400
Processing by RoomsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `set_current_user'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/rooms_controller.rb:9:in `index'
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:9:in `index'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/rooms_controller.rb:9:in `index'
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 71)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_1\"></div>\n</template></turbo-stream>"
  Rendering layout layouts/application.html.erb
  Rendering rooms/index.html.erb within layouts/application
  Rendered shared/_message_error.html.erb (Duration: 0.1ms | Allocations: 16)
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.5ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 1], ["variation_digest", "2LUGSpqeAxE2FTbZR5KExFsl26Y="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 47)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1[0m  [["id", 1]]
  â†³ app/views/users/_users.html.erb:1
  [1m[36mRoom Load (1.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 ORDER BY "rooms"."id" ASC LIMIT $2[0m  [["name", "private_1_2"], ["LIMIT", 1]]
  â†³ app/views/users/_users.html.erb:4
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
  [1m[36mMessage Load (1.0ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 3], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mCACHE Message Load (0.0ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 3], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.6ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 47)
  Rendered users/_last_message.html.erb (Duration: 0.0ms | Allocations: 15)
  Rendered users/_user.html.erb (Duration: 12.0ms | Allocations: 3632)
  Rendered users/_users.html.erb (Duration: 26.8ms | Allocations: 7526)
  Rendered layouts/_new_room_form.html.erb (Duration: 1.1ms | Allocations: 430)
  Rendered rooms/_search_results.html.erb (Duration: 0.0ms | Allocations: 15)
  Rendered rooms/_search_form.html.erb (Duration: 1.5ms | Allocations: 928)
  [1m[36mRoom Load (0.6ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 ORDER BY last_message_at DESC[0m  [["user_id", 1]]
  â†³ app/views/rooms/_rooms.html.erb:1
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 1], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mNotification Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "notifications" WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/1"},"_aj_symbol_keys":["room"]}') AND "notifications"."type" = $1 AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["type", "MessageNotification"], ["recipient_type", "User"], ["recipient_id", 1]]
  â†³ app/views/rooms/_notifications.html.erb:4
  [1m[36mCACHE Notification Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "notifications" WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/1"},"_aj_symbol_keys":["room"]}') AND "notifications"."type" = $1 AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["type", "MessageNotification"], ["recipient_type", "User"], ["recipient_id", 1]]
  â†³ app/views/rooms/_notifications.html.erb:5
  Rendered rooms/_notifications.html.erb (Duration: 3.0ms | Allocations: 1529)
  [1m[36mRoom Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 AND "rooms"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:39:in `has_joined_room'
  Rendered rooms/_joinable_link.html.erb (Duration: 2.9ms | Allocations: 958)
  Rendered rooms/_last_message.html.erb (Duration: 0.5ms | Allocations: 117)
  Rendered rooms/_room.html.erb (Duration: 7.7ms | Allocations: 2942)
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 2], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mNotification Count (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "notifications" WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/2"},"_aj_symbol_keys":["room"]}') AND "notifications"."type" = $1 AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["type", "MessageNotification"], ["recipient_type", "User"], ["recipient_id", 1]]
  â†³ app/views/rooms/_notifications.html.erb:4
  Rendered rooms/_notifications.html.erb (Duration: 2.8ms | Allocations: 884)
  [1m[36mRoom Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 AND "rooms"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 2], ["LIMIT", 1]]
  â†³ app/models/user.rb:39:in `has_joined_room'
  Rendered rooms/_joinable_link.html.erb (Duration: 2.1ms | Allocations: 840)
  Rendered rooms/_last_message.html.erb (Duration: 0.0ms | Allocations: 15)
  Rendered rooms/_room.html.erb (Duration: 5.9ms | Allocations: 2077)
  Rendered rooms/_rooms.html.erb (Duration: 22.5ms | Allocations: 8542)
  Rendered rooms/index.html.erb within layouts/application (Duration: 64.5ms | Allocations: 20862)
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 15)
  Rendered layout layouts/application.html.erb (Duration: 69.5ms | Allocations: 23175)
Completed 200 OK in 86ms (Views: 62.2ms | ActiveRecord: 11.1ms | Allocations: 28579)


Finished "/cable/" [WebSocket] for ::1 at 2022-07-15 03:47:17 -0400
Turbo::StreamsChannel stopped streaming from user_status
Turbo::StreamsChannel stopped streaming from rooms
Turbo::StreamsChannel stopped streaming from users
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhOWFIwWlRsb1ptOW1lbkkwTXpFNU1teDBPSFY2WTJjMGNIcDRid1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0wNy0xNVQwNzo1MjoxNC4yMTRaIiwicHVyIjoiYmxvYl9rZXkifX0=--1cb9d9ff7c0547e91a2cc64e0371aaa66fbd4b2e/default_profile.jpg" for ::1 at 2022-07-15 03:47:17 -0400
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhaakoxZG1ZNVkzWm5kMnQ2Y1d4elluRTNlVEJxYW1wNmNXUmthZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVDJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SWtGa2JXbHVJRkJoY25RZ055NXdibWNpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjBGa2JXbHVKVEl3VUdGeWRDVXlNRGN1Y0c1bkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSU9hVzFoWjJVdmNHNW5CanNHVkRvUmMyVnlkbWxqWlY5dVlXMWxPZ3BzYjJOaGJBPT0iLCJleHAiOiIyMDIyLTA3LTE1VDA3OjUyOjE0LjIyM1oiLCJwdXIiOiJibG9iX2tleSJ9fQ==--072723a997dbf1733e0f97bc3d87181edb66364d/Admin%20Part%207.png" for ::1 at 2022-07-15 03:47:17 -0400
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"default_profile"}
Completed 304 Not Modified in 2ms (ActiveRecord: 0.0ms | Allocations: 252)


Processing by ActiveStorage::DiskController#show as PNG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"Admin Part 7"}
Completed 304 Not Modified in 1ms (ActiveRecord: 0.0ms | Allocations: 210)


Started GET "/cable" for ::1 at 2022-07-15 03:47:17 -0400
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-15 03:47:17 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:12:in `find_verified_user'
Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMQ)
AppearanceChannel is transmitting the subscription confirmation
AppearanceChannel is streaming from appearance_channel
AppearanceChannel#online
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Update (1.0ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "status" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2022-07-15 07:47:17.376444"], ["status", 2], ["id", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
Started GET "/cable" for ::1 at 2022-07-15 03:47:17 -0400
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-15 03:47:17 -0400
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.3ms | Allocations: 41)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:12:in `find_verified_user'
Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMQ)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from user_status
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from users
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from rooms
AppearanceChannel#online
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
Started POST "/rooms/1/messages" for ::1 at 2022-07-15 03:47:20 -0400
Processing by MessagesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "message"=>{"attachments"=>[""], "body"=>"/dnd"}, "commit"=>"Send", "room_id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `set_current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:63:in `dnd_manager'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:63:in `dnd_manager'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "status" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2022-07-15 07:47:20.249911"], ["status", 2], ["id", 2]]
  â†³ app/controllers/messages_controller.rb:63:in `dnd_manager'
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:63:in `dnd_manager'
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 53)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
No template found for MessagesController#create, rendering head :no_content
Completed 204 No Content in 17ms (ActiveRecord: 3.6ms | Allocations: 5844)


Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 41)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mBEGIN[0m
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Started POST "/rooms/1/messages" for ::1 at 2022-07-15 03:47:23 -0400
Processing by MessagesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "message"=>{"attachments"=>[""], "body"=>"/dnd"}, "commit"=>"Send", "room_id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `set_current_user'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:63:in `dnd_manager'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:63:in `dnd_manager'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "status" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2022-07-15 07:47:23.911088"], ["status", 3], ["id", 2]]
  â†³ app/controllers/messages_controller.rb:63:in `dnd_manager'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:63:in `dnd_manager'
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 53)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-danger\" id=\"user_2\"></div>\n</template></turbo-stream>"
No template found for MessagesController#create, rendering head :no_content
Completed 204 No Content in 18ms (ActiveRecord: 3.4ms | Allocations: 6073)


Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-danger\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-danger\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 41)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.5ms | Allocations: 40)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Started GET "/rooms" for ::1 at 2022-07-15 03:47:25 -0400
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Processing by RoomsController#index as HTML
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `set_current_user'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/rooms_controller.rb:9:in `index'
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:9:in `index'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/rooms_controller.rb:9:in `index'
  [1m[36mActiveStorage::Attachment Load (0.9ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 53)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
  Rendering layout layouts/application.html.erb
  Rendering rooms/index.html.erb within layouts/application
  Rendered shared/_message_error.html.erb (Duration: 0.1ms | Allocations: 16)
  [1m[36mActiveStorage::Blob Load (0.8ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
  [1m[36mActiveStorage::VariantRecord Load (0.9ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 1], ["variation_digest", "2LUGSpqeAxE2FTbZR5KExFsl26Y="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 47)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1[0m  [["id", 1]]
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
  â†³ app/views/users/_users.html.erb:1
  [1m[36mRoom Load (0.6ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 ORDER BY "rooms"."id" ASC LIMIT $2[0m  [["name", "private_1_2"], ["LIMIT", 1]]
  â†³ app/views/users/_users.html.erb:4
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 3], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mCACHE Message Load (0.0ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 3], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.3ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 47)
  Rendered users/_last_message.html.erb (Duration: 0.0ms | Allocations: 15)
  Rendered users/_user.html.erb (Duration: 8.6ms | Allocations: 3202)
  Rendered users/_users.html.erb (Duration: 21.4ms | Allocations: 6940)
  Rendered layouts/_new_room_form.html.erb (Duration: 1.4ms | Allocations: 372)
  Rendered rooms/_search_results.html.erb (Duration: 0.0ms | Allocations: 15)
  Rendered rooms/_search_form.html.erb (Duration: 0.8ms | Allocations: 890)
  [1m[36mRoom Load (0.5ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 ORDER BY last_message_at DESC[0m  [["user_id", 1]]
  â†³ app/views/rooms/_rooms.html.erb:1
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 1], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mNotification Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "notifications" WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/1"},"_aj_symbol_keys":["room"]}') AND "notifications"."type" = $1 AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["type", "MessageNotification"], ["recipient_type", "User"], ["recipient_id", 1]]
  â†³ app/views/rooms/_notifications.html.erb:4
  [1m[36mCACHE Notification Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "notifications" WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/1"},"_aj_symbol_keys":["room"]}') AND "notifications"."type" = $1 AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["type", "MessageNotification"], ["recipient_type", "User"], ["recipient_id", 1]]
  â†³ app/views/rooms/_notifications.html.erb:5
  Rendered rooms/_notifications.html.erb (Duration: 4.8ms | Allocations: 1467)
  [1m[36mRoom Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 AND "rooms"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:39:in `has_joined_room'
  Rendered rooms/_joinable_link.html.erb (Duration: 2.5ms | Allocations: 956)
  Rendered rooms/_last_message.html.erb (Duration: 0.4ms | Allocations: 106)
  Rendered rooms/_room.html.erb (Duration: 8.6ms | Allocations: 2867)
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 2], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mNotification Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "notifications" WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/2"},"_aj_symbol_keys":["room"]}') AND "notifications"."type" = $1 AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["type", "MessageNotification"], ["recipient_type", "User"], ["recipient_id", 1]]
  â†³ app/views/rooms/_notifications.html.erb:4
  Rendered rooms/_notifications.html.erb (Duration: 2.2ms | Allocations: 884)
  [1m[36mRoom Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 AND "rooms"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 2], ["LIMIT", 1]]
  â†³ app/models/user.rb:39:in `has_joined_room'
  Rendered rooms/_joinable_link.html.erb (Duration: 3.4ms | Allocations: 984)
  Rendered rooms/_last_message.html.erb (Duration: 0.1ms | Allocations: 15)
  Rendered rooms/_room.html.erb (Duration: 7.8ms | Allocations: 2240)
  Rendered rooms/_rooms.html.erb (Duration: 27.3ms | Allocations: 8511)
  Rendered rooms/index.html.erb within layouts/application (Duration: 66.5ms | Allocations: 20610)
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 15)
  Rendered layout layouts/application.html.erb (Duration: 77.0ms | Allocations: 23276)
Completed 200 OK in 100ms (Views: 69.4ms | ActiveRecord: 13.1ms | Allocations: 29460)


Finished "/cable/" [WebSocket] for ::1 at 2022-07-15 03:47:25 -0400
AppearanceChannel stopped streaming from appearance_channel
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
Finished "/cable/" [WebSocket] for ::1 at 2022-07-15 03:47:25 -0400
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
Turbo::StreamsChannel stopped streaming from user_status
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
Turbo::StreamsChannel stopped streaming from users
Turbo::StreamsChannel stopped streaming from rooms
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "status" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["status", 0], ["updated_at", "2022-07-15 07:47:25.335171"], ["id", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 41)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhOWFIwWlRsb1ptOW1lbkkwTXpFNU1teDBPSFY2WTJjMGNIcDRid1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0wNy0xNVQwNzo1MjoxNC4yMTRaIiwicHVyIjoiYmxvYl9rZXkifX0=--1cb9d9ff7c0547e91a2cc64e0371aaa66fbd4b2e/default_profile.jpg" for ::1 at 2022-07-15 03:47:25 -0400
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhaakoxZG1ZNVkzWm5kMnQ2Y1d4elluRTNlVEJxYW1wNmNXUmthZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVDJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SWtGa2JXbHVJRkJoY25RZ055NXdibWNpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjBGa2JXbHVKVEl3VUdGeWRDVXlNRGN1Y0c1bkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSU9hVzFoWjJVdmNHNW5CanNHVkRvUmMyVnlkbWxqWlY5dVlXMWxPZ3BzYjJOaGJBPT0iLCJleHAiOiIyMDIyLTA3LTE1VDA3OjUyOjE0LjIyM1oiLCJwdXIiOiJibG9iX2tleSJ9fQ==--072723a997dbf1733e0f97bc3d87181edb66364d/Admin%20Part%207.png" for ::1 at 2022-07-15 03:47:25 -0400
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"default_profile"}
Completed 304 Not Modified in 4ms (ActiveRecord: 0.0ms | Allocations: 288)


Started GET "/cable" for ::1 at 2022-07-15 03:47:25 -0400
Processing by ActiveStorage::DiskController#show as PNG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"Admin Part 7"}
Completed 304 Not Modified in 2ms (ActiveRecord: 0.0ms | Allocations: 237)


Started GET "/cable/" [WebSocket] for ::1 at 2022-07-15 03:47:25 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:12:in `find_verified_user'
Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMQ)
AppearanceChannel is transmitting the subscription confirmation
AppearanceChannel is streaming from appearance_channel
AppearanceChannel#online
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Update (2.0ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "status" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2022-07-15 07:47:25.431669"], ["status", 2], ["id", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
Started GET "/cable" for ::1 at 2022-07-15 03:47:25 -0400
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 53)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-15 03:47:25 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:12:in `find_verified_user'
Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMQ)
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from user_status
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from users
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from rooms
AppearanceChannel#online
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 41)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Started GET "/" for ::1 at 2022-07-15 03:47:27 -0400
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Processing by PagesController#home as HTML
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `set_current_user'
  [1m[36mUser Count (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."status" != $1[0m  [["status", 0]]
  â†³ app/controllers/pages_controller.rb:7:in `home'
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mMessage Load (1.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" IN (SELECT "rooms"."id" FROM "rooms" WHERE "rooms"."is_private" = $1) ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["is_private", false], ["LIMIT", 5]]
  â†³ app/views/pages/home.html.erb:26
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message_preview.html.erb:6
  [1m[36mRoom Load (0.4ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message_preview.html.erb:9
  Rendered messages/_message_preview.html.erb (Duration: 6.2ms | Allocations: 1883)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message_preview.html.erb:6
  [1m[36mCACHE Room Load (0.0ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message_preview.html.erb:9
  Rendered messages/_message_preview.html.erb (Duration: 2.4ms | Allocations: 1401)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message_preview.html.erb:6
  [1m[36mCACHE Room Load (0.0ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message_preview.html.erb:9
  Rendered messages/_message_preview.html.erb (Duration: 2.0ms | Allocations: 1401)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message_preview.html.erb:6
  [1m[36mCACHE Room Load (0.0ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message_preview.html.erb:9
  Rendered messages/_message_preview.html.erb (Duration: 1.7ms | Allocations: 1401)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message_preview.html.erb:6
  [1m[36mCACHE Room Load (0.0ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message_preview.html.erb:9
  Rendered messages/_message_preview.html.erb (Duration: 2.0ms | Allocations: 1401)
  Rendered pages/home.html.erb within layouts/application (Duration: 19.4ms | Allocations: 9091)
  Rendered layouts/_navbar.html.erb (Duration: 0.0ms | Allocations: 15)
  Rendered layout layouts/application.html.erb (Duration: 22.7ms | Allocations: 11439)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/pages_controller.rb:13:in `set_status'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/pages_controller.rb:13:in `set_status'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "status" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2022-07-15 07:47:27.356405"], ["status", 0], ["id", 1]]
  â†³ app/controllers/pages_controller.rb:13:in `set_status'
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/pages_controller.rb:13:in `set_status'
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 49)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_1\"></div>\n</template></turbo-stream>"
Completed 200 OK in 46ms (Views: 21.4ms | ActiveRecord: 7.8ms | Allocations: 18030)


Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Unsubscribing from channel: {"channel":"Turbo::StreamsChannel","signed_stream_name":"InVzZXJzIg==--0a4cafd9f04706169a05ab0bb14238d095c3f419aa3413d065af924eb0c2e24b"}
Turbo::StreamsChannel stopped streaming from users
AppearanceChannel#offline
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "status" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["status", 0], ["updated_at", "2022-07-15 07:47:27.390214"], ["id", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 41)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Unsubscribing from channel: {"channel":"Turbo::StreamsChannel","signed_stream_name":"InVzZXJfc3RhdHVzIg==--3d39e51a0c64c114de4d9c6964ee8eb28ea6d1afe338b0ba374797b0a277baae"}
Turbo::StreamsChannel stopped streaming from user_status
Unsubscribing from channel: {"channel":"Turbo::StreamsChannel","signed_stream_name":"InJvb21zIg==--4edce82e4ae554228aef8568cd4e928d961abc8f42bad80d979cdf3010454855"}
Turbo::StreamsChannel stopped streaming from rooms
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from public_messages
AppearanceChannel#offline
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.3ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_1\"></div>\n</template></turbo-stream>"
Unsubscribing from channel: {"channel":"Turbo::StreamsChannel","signed_stream_name":"InB1YmxpY19tZXNzYWdlcyI=--b59292e056b3d87d7934979af985afc9da8ba6023e412800f1c22835f05a3e4d"}
Turbo::StreamsChannel stopped streaming from public_messages
Started GET "/rooms" for ::1 at 2022-07-15 03:47:28 -0400
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Processing by RoomsController#index as HTML
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `set_current_user'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/rooms_controller.rb:9:in `index'
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:9:in `index'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/rooms_controller.rb:9:in `index'
  [1m[36mActiveStorage::Attachment Load (1.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 53)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_1\"></div>\n</template></turbo-stream>"
  Rendering layout layouts/application.html.erb
  Rendering rooms/index.html.erb within layouts/application
  Rendered shared/_message_error.html.erb (Duration: 0.0ms | Allocations: 16)
  [1m[36mActiveStorage::Blob Load (0.6ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
Turbo::StreamsChannel is transmitting the subscription confirmation
  [1m[36mActiveStorage::VariantRecord Load (0.4ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 1], ["variation_digest", "2LUGSpqeAxE2FTbZR5KExFsl26Y="], ["LIMIT", 1]]
Turbo::StreamsChannel is streaming from rooms
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 47)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1[0m  [["id", 1]]
  â†³ app/views/users/_users.html.erb:1
  [1m[36mRoom Load (2.5ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 ORDER BY "rooms"."id" ASC LIMIT $2[0m  [["name", "private_1_2"], ["LIMIT", 1]]
  â†³ app/views/users/_users.html.erb:4
Turbo::StreamsChannel is transmitting the subscription confirmation
  [1m[36mMessage Load (1.7ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 3], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
Turbo::StreamsChannel is streaming from user_status
  [1m[36mCACHE Message Load (0.0ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 3], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
  [1m[36mActiveStorage::Blob Load (0.8ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.8ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 47)
  Rendered users/_last_message.html.erb (Duration: 0.1ms | Allocations: 15)
  Rendered users/_user.html.erb (Duration: 11.8ms | Allocations: 3987)
  Rendered users/_users.html.erb (Duration: 27.2ms | Allocations: 9411)
  Rendered layouts/_new_room_form.html.erb (Duration: 1.4ms | Allocations: 372)
  Rendered rooms/_search_results.html.erb (Duration: 0.0ms | Allocations: 15)
  Rendered rooms/_search_form.html.erb (Duration: 0.9ms | Allocations: 903)
  [1m[36mRoom Load (0.9ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 ORDER BY last_message_at DESC[0m  [["user_id", 1]]
  â†³ app/views/rooms/_rooms.html.erb:1
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from users
  [1m[36mMessage Load (1.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 1], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mNotification Count (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "notifications" WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/1"},"_aj_symbol_keys":["room"]}') AND "notifications"."type" = $1 AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["type", "MessageNotification"], ["recipient_type", "User"], ["recipient_id", 1]]
  â†³ app/views/rooms/_notifications.html.erb:4
  [1m[36mCACHE Notification Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "notifications" WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/1"},"_aj_symbol_keys":["room"]}') AND "notifications"."type" = $1 AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["type", "MessageNotification"], ["recipient_type", "User"], ["recipient_id", 1]]
  â†³ app/views/rooms/_notifications.html.erb:5
  Rendered rooms/_notifications.html.erb (Duration: 4.4ms | Allocations: 1745)
  [1m[36mRoom Exists? (11.6ms)[0m  [1m[34mSELECT 1 AS one FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 AND "rooms"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:39:in `has_joined_room'
  Rendered rooms/_joinable_link.html.erb (Duration: 23.7ms | Allocations: 1187)
  Rendered rooms/_last_message.html.erb (Duration: 0.4ms | Allocations: 106)
  Rendered rooms/_room.html.erb (Duration: 45.7ms | Allocations: 3387)
  [1m[36mMessage Load (8.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 2], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mNotification Count (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "notifications" WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/2"},"_aj_symbol_keys":["room"]}') AND "notifications"."type" = $1 AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["type", "MessageNotification"], ["recipient_type", "User"], ["recipient_id", 1]]
  â†³ app/views/rooms/_notifications.html.erb:4
  Rendered rooms/_notifications.html.erb (Duration: 17.5ms | Allocations: 1027)
  [1m[36mRoom Exists? (6.8ms)[0m  [1m[34mSELECT 1 AS one FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 AND "rooms"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 2], ["LIMIT", 1]]
  â†³ app/models/user.rb:39:in `has_joined_room'
  Rendered rooms/_joinable_link.html.erb (Duration: 16.4ms | Allocations: 1068)
  Rendered rooms/_last_message.html.erb (Duration: 0.0ms | Allocations: 15)
  Rendered rooms/_room.html.erb (Duration: 42.8ms | Allocations: 2563)
  Rendered rooms/_rooms.html.erb (Duration: 116.6ms | Allocations: 10157)
  Rendered rooms/index.html.erb within layouts/application (Duration: 160.3ms | Allocations: 24530)
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 15)
  Rendered layout layouts/application.html.erb (Duration: 193.2ms | Allocations: 26780)
Completed 200 OK in 225ms (Views: 162.4ms | ActiveRecord: 44.0ms | Allocations: 33229)


Unsubscribing from channel: {"channel":"Turbo::StreamsChannel","signed_stream_name":"InVzZXJzIg==--0a4cafd9f04706169a05ab0bb14238d095c3f419aa3413d065af924eb0c2e24b"}
Turbo::StreamsChannel stopped streaming from users
AppearanceChannel#online
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Update (7.3ms)[0m  [1m[33mUPDATE "users" SET "status" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["status", 2], ["updated_at", "2022-07-15 07:47:29.290721"], ["id", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
Unsubscribing from channel: {"channel":"Turbo::StreamsChannel","signed_stream_name":"InJvb21zIg==--4edce82e4ae554228aef8568cd4e928d961abc8f42bad80d979cdf3010454855"}
Turbo::StreamsChannel stopped streaming from rooms
  [1m[36mTRANSACTION (9.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 41)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from rooms
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from users
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
Started GET "/rooms" for ::1 at 2022-07-15 03:47:30 -0400
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.5ms | Allocations: 53)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Processing by RoomsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `set_current_user'
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/rooms_controller.rb:9:in `index'
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:9:in `index'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/rooms_controller.rb:9:in `index'
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 49)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
  Rendering layout layouts/application.html.erb
  Rendering rooms/index.html.erb within layouts/application
  Rendered shared/_message_error.html.erb (Duration: 0.0ms | Allocations: 16)
  [1m[36mActiveStorage::Blob Load (0.6ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
  [1m[36mActiveStorage::VariantRecord Load (1.2ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 1], ["variation_digest", "2LUGSpqeAxE2FTbZR5KExFsl26Y="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 47)
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1[0m  [["id", 1]]
  â†³ app/views/users/_users.html.erb:1
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
  [1m[36mRoom Load (1.5ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 ORDER BY "rooms"."id" ASC LIMIT $2[0m  [["name", "private_1_2"], ["LIMIT", 1]]
  â†³ app/views/users/_users.html.erb:4
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 3], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mCACHE Message Load (0.0ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 3], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.3ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 47)
  Rendered users/_last_message.html.erb (Duration: 0.0ms | Allocations: 15)
  Rendered users/_user.html.erb (Duration: 8.8ms | Allocations: 3367)
  Rendered users/_users.html.erb (Duration: 21.3ms | Allocations: 7014)
  Rendered layouts/_new_room_form.html.erb (Duration: 1.2ms | Allocations: 372)
  Rendered rooms/_search_results.html.erb (Duration: 0.0ms | Allocations: 15)
  Rendered rooms/_search_form.html.erb (Duration: 0.6ms | Allocations: 890)
  [1m[36mRoom Load (0.5ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 ORDER BY last_message_at DESC[0m  [["user_id", 1]]
  â†³ app/views/rooms/_rooms.html.erb:1
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 1], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mNotification Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "notifications" WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/1"},"_aj_symbol_keys":["room"]}') AND "notifications"."type" = $1 AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["type", "MessageNotification"], ["recipient_type", "User"], ["recipient_id", 1]]
  â†³ app/views/rooms/_notifications.html.erb:4
  [1m[36mCACHE Notification Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "notifications" WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/1"},"_aj_symbol_keys":["room"]}') AND "notifications"."type" = $1 AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["type", "MessageNotification"], ["recipient_type", "User"], ["recipient_id", 1]]
  â†³ app/views/rooms/_notifications.html.erb:5
  Rendered rooms/_notifications.html.erb (Duration: 3.7ms | Allocations: 1467)
  [1m[36mRoom Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 AND "rooms"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:39:in `has_joined_room'
  Rendered rooms/_joinable_link.html.erb (Duration: 2.7ms | Allocations: 956)
  Rendered rooms/_last_message.html.erb (Duration: 0.4ms | Allocations: 106)
  Rendered rooms/_room.html.erb (Duration: 7.7ms | Allocations: 2867)
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 2], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mNotification Count (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "notifications" WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/2"},"_aj_symbol_keys":["room"]}') AND "notifications"."type" = $1 AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["type", "MessageNotification"], ["recipient_type", "User"], ["recipient_id", 1]]
  â†³ app/views/rooms/_notifications.html.erb:4
  Rendered rooms/_notifications.html.erb (Duration: 3.5ms | Allocations: 1152)
  [1m[36mRoom Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 AND "rooms"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 2], ["LIMIT", 1]]
  â†³ app/models/user.rb:39:in `has_joined_room'
  Rendered rooms/_joinable_link.html.erb (Duration: 2.6ms | Allocations: 1130)
  Rendered rooms/_last_message.html.erb (Duration: 0.0ms | Allocations: 15)
  Rendered rooms/_room.html.erb (Duration: 7.7ms | Allocations: 2710)
  Rendered rooms/_rooms.html.erb (Duration: 24.2ms | Allocations: 8976)
  Rendered rooms/index.html.erb within layouts/application (Duration: 59.8ms | Allocations: 21017)
  Rendered layouts/_navbar.html.erb (Duration: 0.0ms | Allocations: 15)
  Rendered layout layouts/application.html.erb (Duration: 70.0ms | Allocations: 23637)
Completed 200 OK in 93ms (Views: 61.2ms | ActiveRecord: 13.9ms | Allocations: 29890)


Finished "/cable/" [WebSocket] for ::1 at 2022-07-15 03:47:30 -0400
AppearanceChannel stopped streaming from appearance_channel
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
Finished "/cable/" [WebSocket] for ::1 at 2022-07-15 03:47:30 -0400
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
Turbo::StreamsChannel stopped streaming from user_status
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
Turbo::StreamsChannel stopped streaming from rooms
Turbo::StreamsChannel stopped streaming from users
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Update (2.2ms)[0m  [1m[33mUPDATE "users" SET "status" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["status", 0], ["updated_at", "2022-07-15 07:47:30.780569"], ["id", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 41)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Started GET "/rails/active_storage/representations/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--758538ea0401eddfb27db21a61b40545e294fba7/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdCem9MWm05eWJXRjBTU0lJYW5CbkJqb0dSVlE2RkhKbGMybDZaVjkwYjE5c2FXMXBkRnNIYVRkcE53PT0iLCJleHAiOm51bGwsInB1ciI6InZhcmlhdGlvbiJ9fQ==--7c67a13b9fd72c703fa320aa1af6cdefe07ca623/default_profile.jpg" for ::1 at 2022-07-15 03:47:30 -0400
Started GET "/rails/active_storage/representations/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDUT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--10fd4699f19e65e41e57dc0c4d8052c5b6224e13/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdCem9MWm05eWJXRjBTU0lJY0c1bkJqb0dSVlE2RkhKbGMybDZaVjkwYjE5c2FXMXBkRnNIYVRkcE53PT0iLCJleHAiOm51bGwsInB1ciI6InZhcmlhdGlvbiJ9fQ==--10cd12dda4766ef711b13e56db032a47fae0911d/Admin%20Part%207.png" for ::1 at 2022-07-15 03:47:30 -0400
Processing by ActiveStorage::Representations::RedirectController#show as JPEG
  Parameters: {"signed_blob_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--758538ea0401eddfb27db21a61b40545e294fba7", "variation_key"=>"[FILTERED]", "filename"=>"default_profile"}
  [1m[36mActiveStorage::Blob Load (0.9ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::VariantRecord Load (0.6ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 1], ["variation_digest", "2LUGSpqeAxE2FTbZR5KExFsl26Y="], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (2.7ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Processing by ActiveStorage::Representations::RedirectController#show as PNG
  Parameters: {"signed_blob_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDUT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--10fd4699f19e65e41e57dc0c4d8052c5b6224e13", "variation_key"=>"[FILTERED]", "filename"=>"Admin Part 7"}
[36m  Disk Storage (0.6ms) [0m[34mGenerated URL for file at key: 5tte9hfofzr43192lt8uzcg4pzxo (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhOWFIwWlRsb1ptOW1lbkkwTXpFNU1teDBPSFY2WTJjMGNIcDRid1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0wNy0xNVQwNzo1MjozMC45NzhaIiwicHVyIjoiYmxvYl9rZXkifX0=--f1000ad227e2f98fbd4617d43969d1ad99a0b280/default_profile.jpg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhOWFIwWlRsb1ptOW1lbkkwTXpFNU1teDBPSFY2WTJjMGNIcDRid1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0wNy0xNVQwNzo1MjozMC45NzhaIiwicHVyIjoiYmxvYl9rZXkifX0=--f1000ad227e2f98fbd4617d43969d1ad99a0b280/default_profile.jpg
Completed 302 Found in 20ms (ActiveRecord: 4.9ms | Allocations: 5276)


  [1m[36mActiveStorage::Blob Load (1.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mActiveStorage::VariantRecord Load (0.7ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (1.9ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
[36m  Disk Storage (0.6ms) [0m[34mGenerated URL for file at key: f2uvf9cvgwkzqlsbq7y0jjjzqddj (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhaakoxZG1ZNVkzWm5kMnQ2Y1d4elluRTNlVEJxYW1wNmNXUmthZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVDJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SWtGa2JXbHVJRkJoY25RZ055NXdibWNpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjBGa2JXbHVKVEl3VUdGeWRDVXlNRGN1Y0c1bkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSU9hVzFoWjJVdmNHNW5CanNHVkRvUmMyVnlkbWxqWlY5dVlXMWxPZ3BzYjJOaGJBPT0iLCJleHAiOiIyMDIyLTA3LTE1VDA3OjUyOjMwLjk5OVoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--ff962b1c2cfc4485027f59a9ee374759c56a54e7/Admin%20Part%207.png)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhaakoxZG1ZNVkzWm5kMnQ2Y1d4elluRTNlVEJxYW1wNmNXUmthZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVDJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SWtGa2JXbHVJRkJoY25RZ055NXdibWNpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjBGa2JXbHVKVEl3VUdGeWRDVXlNRGN1Y0c1bkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSU9hVzFoWjJVdmNHNW5CanNHVkRvUmMyVnlkbWxqWlY5dVlXMWxPZ3BzYjJOaGJBPT0iLCJleHAiOiIyMDIyLTA3LTE1VDA3OjUyOjMwLjk5OVoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--ff962b1c2cfc4485027f59a9ee374759c56a54e7/Admin%20Part%207.png
Completed 302 Found in 23ms (ActiveRecord: 4.1ms | Allocations: 6642)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhOWFIwWlRsb1ptOW1lbkkwTXpFNU1teDBPSFY2WTJjMGNIcDRid1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0wNy0xNVQwNzo1MjozMC45NzhaIiwicHVyIjoiYmxvYl9rZXkifX0=--f1000ad227e2f98fbd4617d43969d1ad99a0b280/default_profile.jpg" for ::1 at 2022-07-15 03:47:31 -0400
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"default_profile"}
Completed 200 OK in 4ms (ActiveRecord: 0.0ms | Allocations: 298)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhaakoxZG1ZNVkzWm5kMnQ2Y1d4elluRTNlVEJxYW1wNmNXUmthZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVDJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SWtGa2JXbHVJRkJoY25RZ055NXdibWNpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjBGa2JXbHVKVEl3VUdGeWRDVXlNRGN1Y0c1bkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSU9hVzFoWjJVdmNHNW5CanNHVkRvUmMyVnlkbWxqWlY5dVlXMWxPZ3BzYjJOaGJBPT0iLCJleHAiOiIyMDIyLTA3LTE1VDA3OjUyOjMwLjk5OVoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--ff962b1c2cfc4485027f59a9ee374759c56a54e7/Admin%20Part%207.png" for ::1 at 2022-07-15 03:47:31 -0400
Processing by ActiveStorage::DiskController#show as PNG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"Admin Part 7"}
Completed 200 OK in 1ms (ActiveRecord: 0.0ms | Allocations: 199)


Started GET "/cable" for ::1 at 2022-07-15 03:47:31 -0400
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-15 03:47:31 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:12:in `find_verified_user'
Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMQ)
AppearanceChannel is transmitting the subscription confirmation
AppearanceChannel is streaming from appearance_channel
AppearanceChannel#online
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
Started GET "/cable" for ::1 at 2022-07-15 03:47:31 -0400
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "status" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2022-07-15 07:47:31.366759"], ["status", 2], ["id", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-15 03:47:31 -0400
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mCOMMIT[0m
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mActiveStorage::Attachment Load (0.9ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 41)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:12:in `find_verified_user'
Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMQ)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from user_status
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from users
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from rooms
AppearanceChannel#online
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Started GET "/" for ::1 at 2022-07-15 03:47:33 -0400
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Processing by PagesController#home as HTML
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `set_current_user'
  [1m[36mUser Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."status" != $1[0m  [["status", 0]]
  â†³ app/controllers/pages_controller.rb:7:in `home'
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mMessage Load (1.6ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" IN (SELECT "rooms"."id" FROM "rooms" WHERE "rooms"."is_private" = $1) ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["is_private", false], ["LIMIT", 5]]
  â†³ app/views/pages/home.html.erb:26
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message_preview.html.erb:6
  [1m[36mRoom Load (0.5ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message_preview.html.erb:9
  Rendered messages/_message_preview.html.erb (Duration: 7.0ms | Allocations: 1872)
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message_preview.html.erb:6
  [1m[36mCACHE Room Load (0.0ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message_preview.html.erb:9
  Rendered messages/_message_preview.html.erb (Duration: 2.7ms | Allocations: 1401)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message_preview.html.erb:6
  [1m[36mCACHE Room Load (0.0ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message_preview.html.erb:9
  Rendered messages/_message_preview.html.erb (Duration: 1.9ms | Allocations: 1401)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message_preview.html.erb:6
  [1m[36mCACHE Room Load (0.0ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message_preview.html.erb:9
  Rendered messages/_message_preview.html.erb (Duration: 2.2ms | Allocations: 1401)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message_preview.html.erb:6
  [1m[36mCACHE Room Load (0.0ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message_preview.html.erb:9
  Rendered messages/_message_preview.html.erb (Duration: 2.0ms | Allocations: 1401)
  Rendered pages/home.html.erb within layouts/application (Duration: 21.3ms | Allocations: 9176)
  Rendered layouts/_navbar.html.erb (Duration: 0.0ms | Allocations: 15)
  Rendered layout layouts/application.html.erb (Duration: 25.2ms | Allocations: 11527)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/pages_controller.rb:13:in `set_status'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/pages_controller.rb:13:in `set_status'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "status" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2022-07-15 07:47:33.184040"], ["status", 0], ["id", 1]]
  â†³ app/controllers/pages_controller.rb:13:in `set_status'
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/pages_controller.rb:13:in `set_status'
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 49)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_1\"></div>\n</template></turbo-stream>"
Completed 200 OK in 49ms (Views: 24.1ms | ActiveRecord: 7.7ms | Allocations: 18212)


Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Unsubscribing from channel: {"channel":"Turbo::StreamsChannel","signed_stream_name":"InVzZXJzIg==--0a4cafd9f04706169a05ab0bb14238d095c3f419aa3413d065af924eb0c2e24b"}
Turbo::StreamsChannel stopped streaming from users
AppearanceChannel#offline
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "status" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["status", 0], ["updated_at", "2022-07-15 07:47:33.213246"], ["id", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 41)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Unsubscribing from channel: {"channel":"Turbo::StreamsChannel","signed_stream_name":"InVzZXJfc3RhdHVzIg==--3d39e51a0c64c114de4d9c6964ee8eb28ea6d1afe338b0ba374797b0a277baae"}
Turbo::StreamsChannel stopped streaming from user_status
Unsubscribing from channel: {"channel":"Turbo::StreamsChannel","signed_stream_name":"InJvb21zIg==--4edce82e4ae554228aef8568cd4e928d961abc8f42bad80d979cdf3010454855"}
Turbo::StreamsChannel stopped streaming from rooms
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from public_messages
AppearanceChannel#offline
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.3ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_1\"></div>\n</template></turbo-stream>"
Unsubscribing from channel: {"channel":"Turbo::StreamsChannel","signed_stream_name":"InB1YmxpY19tZXNzYWdlcyI=--b59292e056b3d87d7934979af985afc9da8ba6023e412800f1c22835f05a3e4d"}
Turbo::StreamsChannel stopped streaming from public_messages
Started GET "/rooms" for ::1 at 2022-07-15 03:47:34 -0400
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Processing by RoomsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `set_current_user'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/rooms_controller.rb:9:in `index'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:9:in `index'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/rooms_controller.rb:9:in `index'
  [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 53)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_1\"></div>\n</template></turbo-stream>"
  Rendering layout layouts/application.html.erb
  Rendering rooms/index.html.erb within layouts/application
  Rendered shared/_message_error.html.erb (Duration: 0.1ms | Allocations: 16)
Turbo::StreamsChannel is transmitting the subscription confirmation
  [1m[36mActiveStorage::Blob Load (1.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
Turbo::StreamsChannel is streaming from rooms
  [1m[36mActiveStorage::VariantRecord Load (0.8ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 1], ["variation_digest", "2LUGSpqeAxE2FTbZR5KExFsl26Y="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 47)
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from user_status
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1[0m  [["id", 1]]
  â†³ app/views/users/_users.html.erb:1
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
  [1m[36mRoom Load (0.7ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 ORDER BY "rooms"."id" ASC LIMIT $2[0m  [["name", "private_1_2"], ["LIMIT", 1]]
  â†³ app/views/users/_users.html.erb:4
  [1m[36mMessage Load (1.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 3], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mCACHE Message Load (0.1ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 3], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mActiveStorage::Attachment Load (1.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::Blob Load (0.9ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.8ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 47)
  Rendered users/_last_message.html.erb (Duration: 0.0ms | Allocations: 15)
  Rendered users/_user.html.erb (Duration: 13.2ms | Allocations: 3764)
  Rendered users/_users.html.erb (Duration: 30.0ms | Allocations: 7963)
  Rendered layouts/_new_room_form.html.erb (Duration: 1.5ms | Allocations: 372)
  Rendered rooms/_search_results.html.erb (Duration: 0.0ms | Allocations: 15)
  Rendered rooms/_search_form.html.erb (Duration: 0.9ms | Allocations: 893)
  [1m[36mRoom Load (1.0ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 ORDER BY last_message_at DESC[0m  [["user_id", 1]]
  â†³ app/views/rooms/_rooms.html.erb:1
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 1], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mNotification Count (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "notifications" WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/1"},"_aj_symbol_keys":["room"]}') AND "notifications"."type" = $1 AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["type", "MessageNotification"], ["recipient_type", "User"], ["recipient_id", 1]]
  â†³ app/views/rooms/_notifications.html.erb:4
  [1m[36mCACHE Notification Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "notifications" WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/1"},"_aj_symbol_keys":["room"]}') AND "notifications"."type" = $1 AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["type", "MessageNotification"], ["recipient_type", "User"], ["recipient_id", 1]]
  â†³ app/views/rooms/_notifications.html.erb:5
  Rendered rooms/_notifications.html.erb (Duration: 4.3ms | Allocations: 1749)
Turbo::StreamsChannel is transmitting the subscription confirmation
  [1m[36mRoom Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 AND "rooms"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
Turbo::StreamsChannel is streaming from users
  â†³ app/models/user.rb:39:in `has_joined_room'
  Rendered rooms/_joinable_link.html.erb (Duration: 4.3ms | Allocations: 1326)
  Rendered rooms/_last_message.html.erb (Duration: 0.4ms | Allocations: 106)
  Rendered rooms/_room.html.erb (Duration: 10.0ms | Allocations: 3563)
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 2], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mNotification Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "notifications" WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/2"},"_aj_symbol_keys":["room"]}') AND "notifications"."type" = $1 AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["type", "MessageNotification"], ["recipient_type", "User"], ["recipient_id", 1]]
  â†³ app/views/rooms/_notifications.html.erb:4
  Rendered rooms/_notifications.html.erb (Duration: 2.8ms | Allocations: 884)
  [1m[36mRoom Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 AND "rooms"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 2], ["LIMIT", 1]]
  â†³ app/models/user.rb:39:in `has_joined_room'
  Rendered rooms/_joinable_link.html.erb (Duration: 3.2ms | Allocations: 840)
  Rendered rooms/_last_message.html.erb (Duration: 0.0ms | Allocations: 15)
  Rendered rooms/_room.html.erb (Duration: 7.4ms | Allocations: 2077)
  Rendered rooms/_rooms.html.erb (Duration: 27.3ms | Allocations: 9558)
  Rendered rooms/index.html.erb within layouts/application (Duration: 76.1ms | Allocations: 22640)
  Rendered layouts/_navbar.html.erb (Duration: 0.0ms | Allocations: 15)
  Rendered layout layouts/application.html.erb (Duration: 80.2ms | Allocations: 24873)
Completed 200 OK in 106ms (Views: 67.4ms | ActiveRecord: 16.9ms | Allocations: 31364)


Unsubscribing from channel: {"channel":"Turbo::StreamsChannel","signed_stream_name":"InVzZXJzIg==--0a4cafd9f04706169a05ab0bb14238d095c3f419aa3413d065af924eb0c2e24b"}
Turbo::StreamsChannel stopped streaming from users
AppearanceChannel#online
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "status" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["status", 2], ["updated_at", "2022-07-15 07:47:34.706319"], ["id", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 41)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Unsubscribing from channel: {"channel":"Turbo::StreamsChannel","signed_stream_name":"InJvb21zIg==--4edce82e4ae554228aef8568cd4e928d961abc8f42bad80d979cdf3010454855"}
Turbo::StreamsChannel stopped streaming from rooms
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from users
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from rooms
AppearanceChannel#online
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Started GET "/rooms" for ::1 at 2022-07-15 03:47:36 -0400
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Processing by RoomsController#index as HTML
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
  â†³ app/controllers/application_controller.rb:14:in `set_current_user'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/rooms_controller.rb:9:in `index'
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:9:in `index'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/rooms_controller.rb:9:in `index'
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 53)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
  Rendering layout layouts/application.html.erb
  Rendering rooms/index.html.erb within layouts/application
  Rendered shared/_message_error.html.erb (Duration: 0.1ms | Allocations: 16)
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
  [1m[36mActiveStorage::VariantRecord Load (0.8ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 1], ["variation_digest", "2LUGSpqeAxE2FTbZR5KExFsl26Y="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 47)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1[0m  [["id", 1]]
  â†³ app/views/users/_users.html.erb:1
  [1m[36mRoom Load (0.7ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 ORDER BY "rooms"."id" ASC LIMIT $2[0m  [["name", "private_1_2"], ["LIMIT", 1]]
  â†³ app/views/users/_users.html.erb:4
  [1m[36mMessage Load (0.9ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 3], ["LIMIT", 1]]
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mCACHE Message Load (0.0ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 3], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::Blob Load (0.7ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.9ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 47)
  Rendered users/_last_message.html.erb (Duration: 0.0ms | Allocations: 15)
  Rendered users/_user.html.erb (Duration: 10.8ms | Allocations: 3867)
  Rendered users/_users.html.erb (Duration: 22.5ms | Allocations: 7450)
  Rendered layouts/_new_room_form.html.erb (Duration: 0.8ms | Allocations: 372)
  Rendered rooms/_search_results.html.erb (Duration: 0.0ms | Allocations: 15)
  Rendered rooms/_search_form.html.erb (Duration: 1.2ms | Allocations: 890)
  [1m[36mRoom Load (0.7ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 ORDER BY last_message_at DESC[0m  [["user_id", 1]]
  â†³ app/views/rooms/_rooms.html.erb:1
  [1m[36mMessage Load (0.6ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 1], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mNotification Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "notifications" WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/1"},"_aj_symbol_keys":["room"]}') AND "notifications"."type" = $1 AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["type", "MessageNotification"], ["recipient_type", "User"], ["recipient_id", 1]]
  â†³ app/views/rooms/_notifications.html.erb:4
  [1m[36mCACHE Notification Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "notifications" WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/1"},"_aj_symbol_keys":["room"]}') AND "notifications"."type" = $1 AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["type", "MessageNotification"], ["recipient_type", "User"], ["recipient_id", 1]]
  â†³ app/views/rooms/_notifications.html.erb:5
  Rendered rooms/_notifications.html.erb (Duration: 3.2ms | Allocations: 1467)
  [1m[36mRoom Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 AND "rooms"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:39:in `has_joined_room'
  Rendered rooms/_joinable_link.html.erb (Duration: 2.2ms | Allocations: 956)
  Rendered rooms/_last_message.html.erb (Duration: 0.5ms | Allocations: 106)
  Rendered rooms/_room.html.erb (Duration: 6.8ms | Allocations: 2867)
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 2], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mNotification Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "notifications" WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/2"},"_aj_symbol_keys":["room"]}') AND "notifications"."type" = $1 AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["type", "MessageNotification"], ["recipient_type", "User"], ["recipient_id", 1]]
  â†³ app/views/rooms/_notifications.html.erb:4
  Rendered rooms/_notifications.html.erb (Duration: 2.0ms | Allocations: 884)
  [1m[36mRoom Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 AND "rooms"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 2], ["LIMIT", 1]]
  â†³ app/models/user.rb:39:in `has_joined_room'
  Rendered rooms/_joinable_link.html.erb (Duration: 2.6ms | Allocations: 840)
  Rendered rooms/_last_message.html.erb (Duration: 0.0ms | Allocations: 15)
  Rendered rooms/_room.html.erb (Duration: 5.8ms | Allocations: 2077)
  Rendered rooms/_rooms.html.erb (Duration: 22.8ms | Allocations: 8336)
  Rendered rooms/index.html.erb within layouts/application (Duration: 60.1ms | Allocations: 20575)
  Rendered layouts/_navbar.html.erb (Duration: 0.0ms | Allocations: 15)
  Rendered layout layouts/application.html.erb (Duration: 64.1ms | Allocations: 22958)
Completed 200 OK in 92ms (Views: 55.9ms | ActiveRecord: 12.8ms | Allocations: 29326)


Finished "/cable/" [WebSocket] for ::1 at 2022-07-15 03:47:36 -0400
Turbo::StreamsChannel stopped streaming from user_status
Turbo::StreamsChannel stopped streaming from users
Turbo::StreamsChannel stopped streaming from rooms
Finished "/cable/" [WebSocket] for ::1 at 2022-07-15 03:47:36 -0400
AppearanceChannel stopped streaming from appearance_channel
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Update (4.4ms)[0m  [1m[33mUPDATE "users" SET "status" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["status", 0], ["updated_at", "2022-07-15 07:47:36.359139"], ["id", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 53)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Started GET "/rails/active_storage/representations/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--758538ea0401eddfb27db21a61b40545e294fba7/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdCem9MWm05eWJXRjBTU0lJYW5CbkJqb0dSVlE2RkhKbGMybDZaVjkwYjE5c2FXMXBkRnNIYVRkcE53PT0iLCJleHAiOm51bGwsInB1ciI6InZhcmlhdGlvbiJ9fQ==--7c67a13b9fd72c703fa320aa1af6cdefe07ca623/default_profile.jpg" for ::1 at 2022-07-15 03:47:36 -0400
Processing by ActiveStorage::Representations::RedirectController#show as JPEG
  Parameters: {"signed_blob_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--758538ea0401eddfb27db21a61b40545e294fba7", "variation_key"=>"[FILTERED]", "filename"=>"default_profile"}
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::VariantRecord Load (0.6ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 1], ["variation_digest", "2LUGSpqeAxE2FTbZR5KExFsl26Y="], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (1.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (1.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[36m  Disk Storage (0.7ms) [0m[34mGenerated URL for file at key: 5tte9hfofzr43192lt8uzcg4pzxo (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhOWFIwWlRsb1ptOW1lbkkwTXpFNU1teDBPSFY2WTJjMGNIcDRid1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0wNy0xNVQwNzo1MjozNi41NDVaIiwicHVyIjoiYmxvYl9rZXkifX0=--27a823db846e23f90b203b7ce3fdd26a3a226551/default_profile.jpg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhOWFIwWlRsb1ptOW1lbkkwTXpFNU1teDBPSFY2WTJjMGNIcDRid1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0wNy0xNVQwNzo1MjozNi41NDVaIiwicHVyIjoiYmxvYl9rZXkifX0=--27a823db846e23f90b203b7ce3fdd26a3a226551/default_profile.jpg
Completed 302 Found in 22ms (ActiveRecord: 3.4ms | Allocations: 5418)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhOWFIwWlRsb1ptOW1lbkkwTXpFNU1teDBPSFY2WTJjMGNIcDRid1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0wNy0xNVQwNzo1MjozNi41NDVaIiwicHVyIjoiYmxvYl9rZXkifX0=--27a823db846e23f90b203b7ce3fdd26a3a226551/default_profile.jpg" for ::1 at 2022-07-15 03:47:36 -0400
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"default_profile"}
Completed 200 OK in 1ms (ActiveRecord: 0.0ms | Allocations: 235)


Started GET "/rails/active_storage/representations/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDUT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--10fd4699f19e65e41e57dc0c4d8052c5b6224e13/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdCem9MWm05eWJXRjBTU0lJY0c1bkJqb0dSVlE2RkhKbGMybDZaVjkwYjE5c2FXMXBkRnNIYVRkcE53PT0iLCJleHAiOm51bGwsInB1ciI6InZhcmlhdGlvbiJ9fQ==--10cd12dda4766ef711b13e56db032a47fae0911d/Admin%20Part%207.png" for ::1 at 2022-07-15 03:47:36 -0400
Processing by ActiveStorage::Representations::RedirectController#show as PNG
  Parameters: {"signed_blob_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDUT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--10fd4699f19e65e41e57dc0c4d8052c5b6224e13", "variation_key"=>"[FILTERED]", "filename"=>"Admin Part 7"}
Started GET "/cable" for ::1 at 2022-07-15 03:47:36 -0400
  [1m[36mActiveStorage::Blob Load (0.6ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-15 03:47:36 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mActiveStorage::VariantRecord Load (0.5ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
[36m  Disk Storage (0.5ms) [0m[34mGenerated URL for file at key: f2uvf9cvgwkzqlsbq7y0jjjzqddj (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhaakoxZG1ZNVkzWm5kMnQ2Y1d4elluRTNlVEJxYW1wNmNXUmthZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVDJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SWtGa2JXbHVJRkJoY25RZ055NXdibWNpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjBGa2JXbHVKVEl3VUdGeWRDVXlNRGN1Y0c1bkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSU9hVzFoWjJVdmNHNW5CanNHVkRvUmMyVnlkbWxqWlY5dVlXMWxPZ3BzYjJOaGJBPT0iLCJleHAiOiIyMDIyLTA3LTE1VDA3OjUyOjM2Ljk0MVoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--db26282af212f6361ad82470a7465de1cd454393/Admin%20Part%207.png)[0m
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhaakoxZG1ZNVkzWm5kMnQ2Y1d4elluRTNlVEJxYW1wNmNXUmthZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVDJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SWtGa2JXbHVJRkJoY25RZ055NXdibWNpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjBGa2JXbHVKVEl3VUdGeWRDVXlNRGN1Y0c1bkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSU9hVzFoWjJVdmNHNW5CanNHVkRvUmMyVnlkbWxqWlY5dVlXMWxPZ3BzYjJOaGJBPT0iLCJleHAiOiIyMDIyLTA3LTE1VDA3OjUyOjM2Ljk0MVoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--db26282af212f6361ad82470a7465de1cd454393/Admin%20Part%207.png
  â†³ app/channels/application_cable/connection.rb:12:in `find_verified_user'
Completed 302 Found in 37ms (ActiveRecord: 6.9ms | Allocations: 7630)


Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMQ)
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhaakoxZG1ZNVkzWm5kMnQ2Y1d4elluRTNlVEJxYW1wNmNXUmthZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVDJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SWtGa2JXbHVJRkJoY25RZ055NXdibWNpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjBGa2JXbHVKVEl3VUdGeWRDVXlNRGN1Y0c1bkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSU9hVzFoWjJVdmNHNW5CanNHVkRvUmMyVnlkbWxqWlY5dVlXMWxPZ3BzYjJOaGJBPT0iLCJleHAiOiIyMDIyLTA3LTE1VDA3OjUyOjM2Ljk0MVoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--db26282af212f6361ad82470a7465de1cd454393/Admin%20Part%207.png" for ::1 at 2022-07-15 03:47:36 -0400
AppearanceChannel is transmitting the subscription confirmation
AppearanceChannel is streaming from appearance_channel
Processing by ActiveStorage::DiskController#show as PNG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"Admin Part 7"}
Completed 200 OK in 2ms (ActiveRecord: 0.0ms | Allocations: 253)


AppearanceChannel#online
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "status" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2022-07-15 07:47:36.974868"], ["status", 2], ["id", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 41)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.3ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Started GET "/" for ::1 at 2022-07-15 03:47:39 -0400
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Processing by PagesController#home as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `set_current_user'
  [1m[36mUser Count (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."status" != $1[0m  [["status", 0]]
  â†³ app/controllers/pages_controller.rb:7:in `home'
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mMessage Load (1.0ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" IN (SELECT "rooms"."id" FROM "rooms" WHERE "rooms"."is_private" = $1) ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["is_private", false], ["LIMIT", 5]]
  â†³ app/views/pages/home.html.erb:26
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message_preview.html.erb:6
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message_preview.html.erb:9
  Rendered messages/_message_preview.html.erb (Duration: 5.4ms | Allocations: 1661)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message_preview.html.erb:6
  [1m[36mCACHE Room Load (0.0ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message_preview.html.erb:9
  Rendered messages/_message_preview.html.erb (Duration: 1.8ms | Allocations: 1401)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message_preview.html.erb:6
  [1m[36mCACHE Room Load (0.0ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message_preview.html.erb:9
  Rendered messages/_message_preview.html.erb (Duration: 2.0ms | Allocations: 1401)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message_preview.html.erb:6
  [1m[36mCACHE Room Load (0.0ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message_preview.html.erb:9
  Rendered messages/_message_preview.html.erb (Duration: 2.2ms | Allocations: 1401)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message_preview.html.erb:6
  [1m[36mCACHE Room Load (0.0ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message_preview.html.erb:9
  Rendered messages/_message_preview.html.erb (Duration: 2.3ms | Allocations: 1401)
  Rendered pages/home.html.erb within layouts/application (Duration: 19.0ms | Allocations: 8761)
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 15)
  Rendered layout layouts/application.html.erb (Duration: 24.4ms | Allocations: 11127)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/pages_controller.rb:13:in `set_status'
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/pages_controller.rb:13:in `set_status'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "status" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2022-07-15 07:47:39.768559"], ["status", 0], ["id", 1]]
  â†³ app/controllers/pages_controller.rb:13:in `set_status'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/pages_controller.rb:13:in `set_status'
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 49)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_1\"></div>\n</template></turbo-stream>"
Completed 200 OK in 48ms (Views: 23.2ms | ActiveRecord: 6.7ms | Allocations: 17942)


Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#offline
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "status" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["status", 0], ["updated_at", "2022-07-15 07:47:39.806302"], ["id", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 41)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#offline
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.3ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_1\"></div>\n</template></turbo-stream>"
Started GET "/rooms" for ::1 at 2022-07-15 03:47:41 -0400
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Processing by RoomsController#index as HTML
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `set_current_user'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/rooms_controller.rb:9:in `index'
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:9:in `index'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/rooms_controller.rb:9:in `index'
  [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 53)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_1\"></div>\n</template></turbo-stream>"
  Rendering layout layouts/application.html.erb
  Rendering rooms/index.html.erb within layouts/application
  Rendered shared/_message_error.html.erb (Duration: 0.1ms | Allocations: 16)
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
  [1m[36mActiveStorage::VariantRecord Load (0.5ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 1], ["variation_digest", "2LUGSpqeAxE2FTbZR5KExFsl26Y="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 47)
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1[0m  [["id", 1]]
  â†³ app/views/users/_users.html.erb:1
  [1m[36mRoom Load (0.7ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 ORDER BY "rooms"."id" ASC LIMIT $2[0m  [["name", "private_1_2"], ["LIMIT", 1]]
  â†³ app/views/users/_users.html.erb:4
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 3], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mCACHE Message Load (0.0ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 3], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.4ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 47)
  Rendered users/_last_message.html.erb (Duration: 0.1ms | Allocations: 15)
  Rendered users/_user.html.erb (Duration: 8.6ms | Allocations: 3202)
  Rendered users/_users.html.erb (Duration: 21.0ms | Allocations: 6621)
  Rendered layouts/_new_room_form.html.erb (Duration: 1.3ms | Allocations: 372)
  Rendered rooms/_search_results.html.erb (Duration: 0.1ms | Allocations: 15)
  Rendered rooms/_search_form.html.erb (Duration: 1.3ms | Allocations: 890)
  [1m[36mRoom Load (0.8ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 ORDER BY last_message_at DESC[0m  [["user_id", 1]]
  â†³ app/views/rooms/_rooms.html.erb:1
  [1m[36mMessage Load (0.6ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 1], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mNotification Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "notifications" WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/1"},"_aj_symbol_keys":["room"]}') AND "notifications"."type" = $1 AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["type", "MessageNotification"], ["recipient_type", "User"], ["recipient_id", 1]]
  â†³ app/views/rooms/_notifications.html.erb:4
  [1m[36mCACHE Notification Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "notifications" WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/1"},"_aj_symbol_keys":["room"]}') AND "notifications"."type" = $1 AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["type", "MessageNotification"], ["recipient_type", "User"], ["recipient_id", 1]]
  â†³ app/views/rooms/_notifications.html.erb:5
  Rendered rooms/_notifications.html.erb (Duration: 3.7ms | Allocations: 1467)
  [1m[36mRoom Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 AND "rooms"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:39:in `has_joined_room'
  Rendered rooms/_joinable_link.html.erb (Duration: 2.6ms | Allocations: 956)
  Rendered rooms/_last_message.html.erb (Duration: 0.4ms | Allocations: 106)
  Rendered rooms/_room.html.erb (Duration: 7.5ms | Allocations: 2867)
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 2], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mNotification Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "notifications" WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/2"},"_aj_symbol_keys":["room"]}') AND "notifications"."type" = $1 AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["type", "MessageNotification"], ["recipient_type", "User"], ["recipient_id", 1]]
  â†³ app/views/rooms/_notifications.html.erb:4
  Rendered rooms/_notifications.html.erb (Duration: 2.1ms | Allocations: 884)
  [1m[36mRoom Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 AND "rooms"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 2], ["LIMIT", 1]]
  â†³ app/models/user.rb:39:in `has_joined_room'
  Rendered rooms/_joinable_link.html.erb (Duration: 1.9ms | Allocations: 840)
  Rendered rooms/_last_message.html.erb (Duration: 0.0ms | Allocations: 15)
  Rendered rooms/_room.html.erb (Duration: 5.4ms | Allocations: 2112)
  Rendered rooms/_rooms.html.erb (Duration: 25.4ms | Allocations: 8444)
  Rendered rooms/index.html.erb within layouts/application (Duration: 62.6ms | Allocations: 19813)
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 15)
  Rendered layout layouts/application.html.erb (Duration: 72.3ms | Allocations: 22379)
Completed 200 OK in 95ms (Views: 65.4ms | ActiveRecord: 12.3ms | Allocations: 28533)


AppearanceChannel#online
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "status" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["status", 2], ["updated_at", "2022-07-15 07:47:41.247396"], ["id", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 41)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Started GET "/cable" for ::1 at 2022-07-15 03:47:47 -0400
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-15 03:47:47 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:12:in `find_verified_user'
Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMQ)
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from user_status
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from rooms
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from users
AppearanceChannel#online
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 41)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Started GET "/rooms" for ::1 at 2022-07-15 03:48:07 -0400
Processing by RoomsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `set_current_user'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/rooms_controller.rb:70:in `set_status'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:70:in `set_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/rooms_controller.rb:70:in `set_status'
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 97)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
  [1m[36mCACHE User Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:9:in `index'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 69)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
  Rendering layout layouts/application.html.erb
  Rendering rooms/index.html.erb within layouts/application
  Rendered shared/_message_error.html.erb (Duration: 0.0ms | Allocations: 22)
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.5ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 1], ["variation_digest", "2LUGSpqeAxE2FTbZR5KExFsl26Y="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 59)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1[0m  [["id", 1]]
  â†³ app/views/users/_users.html.erb:1
  [1m[36mRoom Load (0.4ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 ORDER BY "rooms"."id" ASC LIMIT $2[0m  [["name", "private_1_2"], ["LIMIT", 1]]
  â†³ app/views/users/_users.html.erb:4
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 3], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mCACHE Message Load (0.0ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 3], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.4ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 51)
  Rendered users/_last_message.html.erb (Duration: 0.0ms | Allocations: 16)
  Rendered users/_user.html.erb (Duration: 10.2ms | Allocations: 3362)
  Rendered users/_users.html.erb (Duration: 28.2ms | Allocations: 9964)
  Rendered layouts/_new_room_form.html.erb (Duration: 1.0ms | Allocations: 506)
  Rendered rooms/_search_results.html.erb (Duration: 0.0ms | Allocations: 16)
  Rendered rooms/_search_form.html.erb (Duration: 0.5ms | Allocations: 777)
  [1m[36mRoom Load (0.8ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 ORDER BY last_message_at DESC[0m  [["user_id", 1]]
  â†³ app/views/rooms/_rooms.html.erb:1
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 1], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mNotification Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "notifications" WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/1"},"_aj_symbol_keys":["room"]}') AND "notifications"."type" = $1 AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["type", "MessageNotification"], ["recipient_type", "User"], ["recipient_id", 1]]
  â†³ app/views/rooms/_notifications.html.erb:4
  [1m[36mCACHE Notification Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "notifications" WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/1"},"_aj_symbol_keys":["room"]}') AND "notifications"."type" = $1 AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["type", "MessageNotification"], ["recipient_type", "User"], ["recipient_id", 1]]
  â†³ app/views/rooms/_notifications.html.erb:5
  Rendered rooms/_notifications.html.erb (Duration: 12.0ms | Allocations: 3859)
  [1m[36mRoom Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 AND "rooms"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:39:in `has_joined_room'
  Rendered rooms/_joinable_link.html.erb (Duration: 2.9ms | Allocations: 1116)
  Rendered rooms/_last_message.html.erb (Duration: 0.4ms | Allocations: 181)
  Rendered rooms/_room.html.erb (Duration: 16.3ms | Allocations: 5525)
  [1m[36mMessage Load (0.6ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 2], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mNotification Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "notifications" WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/2"},"_aj_symbol_keys":["room"]}') AND "notifications"."type" = $1 AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["type", "MessageNotification"], ["recipient_type", "User"], ["recipient_id", 1]]
  â†³ app/views/rooms/_notifications.html.erb:4
  Rendered rooms/_notifications.html.erb (Duration: 2.7ms | Allocations: 935)
  [1m[36mRoom Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 AND "rooms"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 2], ["LIMIT", 1]]
  â†³ app/models/user.rb:39:in `has_joined_room'
  Rendered rooms/_joinable_link.html.erb (Duration: 2.4ms | Allocations: 843)
  Rendered rooms/_last_message.html.erb (Duration: 0.0ms | Allocations: 15)
  Rendered rooms/_room.html.erb (Duration: 6.2ms | Allocations: 2134)
  Rendered rooms/_rooms.html.erb (Duration: 38.8ms | Allocations: 13625)
  Rendered rooms/index.html.erb within layouts/application (Duration: 110.7ms | Allocations: 40322)
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 16)
  Rendered layout layouts/application.html.erb (Duration: 134.7ms | Allocations: 73383)
Completed 200 OK in 203ms (Views: 117.7ms | ActiveRecord: 34.5ms | Allocations: 98135)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhOWFIwWlRsb1ptOW1lbkkwTXpFNU1teDBPSFY2WTJjMGNIcDRid1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0wNy0xNVQwNzo1MjozNi41NDVaIiwicHVyIjoiYmxvYl9rZXkifX0=--27a823db846e23f90b203b7ce3fdd26a3a226551/default_profile.jpg" for ::1 at 2022-07-15 03:48:07 -0400
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"default_profile"}
Completed 304 Not Modified in 3ms (ActiveRecord: 0.0ms | Allocations: 596)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhaakoxZG1ZNVkzWm5kMnQ2Y1d4elluRTNlVEJxYW1wNmNXUmthZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVDJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SWtGa2JXbHVJRkJoY25RZ055NXdibWNpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjBGa2JXbHVKVEl3VUdGeWRDVXlNRGN1Y0c1bkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSU9hVzFoWjJVdmNHNW5CanNHVkRvUmMyVnlkbWxqWlY5dVlXMWxPZ3BzYjJOaGJBPT0iLCJleHAiOiIyMDIyLTA3LTE1VDA3OjUyOjM2Ljk0MVoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--db26282af212f6361ad82470a7465de1cd454393/Admin%20Part%207.png" for ::1 at 2022-07-15 03:48:07 -0400
Processing by ActiveStorage::DiskController#show as PNG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"Admin Part 7"}
Completed 304 Not Modified in 1ms (ActiveRecord: 0.0ms | Allocations: 214)


Started GET "/cable" for ::1 at 2022-07-15 03:48:07 -0400
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-15 03:48:07 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:12:in `find_verified_user'
Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMQ)
AppearanceChannel is transmitting the subscription confirmation
AppearanceChannel is streaming from appearance_channel
AppearanceChannel#online
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
Started GET "/cable" for ::1 at 2022-07-15 03:48:07 -0400
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.5ms | Allocations: 74)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-15 03:48:07 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:12:in `find_verified_user'
Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMQ)
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from user_status
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from users
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from rooms
AppearanceChannel#online
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 42)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Started GET "/" for ::1 at 2022-07-15 03:48:08 -0400
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Processing by PagesController#home as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `set_current_user'
  [1m[36mUser Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."status" != $1[0m  [["status", 0]]
  â†³ app/controllers/pages_controller.rb:7:in `home'
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mMessage Load (1.0ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" IN (SELECT "rooms"."id" FROM "rooms" WHERE "rooms"."is_private" = $1) ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["is_private", false], ["LIMIT", 5]]
  â†³ app/views/pages/home.html.erb:26
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message_preview.html.erb:6
  [1m[36mRoom Load (0.4ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message_preview.html.erb:9
  Rendered messages/_message_preview.html.erb (Duration: 5.1ms | Allocations: 3410)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message_preview.html.erb:6
  [1m[36mCACHE Room Load (0.0ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message_preview.html.erb:9
  Rendered messages/_message_preview.html.erb (Duration: 1.9ms | Allocations: 1402)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message_preview.html.erb:6
  [1m[36mCACHE Room Load (0.0ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message_preview.html.erb:9
  Rendered messages/_message_preview.html.erb (Duration: 2.2ms | Allocations: 1401)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message_preview.html.erb:6
  [1m[36mCACHE Room Load (0.0ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message_preview.html.erb:9
  Rendered messages/_message_preview.html.erb (Duration: 1.9ms | Allocations: 1401)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message_preview.html.erb:6
  [1m[36mCACHE Room Load (0.0ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message_preview.html.erb:9
  Rendered messages/_message_preview.html.erb (Duration: 1.7ms | Allocations: 1401)
  Rendered pages/home.html.erb within layouts/application (Duration: 17.4ms | Allocations: 10569)
  Rendered layouts/_navbar.html.erb (Duration: 0.0ms | Allocations: 16)
  Rendered layout layouts/application.html.erb (Duration: 20.5ms | Allocations: 13102)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/pages_controller.rb:13:in `set_status'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/pages_controller.rb:13:in `set_status'
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "status" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2022-07-15 07:48:08.643640"], ["status", 0], ["id", 1]]
  â†³ app/controllers/pages_controller.rb:13:in `set_status'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/pages_controller.rb:13:in `set_status'
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 49)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_1\"></div>\n</template></turbo-stream>"
Completed 200 OK in 42ms (Views: 20.4ms | ActiveRecord: 5.8ms | Allocations: 20316)


Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Unsubscribing from channel: {"channel":"Turbo::StreamsChannel","signed_stream_name":"InVzZXJzIg==--0a4cafd9f04706169a05ab0bb14238d095c3f419aa3413d065af924eb0c2e24b"}
Turbo::StreamsChannel stopped streaming from users
AppearanceChannel#offline
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "status" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["status", 0], ["updated_at", "2022-07-15 07:48:08.676257"], ["id", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 42)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Unsubscribing from channel: {"channel":"Turbo::StreamsChannel","signed_stream_name":"InVzZXJfc3RhdHVzIg==--3d39e51a0c64c114de4d9c6964ee8eb28ea6d1afe338b0ba374797b0a277baae"}
Turbo::StreamsChannel stopped streaming from user_status
Unsubscribing from channel: {"channel":"Turbo::StreamsChannel","signed_stream_name":"InJvb21zIg==--4edce82e4ae554228aef8568cd4e928d961abc8f42bad80d979cdf3010454855"}
Turbo::StreamsChannel stopped streaming from rooms
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from public_messages
AppearanceChannel#offline
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
Unsubscribing from channel: {"channel":"Turbo::StreamsChannel","signed_stream_name":"InB1YmxpY19tZXNzYWdlcyI=--b59292e056b3d87d7934979af985afc9da8ba6023e412800f1c22835f05a3e4d"}
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
Turbo::StreamsChannel stopped streaming from public_messages
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_1\"></div>\n</template></turbo-stream>"
Started GET "/rooms" for ::1 at 2022-07-15 03:48:09 -0400
Processing by RoomsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `set_current_user'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/rooms_controller.rb:70:in `set_status'
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:70:in `set_status'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "status" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2022-07-15 07:48:09.466883"], ["status", 2], ["id", 1]]
  â†³ app/controllers/rooms_controller.rb:70:in `set_status'
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/rooms_controller.rb:70:in `set_status'
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 53)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/rooms_controller.rb:9:in `index'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:9:in `index'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/rooms_controller.rb:9:in `index'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 49)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
  Rendering layout layouts/application.html.erb
  Rendering rooms/index.html.erb within layouts/application
  Rendered shared/_message_error.html.erb (Duration: 0.0ms | Allocations: 16)
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (1.9ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 1], ["variation_digest", "2LUGSpqeAxE2FTbZR5KExFsl26Y="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 47)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1[0m  [["id", 1]]
  â†³ app/views/users/_users.html.erb:1
  [1m[36mRoom Load (0.5ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 ORDER BY "rooms"."id" ASC LIMIT $2[0m  [["name", "private_1_2"], ["LIMIT", 1]]
  â†³ app/views/users/_users.html.erb:4
  [1m[36mMessage Load (1.7ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 3], ["LIMIT", 1]]
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from user_status
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mCACHE Message Load (0.0ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 3], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::Blob Load (0.6ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.5ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 47)
  Rendered users/_last_message.html.erb (Duration: 0.0ms | Allocations: 15)
  Rendered users/_user.html.erb (Duration: 10.9ms | Allocations: 3866)
  Rendered users/_users.html.erb (Duration: 23.8ms | Allocations: 7538)
  Rendered layouts/_new_room_form.html.erb (Duration: 1.0ms | Allocations: 418)
  Rendered rooms/_search_results.html.erb (Duration: 0.0ms | Allocations: 15)
  Rendered rooms/_search_form.html.erb (Duration: 1.7ms | Allocations: 906)
  [1m[36mRoom Load (2.0ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 ORDER BY last_message_at DESC[0m  [["user_id", 1]]
Turbo::StreamsChannel is transmitting the subscription confirmation
  â†³ app/views/rooms/_rooms.html.erb:1
Turbo::StreamsChannel is streaming from rooms
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 1], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
Turbo::StreamsChannel is transmitting the subscription confirmation
  â†³ app/models/room.rb:29:in `latest_message'
Turbo::StreamsChannel is streaming from users
  [1m[36mNotification Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "notifications" WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/1"},"_aj_symbol_keys":["room"]}') AND "notifications"."type" = $1 AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["type", "MessageNotification"], ["recipient_type", "User"], ["recipient_id", 1]]
  â†³ app/views/rooms/_notifications.html.erb:4
  [1m[36mCACHE Notification Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "notifications" WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/1"},"_aj_symbol_keys":["room"]}') AND "notifications"."type" = $1 AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["type", "MessageNotification"], ["recipient_type", "User"], ["recipient_id", 1]]
  â†³ app/views/rooms/_notifications.html.erb:5
  Rendered rooms/_notifications.html.erb (Duration: 3.6ms | Allocations: 1532)
  [1m[36mRoom Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 AND "rooms"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:39:in `has_joined_room'
  Rendered rooms/_joinable_link.html.erb (Duration: 2.3ms | Allocations: 958)
  Rendered rooms/_last_message.html.erb (Duration: 0.7ms | Allocations: 117)
  Rendered rooms/_room.html.erb (Duration: 7.7ms | Allocations: 2945)
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 2], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mNotification Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "notifications" WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/2"},"_aj_symbol_keys":["room"]}') AND "notifications"."type" = $1 AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["type", "MessageNotification"], ["recipient_type", "User"], ["recipient_id", 1]]
  â†³ app/views/rooms/_notifications.html.erb:4
  Rendered rooms/_notifications.html.erb (Duration: 1.9ms | Allocations: 884)
  [1m[36mRoom Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 AND "rooms"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 2], ["LIMIT", 1]]
  â†³ app/models/user.rb:39:in `has_joined_room'
  Rendered rooms/_joinable_link.html.erb (Duration: 2.2ms | Allocations: 840)
  Rendered rooms/_last_message.html.erb (Duration: 0.0ms | Allocations: 15)
  Rendered rooms/_room.html.erb (Duration: 4.8ms | Allocations: 2077)
  Rendered rooms/_rooms.html.erb (Duration: 27.9ms | Allocations: 9622)
  Rendered rooms/index.html.erb within layouts/application (Duration: 66.4ms | Allocations: 22044)
  Rendered layouts/_navbar.html.erb (Duration: 0.0ms | Allocations: 15)
  Rendered layout layouts/application.html.erb (Duration: 69.1ms | Allocations: 24266)
Completed 200 OK in 93ms (Views: 57.4ms | ActiveRecord: 16.8ms | Allocations: 32637)


Unsubscribing from channel: {"channel":"Turbo::StreamsChannel","signed_stream_name":"InVzZXJzIg==--0a4cafd9f04706169a05ab0bb14238d095c3f419aa3413d065af924eb0c2e24b"}
Turbo::StreamsChannel stopped streaming from users
AppearanceChannel#online
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "status" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["status", 2], ["updated_at", "2022-07-15 07:48:09.576632"], ["id", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 41)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Unsubscribing from channel: {"channel":"Turbo::StreamsChannel","signed_stream_name":"InJvb21zIg==--4edce82e4ae554228aef8568cd4e928d961abc8f42bad80d979cdf3010454855"}
Turbo::StreamsChannel stopped streaming from rooms
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from rooms
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from users
AppearanceChannel#online
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
Unsubscribing from channel: {"channel":"Turbo::StreamsChannel","signed_stream_name":"InVzZXJzIg==--0a4cafd9f04706169a05ab0bb14238d095c3f419aa3413d065af924eb0c2e24b"}
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
Turbo::StreamsChannel stopped streaming from users
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Unsubscribing from channel: {"channel":"Turbo::StreamsChannel","signed_stream_name":"InJvb21zIg==--4edce82e4ae554228aef8568cd4e928d961abc8f42bad80d979cdf3010454855"}
Turbo::StreamsChannel stopped streaming from rooms
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from public_messages
Started GET "/" for ::1 at 2022-07-15 03:48:11 -0400
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Processing by PagesController#home as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `set_current_user'
  [1m[36mUser Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."status" != $1[0m  [["status", 0]]
  â†³ app/controllers/pages_controller.rb:7:in `home'
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mMessage Load (0.7ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" IN (SELECT "rooms"."id" FROM "rooms" WHERE "rooms"."is_private" = $1) ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["is_private", false], ["LIMIT", 5]]
  â†³ app/views/pages/home.html.erb:26
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message_preview.html.erb:6
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message_preview.html.erb:9
  Rendered messages/_message_preview.html.erb (Duration: 5.3ms | Allocations: 1551)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message_preview.html.erb:6
  [1m[36mCACHE Room Load (0.0ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message_preview.html.erb:9
  Rendered messages/_message_preview.html.erb (Duration: 2.3ms | Allocations: 1401)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message_preview.html.erb:6
  [1m[36mCACHE Room Load (0.0ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message_preview.html.erb:9
  Rendered messages/_message_preview.html.erb (Duration: 1.8ms | Allocations: 1401)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message_preview.html.erb:6
  [1m[36mCACHE Room Load (0.0ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message_preview.html.erb:9
  Rendered messages/_message_preview.html.erb (Duration: 2.0ms | Allocations: 1401)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message_preview.html.erb:6
  [1m[36mCACHE Room Load (0.0ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message_preview.html.erb:9
  Rendered messages/_message_preview.html.erb (Duration: 4.2ms | Allocations: 1401)
  Rendered pages/home.html.erb within layouts/application (Duration: 19.5ms | Allocations: 8409)
  Rendered layouts/_navbar.html.erb (Duration: 0.0ms | Allocations: 15)
  Rendered layout layouts/application.html.erb (Duration: 22.7ms | Allocations: 10760)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/pages_controller.rb:13:in `set_status'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/pages_controller.rb:13:in `set_status'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "status" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2022-07-15 07:48:12.009837"], ["status", 0], ["id", 1]]
  â†³ app/controllers/pages_controller.rb:13:in `set_status'
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/pages_controller.rb:13:in `set_status'
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 49)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_1\"></div>\n</template></turbo-stream>"
Completed 200 OK in 44ms (Views: 22.0ms | ActiveRecord: 5.7ms | Allocations: 16994)


Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Unsubscribing from channel: {"channel":"Turbo::StreamsChannel","signed_stream_name":"InB1YmxpY19tZXNzYWdlcyI=--b59292e056b3d87d7934979af985afc9da8ba6023e412800f1c22835f05a3e4d"}
Turbo::StreamsChannel stopped streaming from public_messages
AppearanceChannel#offline
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "status" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["status", 0], ["updated_at", "2022-07-15 07:48:12.044049"], ["id", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 42)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from public_messages
AppearanceChannel#offline
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.3ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#offline
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (4.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
Unsubscribing from channel: {"channel":"Turbo::StreamsChannel","signed_stream_name":"InB1YmxpY19tZXNzYWdlcyI=--b59292e056b3d87d7934979af985afc9da8ba6023e412800f1c22835f05a3e4d"}
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
Turbo::StreamsChannel stopped streaming from public_messages
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from rooms
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from users
Started GET "/rooms" for ::1 at 2022-07-15 03:48:12 -0400
Processing by RoomsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `set_current_user'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/rooms_controller.rb:70:in `set_status'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:70:in `set_status'
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "status" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2022-07-15 07:48:12.933176"], ["status", 2], ["id", 1]]
  â†³ app/controllers/rooms_controller.rb:70:in `set_status'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/rooms_controller.rb:70:in `set_status'
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 53)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/rooms_controller.rb:9:in `index'
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:9:in `index'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/rooms_controller.rb:9:in `index'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 49)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
  Rendering layout layouts/application.html.erb
  Rendering rooms/index.html.erb within layouts/application
  Rendered shared/_message_error.html.erb (Duration: 0.1ms | Allocations: 16)
  [1m[36mActiveStorage::Blob Load (0.8ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
  [1m[36mActiveStorage::VariantRecord Load (0.9ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 1], ["variation_digest", "2LUGSpqeAxE2FTbZR5KExFsl26Y="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 47)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1[0m  [["id", 1]]
  â†³ app/views/users/_users.html.erb:1
  [1m[36mRoom Load (0.5ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 ORDER BY "rooms"."id" ASC LIMIT $2[0m  [["name", "private_1_2"], ["LIMIT", 1]]
  â†³ app/views/users/_users.html.erb:4
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 3], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mCACHE Message Load (0.0ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 3], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.3ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 47)
  Rendered users/_last_message.html.erb (Duration: 0.0ms | Allocations: 15)
  Rendered users/_user.html.erb (Duration: 10.3ms | Allocations: 3202)
  Rendered users/_users.html.erb (Duration: 18.5ms | Allocations: 6151)
  Rendered layouts/_new_room_form.html.erb (Duration: 0.9ms | Allocations: 372)
  Rendered rooms/_search_results.html.erb (Duration: 0.0ms | Allocations: 15)
  Rendered rooms/_search_form.html.erb (Duration: 1.6ms | Allocations: 890)
  [1m[36mRoom Load (0.7ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 ORDER BY last_message_at DESC[0m  [["user_id", 1]]
  â†³ app/views/rooms/_rooms.html.erb:1
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 1], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mNotification Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "notifications" WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/1"},"_aj_symbol_keys":["room"]}') AND "notifications"."type" = $1 AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["type", "MessageNotification"], ["recipient_type", "User"], ["recipient_id", 1]]
  â†³ app/views/rooms/_notifications.html.erb:4
  [1m[36mCACHE Notification Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "notifications" WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/1"},"_aj_symbol_keys":["room"]}') AND "notifications"."type" = $1 AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["type", "MessageNotification"], ["recipient_type", "User"], ["recipient_id", 1]]
  â†³ app/views/rooms/_notifications.html.erb:5
  Rendered rooms/_notifications.html.erb (Duration: 3.3ms | Allocations: 1467)
  [1m[36mRoom Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 AND "rooms"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:39:in `has_joined_room'
  Rendered rooms/_joinable_link.html.erb (Duration: 1.9ms | Allocations: 956)
  Rendered rooms/_last_message.html.erb (Duration: 0.4ms | Allocations: 106)
  Rendered rooms/_room.html.erb (Duration: 6.6ms | Allocations: 2867)
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 2], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mNotification Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "notifications" WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/2"},"_aj_symbol_keys":["room"]}') AND "notifications"."type" = $1 AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["type", "MessageNotification"], ["recipient_type", "User"], ["recipient_id", 1]]
  â†³ app/views/rooms/_notifications.html.erb:4
  Rendered rooms/_notifications.html.erb (Duration: 2.4ms | Allocations: 884)
  [1m[36mRoom Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 AND "rooms"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 2], ["LIMIT", 1]]
  â†³ app/models/user.rb:39:in `has_joined_room'
  Rendered rooms/_joinable_link.html.erb (Duration: 2.2ms | Allocations: 840)
  Rendered rooms/_last_message.html.erb (Duration: 0.0ms | Allocations: 15)
  Rendered rooms/_room.html.erb (Duration: 6.0ms | Allocations: 2077)
  Rendered rooms/_rooms.html.erb (Duration: 20.9ms | Allocations: 8336)
  Rendered rooms/index.html.erb within layouts/application (Duration: 54.2ms | Allocations: 19211)
  Rendered layouts/_navbar.html.erb (Duration: 0.0ms | Allocations: 15)
  Rendered layout layouts/application.html.erb (Duration: 57.2ms | Allocations: 21496)
Completed 200 OK in 88ms (Views: 50.8ms | ActiveRecord: 13.5ms | Allocations: 30457)


Unsubscribing from channel: {"channel":"Turbo::StreamsChannel","signed_stream_name":"InVzZXJzIg==--0a4cafd9f04706169a05ab0bb14238d095c3f419aa3413d065af924eb0c2e24b"}
Turbo::StreamsChannel stopped streaming from users
AppearanceChannel#online
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "status" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["status", 2], ["updated_at", "2022-07-15 07:48:13.036476"], ["id", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 41)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Unsubscribing from channel: {"channel":"Turbo::StreamsChannel","signed_stream_name":"InJvb21zIg==--4edce82e4ae554228aef8568cd4e928d961abc8f42bad80d979cdf3010454855"}
Turbo::StreamsChannel stopped streaming from rooms
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from rooms
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from users
AppearanceChannel#online
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Started GET "/" for ::1 at 2022-07-15 03:48:13 -0400
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Processing by PagesController#home as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `set_current_user'
Unsubscribing from channel: {"channel":"Turbo::StreamsChannel","signed_stream_name":"InVzZXJzIg==--0a4cafd9f04706169a05ab0bb14238d095c3f419aa3413d065af924eb0c2e24b"}
  [1m[36mUser Count (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."status" != $1[0m  [["status", 0]]
Turbo::StreamsChannel stopped streaming from users
  â†³ app/controllers/pages_controller.rb:7:in `home'
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mMessage Load (1.0ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" IN (SELECT "rooms"."id" FROM "rooms" WHERE "rooms"."is_private" = $1) ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["is_private", false], ["LIMIT", 5]]
  â†³ app/views/pages/home.html.erb:26
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message_preview.html.erb:6
  [1m[36mRoom Load (0.9ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message_preview.html.erb:9
  Rendered messages/_message_preview.html.erb (Duration: 7.0ms | Allocations: 1850)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message_preview.html.erb:6
Turbo::StreamsChannel is transmitting the subscription confirmation
  [1m[36mCACHE Room Load (0.0ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Turbo::StreamsChannel is streaming from public_messages
  â†³ app/views/messages/_message_preview.html.erb:9
  Rendered messages/_message_preview.html.erb (Duration: 6.7ms | Allocations: 1655)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message_preview.html.erb:6
  [1m[36mCACHE Room Load (0.0ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message_preview.html.erb:9
  Rendered messages/_message_preview.html.erb (Duration: 3.1ms | Allocations: 1496)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message_preview.html.erb:6
  [1m[36mCACHE Room Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message_preview.html.erb:9
  Rendered messages/_message_preview.html.erb (Duration: 5.6ms | Allocations: 1551)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message_preview.html.erb:6
  [1m[36mCACHE Room Load (0.0ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message_preview.html.erb:9
  Rendered messages/_message_preview.html.erb (Duration: 4.6ms | Allocations: 1451)
  Rendered pages/home.html.erb within layouts/application (Duration: 34.0ms | Allocations: 9850)
Unsubscribing from channel: {"channel":"Turbo::StreamsChannel","signed_stream_name":"InJvb21zIg==--4edce82e4ae554228aef8568cd4e928d961abc8f42bad80d979cdf3010454855"}
Turbo::StreamsChannel stopped streaming from rooms
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 15)
  Rendered layout layouts/application.html.erb (Duration: 44.9ms | Allocations: 12644)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/pages_controller.rb:13:in `set_status'
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/pages_controller.rb:13:in `set_status'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "status" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2022-07-15 07:48:13.643223"], ["status", 0], ["id", 1]]
  â†³ app/controllers/pages_controller.rb:13:in `set_status'
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/pages_controller.rb:13:in `set_status'
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 49)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_1\"></div>\n</template></turbo-stream>"
Completed 200 OK in 72ms (Views: 43.4ms | ActiveRecord: 8.3ms | Allocations: 19758)


Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Unsubscribing from channel: {"channel":"Turbo::StreamsChannel","signed_stream_name":"InB1YmxpY19tZXNzYWdlcyI=--b59292e056b3d87d7934979af985afc9da8ba6023e412800f1c22835f05a3e4d"}
Turbo::StreamsChannel stopped streaming from public_messages
AppearanceChannel#offline
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "status" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["status", 0], ["updated_at", "2022-07-15 07:48:13.671217"], ["id", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 41)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from public_messages
Started GET "/cable" for ::1 at 2022-07-15 03:48:13 -0400
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-15 03:48:13 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:12:in `find_verified_user'
Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMg)
AppearanceChannel is transmitting the subscription confirmation
AppearanceChannel is streaming from appearance_channel
AppearanceChannel#online
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#offline
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 41)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_1\"></div>\n</template></turbo-stream>"
Started GET "/rooms" for ::1 at 2022-07-15 03:48:14 -0400
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Processing by RoomsController#index as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `set_current_user'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/rooms_controller.rb:70:in `set_status'
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
Turbo::StreamsChannel is transmitting the subscription confirmation
  â†³ app/controllers/rooms_controller.rb:70:in `set_status'
Turbo::StreamsChannel is streaming from users
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "status" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2022-07-15 07:48:14.215355"], ["status", 2], ["id", 1]]
  â†³ app/controllers/rooms_controller.rb:70:in `set_status'
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
Turbo::StreamsChannel is transmitting the subscription confirmation
  â†³ app/controllers/rooms_controller.rb:70:in `set_status'
Turbo::StreamsChannel is streaming from rooms
  [1m[36mActiveStorage::Attachment Load (0.8ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 53)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/rooms_controller.rb:9:in `index'
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:9:in `index'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/rooms_controller.rb:9:in `index'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 49)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
  Rendering layout layouts/application.html.erb
  Rendering rooms/index.html.erb within layouts/application
  Rendered shared/_message_error.html.erb (Duration: 0.1ms | Allocations: 16)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
  [1m[36mActiveStorage::Blob Load (0.7ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.7ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 1], ["variation_digest", "2LUGSpqeAxE2FTbZR5KExFsl26Y="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 47)
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1[0m  [["id", 1]]
  â†³ app/views/users/_users.html.erb:1
  [1m[36mRoom Load (0.5ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 ORDER BY "rooms"."id" ASC LIMIT $2[0m  [["name", "private_1_2"], ["LIMIT", 1]]
  â†³ app/views/users/_users.html.erb:4
  [1m[36mMessage Load (0.6ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 3], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mCACHE Message Load (0.0ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 3], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mActiveStorage::Attachment Load (1.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.4ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 47)
  Rendered users/_last_message.html.erb (Duration: 0.0ms | Allocations: 15)
  Rendered users/_user.html.erb (Duration: 10.4ms | Allocations: 3638)
Unsubscribing from channel: {"channel":"Turbo::StreamsChannel","signed_stream_name":"InB1YmxpY19tZXNzYWdlcyI=--b59292e056b3d87d7934979af985afc9da8ba6023e412800f1c22835f05a3e4d"}
  Rendered users/_users.html.erb (Duration: 23.0ms | Allocations: 7071)
Turbo::StreamsChannel stopped streaming from public_messages
  Rendered layouts/_new_room_form.html.erb (Duration: 1.5ms | Allocations: 372)
  Rendered rooms/_search_results.html.erb (Duration: 0.0ms | Allocations: 15)
  Rendered rooms/_search_form.html.erb (Duration: 1.1ms | Allocations: 900)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
  [1m[36mRoom Load (0.9ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 ORDER BY last_message_at DESC[0m  [["user_id", 1]]
  â†³ app/views/rooms/_rooms.html.erb:1
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 1], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mNotification Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "notifications" WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/1"},"_aj_symbol_keys":["room"]}') AND "notifications"."type" = $1 AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["type", "MessageNotification"], ["recipient_type", "User"], ["recipient_id", 1]]
  â†³ app/views/rooms/_notifications.html.erb:4
  [1m[36mCACHE Notification Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "notifications" WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/1"},"_aj_symbol_keys":["room"]}') AND "notifications"."type" = $1 AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["type", "MessageNotification"], ["recipient_type", "User"], ["recipient_id", 1]]
  â†³ app/views/rooms/_notifications.html.erb:5
  Rendered rooms/_notifications.html.erb (Duration: 3.6ms | Allocations: 1467)
  [1m[36mRoom Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 AND "rooms"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:39:in `has_joined_room'
  Rendered rooms/_joinable_link.html.erb (Duration: 2.6ms | Allocations: 956)
  Rendered rooms/_last_message.html.erb (Duration: 0.4ms | Allocations: 106)
  Rendered rooms/_room.html.erb (Duration: 7.6ms | Allocations: 2867)
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 2], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mNotification Count (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "notifications" WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/2"},"_aj_symbol_keys":["room"]}') AND "notifications"."type" = $1 AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["type", "MessageNotification"], ["recipient_type", "User"], ["recipient_id", 1]]
  â†³ app/views/rooms/_notifications.html.erb:4
  Rendered rooms/_notifications.html.erb (Duration: 3.5ms | Allocations: 884)
  [1m[36mRoom Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 AND "rooms"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 2], ["LIMIT", 1]]
  â†³ app/models/user.rb:39:in `has_joined_room'
  Rendered rooms/_joinable_link.html.erb (Duration: 2.1ms | Allocations: 840)
  Rendered rooms/_last_message.html.erb (Duration: 0.0ms | Allocations: 15)
  Rendered rooms/_room.html.erb (Duration: 6.8ms | Allocations: 2077)
  Rendered rooms/_rooms.html.erb (Duration: 25.0ms | Allocations: 8731)
  Rendered rooms/index.html.erb within layouts/application (Duration: 65.0ms | Allocations: 20728)
  Rendered layouts/_navbar.html.erb (Duration: 0.0ms | Allocations: 15)
  Rendered layout layouts/application.html.erb (Duration: 68.2ms | Allocations: 22998)
Completed 200 OK in 109ms (Views: 59.8ms | ActiveRecord: 19.2ms | Allocations: 34002)


Unsubscribing from channel: {"channel":"Turbo::StreamsChannel","signed_stream_name":"InVzZXJzIg==--0a4cafd9f04706169a05ab0bb14238d095c3f419aa3413d065af924eb0c2e24b"}
Turbo::StreamsChannel stopped streaming from users
AppearanceChannel#online
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "status" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["status", 2], ["updated_at", "2022-07-15 07:48:14.333869"], ["id", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 41)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Unsubscribing from channel: {"channel":"Turbo::StreamsChannel","signed_stream_name":"InJvb21zIg==--4edce82e4ae554228aef8568cd4e928d961abc8f42bad80d979cdf3010454855"}
Turbo::StreamsChannel stopped streaming from rooms
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from rooms
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from users
AppearanceChannel#online
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
Started GET "/" for ::1 at 2022-07-15 03:48:14 -0400
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 53)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Processing by PagesController#home as HTML
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `set_current_user'
  [1m[36mUser Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."status" != $1[0m  [["status", 0]]
  â†³ app/controllers/pages_controller.rb:7:in `home'
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mMessage Load (1.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" IN (SELECT "rooms"."id" FROM "rooms" WHERE "rooms"."is_private" = $1) ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["is_private", false], ["LIMIT", 5]]
  â†³ app/views/pages/home.html.erb:26
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message_preview.html.erb:6
  [1m[36mRoom Load (0.8ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message_preview.html.erb:9
  Rendered messages/_message_preview.html.erb (Duration: 7.8ms | Allocations: 1927)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message_preview.html.erb:6
  [1m[36mCACHE Room Load (0.0ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message_preview.html.erb:9
  Rendered messages/_message_preview.html.erb (Duration: 4.0ms | Allocations: 1456)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message_preview.html.erb:6
  [1m[36mCACHE Room Load (0.0ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message_preview.html.erb:9
  Rendered messages/_message_preview.html.erb (Duration: 4.5ms | Allocations: 1514)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message_preview.html.erb:6
  [1m[36mCACHE Room Load (0.0ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message_preview.html.erb:9
  Rendered messages/_message_preview.html.erb (Duration: 3.3ms | Allocations: 1497)
Unsubscribing from channel: {"channel":"Turbo::StreamsChannel","signed_stream_name":"InVzZXJzIg==--0a4cafd9f04706169a05ab0bb14238d095c3f419aa3413d065af924eb0c2e24b"}
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Turbo::StreamsChannel stopped streaming from users
  â†³ app/views/messages/_message_preview.html.erb:6
  [1m[36mCACHE Room Load (0.0ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message_preview.html.erb:9
  Rendered messages/_message_preview.html.erb (Duration: 7.0ms | Allocations: 1669)
  Rendered pages/home.html.erb within layouts/application (Duration: 33.9ms | Allocations: 9586)
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 15)
  Rendered layout layouts/application.html.erb (Duration: 45.2ms | Allocations: 12362)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/pages_controller.rb:13:in `set_status'
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
Turbo::StreamsChannel is transmitting the subscription confirmation
  â†³ app/controllers/pages_controller.rb:13:in `set_status'
Turbo::StreamsChannel is streaming from public_messages
  [1m[36mUser Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "status" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2022-07-15 07:48:14.946624"], ["status", 0], ["id", 1]]
  â†³ app/controllers/pages_controller.rb:13:in `set_status'
Unsubscribing from channel: {"channel":"Turbo::StreamsChannel","signed_stream_name":"InJvb21zIg==--4edce82e4ae554228aef8568cd4e928d961abc8f42bad80d979cdf3010454855"}
Turbo::StreamsChannel stopped streaming from rooms
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/pages_controller.rb:13:in `set_status'
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 49)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_1\"></div>\n</template></turbo-stream>"
Completed 200 OK in 77ms (Views: 44.1ms | ActiveRecord: 10.0ms | Allocations: 20884)


Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Unsubscribing from channel: {"channel":"Turbo::StreamsChannel","signed_stream_name":"InB1YmxpY19tZXNzYWdlcyI=--b59292e056b3d87d7934979af985afc9da8ba6023e412800f1c22835f05a3e4d"}
Turbo::StreamsChannel stopped streaming from public_messages
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from public_messages
AppearanceChannel#offline
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "status" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["status", 0], ["updated_at", "2022-07-15 07:48:14.983665"], ["id", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 41)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#offline
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_1\"></div>\n</template></turbo-stream>"
Started GET "/rooms" for ::1 at 2022-07-15 03:48:15 -0400
Unsubscribing from channel: {"channel":"Turbo::StreamsChannel","signed_stream_name":"InB1YmxpY19tZXNzYWdlcyI=--b59292e056b3d87d7934979af985afc9da8ba6023e412800f1c22835f05a3e4d"}
Turbo::StreamsChannel stopped streaming from public_messages
Processing by RoomsController#index as HTML
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `set_current_user'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/rooms_controller.rb:70:in `set_status'
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:70:in `set_status'
  [1m[36mUser Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "status" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2022-07-15 07:48:15.453884"], ["status", 2], ["id", 1]]
  â†³ app/controllers/rooms_controller.rb:70:in `set_status'
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mCOMMIT[0m
Turbo::StreamsChannel is transmitting the subscription confirmation
  â†³ app/controllers/rooms_controller.rb:70:in `set_status'
Turbo::StreamsChannel is streaming from rooms
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 53)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/rooms_controller.rb:9:in `index'
  [1m[36mUser Exists? (1.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from users
  â†³ app/controllers/rooms_controller.rb:9:in `index'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/rooms_controller.rb:9:in `index'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 49)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
  Rendering layout layouts/application.html.erb
  Rendering rooms/index.html.erb within layouts/application
  Rendered shared/_message_error.html.erb (Duration: 0.0ms | Allocations: 16)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
  [1m[36mActiveStorage::Blob Load (0.6ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.6ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 1], ["variation_digest", "2LUGSpqeAxE2FTbZR5KExFsl26Y="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 47)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1[0m  [["id", 1]]
  â†³ app/views/users/_users.html.erb:1
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 ORDER BY "rooms"."id" ASC LIMIT $2[0m  [["name", "private_1_2"], ["LIMIT", 1]]
  â†³ app/views/users/_users.html.erb:4
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 3], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mCACHE Message Load (0.0ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 3], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.3ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 47)
  Rendered users/_last_message.html.erb (Duration: 0.0ms | Allocations: 15)
  Rendered users/_user.html.erb (Duration: 7.4ms | Allocations: 3202)
  Rendered users/_users.html.erb (Duration: 14.9ms | Allocations: 6441)
  Rendered layouts/_new_room_form.html.erb (Duration: 0.8ms | Allocations: 372)
  Rendered rooms/_search_results.html.erb (Duration: 0.0ms | Allocations: 15)
  Rendered rooms/_search_form.html.erb (Duration: 1.1ms | Allocations: 890)
  [1m[36mRoom Load (0.7ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 ORDER BY last_message_at DESC[0m  [["user_id", 1]]
  â†³ app/views/rooms/_rooms.html.erb:1
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 1], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mNotification Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "notifications" WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/1"},"_aj_symbol_keys":["room"]}') AND "notifications"."type" = $1 AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["type", "MessageNotification"], ["recipient_type", "User"], ["recipient_id", 1]]
  â†³ app/views/rooms/_notifications.html.erb:4
  [1m[36mCACHE Notification Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "notifications" WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/1"},"_aj_symbol_keys":["room"]}') AND "notifications"."type" = $1 AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["type", "MessageNotification"], ["recipient_type", "User"], ["recipient_id", 1]]
  â†³ app/views/rooms/_notifications.html.erb:5
  Rendered rooms/_notifications.html.erb (Duration: 3.5ms | Allocations: 1467)
  [1m[36mRoom Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 AND "rooms"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:39:in `has_joined_room'
  Rendered rooms/_joinable_link.html.erb (Duration: 2.1ms | Allocations: 956)
  Rendered rooms/_last_message.html.erb (Duration: 0.3ms | Allocations: 106)
  Rendered rooms/_room.html.erb (Duration: 6.9ms | Allocations: 2867)
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 2], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mNotification Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "notifications" WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/2"},"_aj_symbol_keys":["room"]}') AND "notifications"."type" = $1 AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["type", "MessageNotification"], ["recipient_type", "User"], ["recipient_id", 1]]
  â†³ app/views/rooms/_notifications.html.erb:4
  Rendered rooms/_notifications.html.erb (Duration: 2.3ms | Allocations: 884)
  [1m[36mRoom Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 AND "rooms"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 2], ["LIMIT", 1]]
  â†³ app/models/user.rb:39:in `has_joined_room'
  Rendered rooms/_joinable_link.html.erb (Duration: 3.5ms | Allocations: 840)
  Rendered rooms/_last_message.html.erb (Duration: 0.1ms | Allocations: 15)
  Rendered rooms/_room.html.erb (Duration: 6.8ms | Allocations: 2077)
  Rendered rooms/_rooms.html.erb (Duration: 22.7ms | Allocations: 8336)
  Rendered rooms/index.html.erb within layouts/application (Duration: 49.9ms | Allocations: 19450)
  Rendered layouts/_navbar.html.erb (Duration: 0.0ms | Allocations: 15)
  Rendered layout layouts/application.html.erb (Duration: 55.0ms | Allocations: 21769)
Completed 200 OK in 106ms (Views: 49.0ms | ActiveRecord: 16.8ms | Allocations: 33409)


Unsubscribing from channel: {"channel":"Turbo::StreamsChannel","signed_stream_name":"InVzZXJzIg==--0a4cafd9f04706169a05ab0bb14238d095c3f419aa3413d065af924eb0c2e24b"}
Turbo::StreamsChannel stopped streaming from users
AppearanceChannel#online
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "status" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["status", 2], ["updated_at", "2022-07-15 07:48:15.565812"], ["id", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 41)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Unsubscribing from channel: {"channel":"Turbo::StreamsChannel","signed_stream_name":"InJvb21zIg==--4edce82e4ae554228aef8568cd4e928d961abc8f42bad80d979cdf3010454855"}
Turbo::StreamsChannel stopped streaming from rooms
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from rooms
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from users
AppearanceChannel#online
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.3ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Unsubscribing from channel: {"channel":"Turbo::StreamsChannel","signed_stream_name":"InVzZXJzIg==--0a4cafd9f04706169a05ab0bb14238d095c3f419aa3413d065af924eb0c2e24b"}
Turbo::StreamsChannel stopped streaming from users
Unsubscribing from channel: {"channel":"Turbo::StreamsChannel","signed_stream_name":"InJvb21zIg==--4edce82e4ae554228aef8568cd4e928d961abc8f42bad80d979cdf3010454855"}
Turbo::StreamsChannel stopped streaming from rooms
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from public_messages
Started GET "/" for ::1 at 2022-07-15 03:48:16 -0400
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Processing by PagesController#home as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `set_current_user'
  [1m[36mUser Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."status" != $1[0m  [["status", 0]]
  â†³ app/controllers/pages_controller.rb:7:in `home'
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mMessage Load (0.9ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" IN (SELECT "rooms"."id" FROM "rooms" WHERE "rooms"."is_private" = $1) ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["is_private", false], ["LIMIT", 5]]
  â†³ app/views/pages/home.html.erb:26
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message_preview.html.erb:6
  [1m[36mRoom Load (0.6ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message_preview.html.erb:9
  Rendered messages/_message_preview.html.erb (Duration: 6.0ms | Allocations: 1551)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message_preview.html.erb:6
  [1m[36mCACHE Room Load (0.0ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message_preview.html.erb:9
  Rendered messages/_message_preview.html.erb (Duration: 3.2ms | Allocations: 1401)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message_preview.html.erb:6
  [1m[36mCACHE Room Load (0.0ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message_preview.html.erb:9
  Rendered messages/_message_preview.html.erb (Duration: 2.0ms | Allocations: 1401)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message_preview.html.erb:6
  [1m[36mCACHE Room Load (0.0ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message_preview.html.erb:9
  Rendered messages/_message_preview.html.erb (Duration: 2.2ms | Allocations: 1401)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message_preview.html.erb:6
  [1m[36mCACHE Room Load (0.0ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message_preview.html.erb:9
  Rendered messages/_message_preview.html.erb (Duration: 2.3ms | Allocations: 1401)
  Rendered pages/home.html.erb within layouts/application (Duration: 20.4ms | Allocations: 8409)
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 15)
  Rendered layout layouts/application.html.erb (Duration: 24.8ms | Allocations: 10760)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/pages_controller.rb:13:in `set_status'
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/pages_controller.rb:13:in `set_status'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "status" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2022-07-15 07:48:16.206962"], ["status", 0], ["id", 1]]
  â†³ app/controllers/pages_controller.rb:13:in `set_status'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/pages_controller.rb:13:in `set_status'
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 49)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_1\"></div>\n</template></turbo-stream>"
Completed 200 OK in 49ms (Views: 23.7ms | ActiveRecord: 6.8ms | Allocations: 16989)


Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Unsubscribing from channel: {"channel":"Turbo::StreamsChannel","signed_stream_name":"InB1YmxpY19tZXNzYWdlcyI=--b59292e056b3d87d7934979af985afc9da8ba6023e412800f1c22835f05a3e4d"}
Turbo::StreamsChannel stopped streaming from public_messages
AppearanceChannel#offline
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "status" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["status", 0], ["updated_at", "2022-07-15 07:48:16.241426"], ["id", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 41)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from public_messages
AppearanceChannel#offline
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_1\"></div>\n</template></turbo-stream>"
Started GET "/rooms" for ::1 at 2022-07-15 03:48:16 -0400
Processing by RoomsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `set_current_user'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/rooms_controller.rb:70:in `set_status'
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:70:in `set_status'
  [1m[36mUser Update (1.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "status" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2022-07-15 07:48:16.805473"], ["status", 2], ["id", 1]]
  â†³ app/controllers/rooms_controller.rb:70:in `set_status'
Unsubscribing from channel: {"channel":"Turbo::StreamsChannel","signed_stream_name":"InB1YmxpY19tZXNzYWdlcyI=--b59292e056b3d87d7934979af985afc9da8ba6023e412800f1c22835f05a3e4d"}
Turbo::StreamsChannel stopped streaming from public_messages
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/rooms_controller.rb:70:in `set_status'
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 53)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/rooms_controller.rb:9:in `index'
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:9:in `index'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/rooms_controller.rb:9:in `index'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 49)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
  Rendering layout layouts/application.html.erb
  Rendering rooms/index.html.erb within layouts/application
  Rendered shared/_message_error.html.erb (Duration: 0.0ms | Allocations: 16)
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.4ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 1], ["variation_digest", "2LUGSpqeAxE2FTbZR5KExFsl26Y="], ["LIMIT", 1]]
Turbo::StreamsChannel is transmitting the subscription confirmation
  â†³ app/models/user.rb:31:in `chat_avatar'
Turbo::StreamsChannel is streaming from users
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 47)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1[0m  [["id", 1]]
  â†³ app/views/users/_users.html.erb:1
  [1m[36mRoom Load (0.6ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 ORDER BY "rooms"."id" ASC LIMIT $2[0m  [["name", "private_1_2"], ["LIMIT", 1]]
  â†³ app/views/users/_users.html.erb:4
  [1m[36mMessage Load (0.6ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 3], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mCACHE Message Load (0.0ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 3], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
Turbo::StreamsChannel is transmitting the subscription confirmation
  [1m[36mActiveStorage::Attachment Load (1.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
Turbo::StreamsChannel is streaming from rooms
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.4ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.3ms | Allocations: 47)
  Rendered users/_last_message.html.erb (Duration: 0.0ms | Allocations: 15)
  Rendered users/_user.html.erb (Duration: 12.7ms | Allocations: 3787)
  Rendered users/_users.html.erb (Duration: 25.0ms | Allocations: 7614)
  Rendered layouts/_new_room_form.html.erb (Duration: 1.0ms | Allocations: 372)
  Rendered rooms/_search_results.html.erb (Duration: 0.0ms | Allocations: 15)
  Rendered rooms/_search_form.html.erb (Duration: 1.1ms | Allocations: 892)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
  [1m[36mRoom Load (1.0ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 ORDER BY last_message_at DESC[0m  [["user_id", 1]]
  â†³ app/views/rooms/_rooms.html.erb:1
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 1], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mNotification Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "notifications" WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/1"},"_aj_symbol_keys":["room"]}') AND "notifications"."type" = $1 AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["type", "MessageNotification"], ["recipient_type", "User"], ["recipient_id", 1]]
  â†³ app/views/rooms/_notifications.html.erb:4
  [1m[36mCACHE Notification Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "notifications" WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/1"},"_aj_symbol_keys":["room"]}') AND "notifications"."type" = $1 AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["type", "MessageNotification"], ["recipient_type", "User"], ["recipient_id", 1]]
  â†³ app/views/rooms/_notifications.html.erb:5
  Rendered rooms/_notifications.html.erb (Duration: 4.4ms | Allocations: 1789)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
  [1m[36mRoom Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 AND "rooms"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:39:in `has_joined_room'
  Rendered rooms/_joinable_link.html.erb (Duration: 4.0ms | Allocations: 1142)
  Rendered rooms/_last_message.html.erb (Duration: 0.3ms | Allocations: 106)
  Rendered rooms/_room.html.erb (Duration: 10.7ms | Allocations: 3472)
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 2], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mNotification Count (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "notifications" WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/2"},"_aj_symbol_keys":["room"]}') AND "notifications"."type" = $1 AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["type", "MessageNotification"], ["recipient_type", "User"], ["recipient_id", 1]]
  â†³ app/views/rooms/_notifications.html.erb:4
  Rendered rooms/_notifications.html.erb (Duration: 4.6ms | Allocations: 1140)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
  [1m[36mRoom Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 AND "rooms"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 2], ["LIMIT", 1]]
  â†³ app/models/user.rb:39:in `has_joined_room'
  Rendered rooms/_joinable_link.html.erb (Duration: 3.3ms | Allocations: 1056)
  Rendered rooms/_last_message.html.erb (Duration: 0.0ms | Allocations: 15)
  Rendered rooms/_room.html.erb (Duration: 9.9ms | Allocations: 2632)
  Rendered rooms/_rooms.html.erb (Duration: 35.8ms | Allocations: 10644)
  Rendered rooms/index.html.erb within layouts/application (Duration: 78.3ms | Allocations: 23200)
  Rendered layouts/_navbar.html.erb (Duration: 0.0ms | Allocations: 15)
  Rendered layout layouts/application.html.erb (Duration: 87.3ms | Allocations: 25705)
Completed 200 OK in 125ms (Views: 77.4ms | ActiveRecord: 19.6ms | Allocations: 35963)


Unsubscribing from channel: {"channel":"Turbo::StreamsChannel","signed_stream_name":"InVzZXJzIg==--0a4cafd9f04706169a05ab0bb14238d095c3f419aa3413d065af924eb0c2e24b"}
Turbo::StreamsChannel stopped streaming from users
Unsubscribing from channel: {"channel":"Turbo::StreamsChannel","signed_stream_name":"InJvb21zIg==--4edce82e4ae554228aef8568cd4e928d961abc8f42bad80d979cdf3010454855"}
Turbo::StreamsChannel stopped streaming from rooms
AppearanceChannel#online
Turbo::StreamsChannel is transmitting the subscription confirmation
  [1m[36mUser Load (2.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Turbo::StreamsChannel is streaming from rooms
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from users
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "status" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["status", 2], ["updated_at", "2022-07-15 07:48:16.953932"], ["id", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 41)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.3ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Unsubscribing from channel: {"channel":"Turbo::StreamsChannel","signed_stream_name":"InVzZXJzIg==--0a4cafd9f04706169a05ab0bb14238d095c3f419aa3413d065af924eb0c2e24b"}
Turbo::StreamsChannel stopped streaming from users
Unsubscribing from channel: {"channel":"Turbo::StreamsChannel","signed_stream_name":"InJvb21zIg==--4edce82e4ae554228aef8568cd4e928d961abc8f42bad80d979cdf3010454855"}
Turbo::StreamsChannel stopped streaming from rooms
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from public_messages
Started GET "/" for ::1 at 2022-07-15 03:48:18 -0400
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Processing by PagesController#home as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `set_current_user'
  [1m[36mUser Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."status" != $1[0m  [["status", 0]]
  â†³ app/controllers/pages_controller.rb:7:in `home'
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mMessage Load (0.6ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" IN (SELECT "rooms"."id" FROM "rooms" WHERE "rooms"."is_private" = $1) ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["is_private", false], ["LIMIT", 5]]
  â†³ app/views/pages/home.html.erb:26
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message_preview.html.erb:6
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message_preview.html.erb:9
  Rendered messages/_message_preview.html.erb (Duration: 3.8ms | Allocations: 1551)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message_preview.html.erb:6
  [1m[36mCACHE Room Load (0.0ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message_preview.html.erb:9
  Rendered messages/_message_preview.html.erb (Duration: 2.0ms | Allocations: 1401)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message_preview.html.erb:6
  [1m[36mCACHE Room Load (0.0ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message_preview.html.erb:9
  Rendered messages/_message_preview.html.erb (Duration: 2.7ms | Allocations: 1401)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message_preview.html.erb:6
  [1m[36mCACHE Room Load (0.0ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message_preview.html.erb:9
  Rendered messages/_message_preview.html.erb (Duration: 3.0ms | Allocations: 1401)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message_preview.html.erb:6
  [1m[36mCACHE Room Load (0.0ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message_preview.html.erb:9
  Rendered messages/_message_preview.html.erb (Duration: 2.6ms | Allocations: 1401)
  Rendered pages/home.html.erb within layouts/application (Duration: 18.4ms | Allocations: 8409)
  Rendered layouts/_navbar.html.erb (Duration: 0.0ms | Allocations: 15)
  Rendered layout layouts/application.html.erb (Duration: 21.8ms | Allocations: 10753)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/pages_controller.rb:13:in `set_status'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/pages_controller.rb:13:in `set_status'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "status" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2022-07-15 07:48:18.117903"], ["status", 0], ["id", 1]]
  â†³ app/controllers/pages_controller.rb:13:in `set_status'
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/pages_controller.rb:13:in `set_status'
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 49)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_1\"></div>\n</template></turbo-stream>"
Completed 200 OK in 45ms (Views: 21.6ms | ActiveRecord: 6.3ms | Allocations: 16969)


Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Unsubscribing from channel: {"channel":"Turbo::StreamsChannel","signed_stream_name":"InB1YmxpY19tZXNzYWdlcyI=--b59292e056b3d87d7934979af985afc9da8ba6023e412800f1c22835f05a3e4d"}
Turbo::StreamsChannel stopped streaming from public_messages
AppearanceChannel#offline
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "status" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["status", 0], ["updated_at", "2022-07-15 07:48:18.150970"], ["id", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 41)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from public_messages
AppearanceChannel#offline
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_1\"></div>\n</template></turbo-stream>"
Unsubscribing from channel: {"channel":"Turbo::StreamsChannel","signed_stream_name":"InB1YmxpY19tZXNzYWdlcyI=--b59292e056b3d87d7934979af985afc9da8ba6023e412800f1c22835f05a3e4d"}
Turbo::StreamsChannel stopped streaming from public_messages
Started GET "/rooms" for ::1 at 2022-07-15 03:48:18 -0400
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Processing by RoomsController#index as HTML
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `set_current_user'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/rooms_controller.rb:70:in `set_status'
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:70:in `set_status'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "status" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2022-07-15 07:48:18.664878"], ["status", 2], ["id", 1]]
  â†³ app/controllers/rooms_controller.rb:70:in `set_status'
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/rooms_controller.rb:70:in `set_status'
  [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 53)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from rooms
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/rooms_controller.rb:9:in `index'
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:9:in `index'
Turbo::StreamsChannel is transmitting the subscription confirmation
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/rooms_controller.rb:9:in `index'
Turbo::StreamsChannel is streaming from users
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 49)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
  Rendering layout layouts/application.html.erb
  Rendering rooms/index.html.erb within layouts/application
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
  Rendered shared/_message_error.html.erb (Duration: 0.1ms | Allocations: 16)
  [1m[36mActiveStorage::Blob Load (0.6ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.4ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 1], ["variation_digest", "2LUGSpqeAxE2FTbZR5KExFsl26Y="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 47)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1[0m  [["id", 1]]
  â†³ app/views/users/_users.html.erb:1
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 ORDER BY "rooms"."id" ASC LIMIT $2[0m  [["name", "private_1_2"], ["LIMIT", 1]]
  â†³ app/views/users/_users.html.erb:4
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 3], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mCACHE Message Load (0.0ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 3], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.4ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 47)
  Rendered users/_last_message.html.erb (Duration: 0.0ms | Allocations: 15)
  Rendered users/_user.html.erb (Duration: 8.0ms | Allocations: 3202)
  Rendered users/_users.html.erb (Duration: 14.7ms | Allocations: 6363)
  Rendered layouts/_new_room_form.html.erb (Duration: 1.7ms | Allocations: 372)
  Rendered rooms/_search_results.html.erb (Duration: 0.1ms | Allocations: 15)
  Rendered rooms/_search_form.html.erb (Duration: 2.0ms | Allocations: 890)
  [1m[36mRoom Load (0.9ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 ORDER BY last_message_at DESC[0m  [["user_id", 1]]
  â†³ app/views/rooms/_rooms.html.erb:1
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 1], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mNotification Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "notifications" WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/1"},"_aj_symbol_keys":["room"]}') AND "notifications"."type" = $1 AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["type", "MessageNotification"], ["recipient_type", "User"], ["recipient_id", 1]]
  â†³ app/views/rooms/_notifications.html.erb:4
  [1m[36mCACHE Notification Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "notifications" WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/1"},"_aj_symbol_keys":["room"]}') AND "notifications"."type" = $1 AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["type", "MessageNotification"], ["recipient_type", "User"], ["recipient_id", 1]]
  â†³ app/views/rooms/_notifications.html.erb:5
  Rendered rooms/_notifications.html.erb (Duration: 4.1ms | Allocations: 1467)
  [1m[36mRoom Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 AND "rooms"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:39:in `has_joined_room'
  Rendered rooms/_joinable_link.html.erb (Duration: 3.0ms | Allocations: 956)
  Rendered rooms/_last_message.html.erb (Duration: 0.4ms | Allocations: 106)
  Rendered rooms/_room.html.erb (Duration: 8.5ms | Allocations: 2867)
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 2], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mNotification Count (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "notifications" WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/2"},"_aj_symbol_keys":["room"]}') AND "notifications"."type" = $1 AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["type", "MessageNotification"], ["recipient_type", "User"], ["recipient_id", 1]]
  â†³ app/views/rooms/_notifications.html.erb:4
  Rendered rooms/_notifications.html.erb (Duration: 2.5ms | Allocations: 884)
  [1m[36mRoom Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 AND "rooms"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 2], ["LIMIT", 1]]
  â†³ app/models/user.rb:39:in `has_joined_room'
  Rendered rooms/_joinable_link.html.erb (Duration: 2.2ms | Allocations: 840)
  Rendered rooms/_last_message.html.erb (Duration: 0.0ms | Allocations: 15)
  Rendered rooms/_room.html.erb (Duration: 5.7ms | Allocations: 2077)
  Rendered rooms/_rooms.html.erb (Duration: 24.8ms | Allocations: 8336)
  Rendered rooms/index.html.erb within layouts/application (Duration: 56.0ms | Allocations: 19510)
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 15)
  Rendered layout layouts/application.html.erb (Duration: 59.8ms | Allocations: 21837)
Completed 200 OK in 104ms (Views: 53.4ms | ActiveRecord: 16.3ms | Allocations: 32690)


Unsubscribing from channel: {"channel":"Turbo::StreamsChannel","signed_stream_name":"InVzZXJzIg==--0a4cafd9f04706169a05ab0bb14238d095c3f419aa3413d065af924eb0c2e24b"}
Turbo::StreamsChannel stopped streaming from users
AppearanceChannel#online
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "status" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["status", 2], ["updated_at", "2022-07-15 07:48:18.786272"], ["id", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 41)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Unsubscribing from channel: {"channel":"Turbo::StreamsChannel","signed_stream_name":"InJvb21zIg==--4edce82e4ae554228aef8568cd4e928d961abc8f42bad80d979cdf3010454855"}
Turbo::StreamsChannel stopped streaming from rooms
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from rooms
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from users
AppearanceChannel#online
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
Unsubscribing from channel: {"channel":"Turbo::StreamsChannel","signed_stream_name":"InVzZXJzIg==--0a4cafd9f04706169a05ab0bb14238d095c3f419aa3413d065af924eb0c2e24b"}
Turbo::StreamsChannel stopped streaming from users
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Started GET "/" for ::1 at 2022-07-15 03:48:19 -0400
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Processing by PagesController#home as HTML
Unsubscribing from channel: {"channel":"Turbo::StreamsChannel","signed_stream_name":"InJvb21zIg==--4edce82e4ae554228aef8568cd4e928d961abc8f42bad80d979cdf3010454855"}
Turbo::StreamsChannel stopped streaming from rooms
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `set_current_user'
  [1m[36mUser Count (1.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."status" != $1[0m  [["status", 0]]
  â†³ app/controllers/pages_controller.rb:7:in `home'
Turbo::StreamsChannel is transmitting the subscription confirmation
  Rendering layout layouts/application.html.erb
Turbo::StreamsChannel is streaming from public_messages
  Rendering pages/home.html.erb within layouts/application
  [1m[36mMessage Load (0.7ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" IN (SELECT "rooms"."id" FROM "rooms" WHERE "rooms"."is_private" = $1) ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["is_private", false], ["LIMIT", 5]]
  â†³ app/views/pages/home.html.erb:26
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message_preview.html.erb:6
  [1m[36mRoom Load (0.4ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message_preview.html.erb:9
  Rendered messages/_message_preview.html.erb (Duration: 4.8ms | Allocations: 1551)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message_preview.html.erb:6
  [1m[36mCACHE Room Load (0.0ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message_preview.html.erb:9
  Rendered messages/_message_preview.html.erb (Duration: 3.2ms | Allocations: 1401)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message_preview.html.erb:6
  [1m[36mCACHE Room Load (0.0ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message_preview.html.erb:9
  Rendered messages/_message_preview.html.erb (Duration: 9.7ms | Allocations: 1401)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message_preview.html.erb:6
  [1m[36mCACHE Room Load (0.0ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message_preview.html.erb:9
  Rendered messages/_message_preview.html.erb (Duration: 2.6ms | Allocations: 1401)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message_preview.html.erb:6
  [1m[36mCACHE Room Load (0.0ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message_preview.html.erb:9
  Rendered messages/_message_preview.html.erb (Duration: 2.1ms | Allocations: 1401)
  Rendered pages/home.html.erb within layouts/application (Duration: 26.5ms | Allocations: 8409)
  Rendered layouts/_navbar.html.erb (Duration: 0.0ms | Allocations: 15)
  Rendered layout layouts/application.html.erb (Duration: 30.1ms | Allocations: 10763)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/pages_controller.rb:13:in `set_status'
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/pages_controller.rb:13:in `set_status'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "status" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2022-07-15 07:48:19.245399"], ["status", 0], ["id", 1]]
  â†³ app/controllers/pages_controller.rb:13:in `set_status'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/pages_controller.rb:13:in `set_status'
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 49)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_1\"></div>\n</template></turbo-stream>"
Completed 200 OK in 59ms (Views: 30.3ms | ActiveRecord: 8.0ms | Allocations: 17950)


Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Unsubscribing from channel: {"channel":"Turbo::StreamsChannel","signed_stream_name":"InB1YmxpY19tZXNzYWdlcyI=--b59292e056b3d87d7934979af985afc9da8ba6023e412800f1c22835f05a3e4d"}
Turbo::StreamsChannel stopped streaming from public_messages
AppearanceChannel#offline
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "status" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["status", 0], ["updated_at", "2022-07-15 07:48:19.275831"], ["id", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 41)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from public_messages
AppearanceChannel#offline
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_1\"></div>\n</template></turbo-stream>"
Unsubscribing from channel: {"channel":"Turbo::StreamsChannel","signed_stream_name":"InB1YmxpY19tZXNzYWdlcyI=--b59292e056b3d87d7934979af985afc9da8ba6023e412800f1c22835f05a3e4d"}
Turbo::StreamsChannel stopped streaming from public_messages
Started GET "/rooms" for ::1 at 2022-07-15 03:48:19 -0400
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Processing by RoomsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `set_current_user'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/rooms_controller.rb:70:in `set_status'
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:70:in `set_status'
  [1m[36mUser Update (1.0ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "status" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2022-07-15 07:48:19.788792"], ["status", 2], ["id", 1]]
  â†³ app/controllers/rooms_controller.rb:70:in `set_status'
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[35mCOMMIT[0m
Turbo::StreamsChannel is transmitting the subscription confirmation
  â†³ app/controllers/rooms_controller.rb:70:in `set_status'
Turbo::StreamsChannel is streaming from rooms
  [1m[36mActiveStorage::Attachment Load (0.8ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 53)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/rooms_controller.rb:9:in `index'
Started GET "/cable" for ::1 at 2022-07-15 03:48:19 -0400
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:9:in `index'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/rooms_controller.rb:9:in `index'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 65)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
  Rendering layout layouts/application.html.erb
  Rendering rooms/index.html.erb within layouts/application
  Rendered shared/_message_error.html.erb (Duration: 0.1ms | Allocations: 26)
Turbo::StreamsChannel is transmitting the subscription confirmation
  [1m[36mActiveStorage::Blob Load (0.8ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Turbo::StreamsChannel is streaming from users
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (1.1ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 1], ["variation_digest", "2LUGSpqeAxE2FTbZR5KExFsl26Y="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 57)
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1[0m  [["id", 1]]
  â†³ app/views/users/_users.html.erb:1
  [1m[36mRoom Load (1.0ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 ORDER BY "rooms"."id" ASC LIMIT $2[0m  [["name", "private_1_2"], ["LIMIT", 1]]
  â†³ app/views/users/_users.html.erb:4
  [1m[36mMessage Load (0.8ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 3], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mCACHE Message Load (0.0ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 3], ["LIMIT", 1]]
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mActiveStorage::Attachment Load (1.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-15 03:48:19 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mActiveStorage::Blob Load (1.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.6ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 51)
  Rendered users/_last_message.html.erb (Duration: 0.1ms | Allocations: 15)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
  Rendered users/_user.html.erb (Duration: 16.1ms | Allocations: 4127)
  Rendered users/_users.html.erb (Duration: 31.0ms | Allocations: 7833)
  Rendered layouts/_new_room_form.html.erb (Duration: 1.4ms | Allocations: 372)
  Rendered rooms/_search_results.html.erb (Duration: 0.0ms | Allocations: 15)
  Rendered rooms/_search_form.html.erb (Duration: 1.6ms | Allocations: 907)
  [1m[36mRoom Load (2.0ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 ORDER BY last_message_at DESC[0m  [["user_id", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/rooms/_rooms.html.erb:1
  â†³ app/channels/application_cable/connection.rb:12:in `find_verified_user'
Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMg)
  [1m[36mMessage Load (1.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 1], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mNotification Count (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "notifications" WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/1"},"_aj_symbol_keys":["room"]}') AND "notifications"."type" = $1 AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["type", "MessageNotification"], ["recipient_type", "User"], ["recipient_id", 1]]
  â†³ app/views/rooms/_notifications.html.erb:4
  [1m[36mCACHE Notification Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "notifications" WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/1"},"_aj_symbol_keys":["room"]}') AND "notifications"."type" = $1 AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["type", "MessageNotification"], ["recipient_type", "User"], ["recipient_id", 1]]
Turbo::StreamsChannel is transmitting the subscription confirmation
  â†³ app/views/rooms/_notifications.html.erb:5
  Rendered rooms/_notifications.html.erb (Duration: 6.4ms | Allocations: 2061)
Turbo::StreamsChannel is streaming from user_status
  [1m[36mRoom Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 AND "rooms"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:39:in `has_joined_room'
  Rendered rooms/_joinable_link.html.erb (Duration: 3.1ms | Allocations: 999)
  Rendered rooms/_last_message.html.erb (Duration: 0.5ms | Allocations: 106)
  Rendered rooms/_room.html.erb (Duration: 12.1ms | Allocations: 3641)
  [1m[36mMessage Load (2.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 2], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
Turbo::StreamsChannel is transmitting the subscription confirmation
  [1m[36mNotification Count (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "notifications" WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/2"},"_aj_symbol_keys":["room"]}') AND "notifications"."type" = $1 AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["type", "MessageNotification"], ["recipient_type", "User"], ["recipient_id", 1]]
Turbo::StreamsChannel is streaming from rooms
  â†³ app/views/rooms/_notifications.html.erb:4
  Rendered rooms/_notifications.html.erb (Duration: 5.1ms | Allocations: 1446)
  [1m[36mRoom Exists? (1.9ms)[0m  [1m[34mSELECT 1 AS one FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 AND "rooms"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 2], ["LIMIT", 1]]
Turbo::StreamsChannel is transmitting the subscription confirmation
  â†³ app/models/user.rb:39:in `has_joined_room'
Turbo::StreamsChannel is streaming from Z2lkOi8vdHVyYm9jaGF0L1Jvb20vMQ
  Rendered rooms/_joinable_link.html.erb (Duration: 6.8ms | Allocations: 1464)
  Rendered rooms/_last_message.html.erb (Duration: 0.0ms | Allocations: 15)
  Rendered rooms/_room.html.erb (Duration: 14.1ms | Allocations: 3332)
  Rendered rooms/_rooms.html.erb (Duration: 44.8ms | Allocations: 12618)
  Rendered rooms/index.html.erb within layouts/application (Duration: 102.9ms | Allocations: 25631)
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from users
  Rendered layouts/_navbar.html.erb (Duration: 0.0ms | Allocations: 15)
  Rendered layout layouts/application.html.erb (Duration: 108.9ms | Allocations: 28255)
Completed 200 OK in 154ms (Views: 91.3ms | ActiveRecord: 30.0ms | Allocations: 39009)


Unsubscribing from channel: {"channel":"Turbo::StreamsChannel","signed_stream_name":"InVzZXJzIg==--0a4cafd9f04706169a05ab0bb14238d095c3f419aa3413d065af924eb0c2e24b"}
Turbo::StreamsChannel stopped streaming from users
AppearanceChannel#online
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "status" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["status", 2], ["updated_at", "2022-07-15 07:48:19.953025"], ["id", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 41)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Unsubscribing from channel: {"channel":"Turbo::StreamsChannel","signed_stream_name":"InJvb21zIg==--4edce82e4ae554228aef8568cd4e928d961abc8f42bad80d979cdf3010454855"}
Turbo::StreamsChannel stopped streaming from rooms
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from rooms
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from users
AppearanceChannel#online
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Started POST "/rooms" for ::1 at 2022-07-15 03:48:22 -0400
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Processing by RoomsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "room"=>{"name"=>""}, "commit"=>"Create Room"}
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `set_current_user'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/rooms_controller.rb:70:in `set_status'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:70:in `set_status'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/rooms_controller.rb:70:in `set_status'
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 53)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/rooms_controller.rb:36:in `create'
  [1m[36mRoom Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", ""], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:36:in `create'
  [1m[36mRoom Create (2.2ms)[0m  [1m[32mINSERT INTO "rooms" ("name", "is_private", "created_at", "updated_at", "last_message_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", ""], ["is_private", false], ["created_at", "2022-07-15 07:48:22.137909"], ["updated_at", "2022-07-15 07:48:22.137909"], ["last_message_at", nil]]
  â†³ app/controllers/rooms_controller.rb:36:in `create'
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/rooms_controller.rb:36:in `create'
Redirected to http://localhost:3000/rooms/5
Completed 302 Found in 33ms (ActiveRecord: 7.8ms | Allocations: 10055)


Started GET "/rooms/5" for ::1 at 2022-07-15 03:48:22 -0400
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `set_current_user'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/rooms_controller.rb:70:in `set_status'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:70:in `set_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/rooms_controller.rb:70:in `set_status'
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 53)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
  [1m[36mRoom Load (1.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:16:in `show'
  [1m[36mCACHE User Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:17:in `show'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 49)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
  [1m[36mMessage Count (2.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."room_id" = $1[0m  [["room_id", 5]]
  â†³ app/controllers/rooms_controller.rb:26:in `show'
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
  [1m[36mMessage Load (0.6ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2 OFFSET $3[0m  [["room_id", 5], ["LIMIT", 10], ["OFFSET", 0]]
  â†³ app/controllers/rooms_controller.rb:27:in `show'
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
  [1m[36mNotification Update All (1.8ms)[0m  [1m[33mUPDATE "notifications" SET "read_at" = $1 WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/5"},"_aj_symbol_keys":["room"]}') AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["read_at", "2022-07-15 07:48:22.193995"], ["recipient_type", "User"], ["recipient_id", 1]]
  â†³ app/controllers/rooms_controller.rb:75:in `set_notifications_to_read'
  Rendering layout layouts/application.html.erb
  Rendering rooms/index.html.erb within layouts/application
  Rendered shared/_message_error.html.erb (Duration: 0.1ms | Allocations: 16)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
  [1m[36mActiveStorage::Blob Load (1.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.5ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 1], ["variation_digest", "2LUGSpqeAxE2FTbZR5KExFsl26Y="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 47)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1[0m  [["id", 1]]
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
  â†³ app/views/users/_users.html.erb:1
  [1m[36mRoom Load (0.9ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 ORDER BY "rooms"."id" ASC LIMIT $2[0m  [["name", "private_1_2"], ["LIMIT", 1]]
  â†³ app/views/users/_users.html.erb:4
  [1m[36mMessage Load (1.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 3], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mCACHE Message Load (0.0ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 3], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mParticipant Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "participants" WHERE "participants"."room_id" = $1 AND "participants"."user_id" = $2 LIMIT $3[0m  [["room_id", 5], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/models/room.rb:25:in `participant?'
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.3ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 53)
  Rendered users/_last_message.html.erb (Duration: 0.0ms | Allocations: 15)
  Rendered users/_user.html.erb (Duration: 24.6ms | Allocations: 8085)
  Rendered users/_users.html.erb (Duration: 37.4ms | Allocations: 11815)
  Rendered layouts/_new_room_form.html.erb (Duration: 1.9ms | Allocations: 438)
  Rendered rooms/_search_results.html.erb (Duration: 0.3ms | Allocations: 15)
  Rendered rooms/_search_form.html.erb (Duration: 1.0ms | Allocations: 765)
  [1m[36mRoom Load (0.7ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 ORDER BY last_message_at DESC[0m  [["user_id", 1]]
  â†³ app/views/rooms/_rooms.html.erb:1
  [1m[36mMessage Load (1.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 1], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mNotification Count (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "notifications" WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/1"},"_aj_symbol_keys":["room"]}') AND "notifications"."type" = $1 AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["type", "MessageNotification"], ["recipient_type", "User"], ["recipient_id", 1]]
  â†³ app/views/rooms/_notifications.html.erb:4
  [1m[36mCACHE Notification Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "notifications" WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/1"},"_aj_symbol_keys":["room"]}') AND "notifications"."type" = $1 AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["type", "MessageNotification"], ["recipient_type", "User"], ["recipient_id", 1]]
  â†³ app/views/rooms/_notifications.html.erb:5
  Rendered rooms/_notifications.html.erb (Duration: 4.7ms | Allocations: 1890)
  [1m[36mRoom Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 AND "rooms"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:39:in `has_joined_room'
  Rendered rooms/_joinable_link.html.erb (Duration: 2.8ms | Allocations: 1023)
  Rendered rooms/_last_message.html.erb (Duration: 0.5ms | Allocations: 135)
  Rendered rooms/_room.html.erb (Duration: 9.3ms | Allocations: 3452)
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 2], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mNotification Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "notifications" WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/2"},"_aj_symbol_keys":["room"]}') AND "notifications"."type" = $1 AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["type", "MessageNotification"], ["recipient_type", "User"], ["recipient_id", 1]]
  â†³ app/views/rooms/_notifications.html.erb:4
  Rendered rooms/_notifications.html.erb (Duration: 2.6ms | Allocations: 884)
  [1m[36mRoom Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 AND "rooms"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 2], ["LIMIT", 1]]
  â†³ app/models/user.rb:39:in `has_joined_room'
  Rendered rooms/_joinable_link.html.erb (Duration: 3.4ms | Allocations: 840)
  Rendered rooms/_last_message.html.erb (Duration: 0.0ms | Allocations: 15)
  Rendered rooms/_room.html.erb (Duration: 7.4ms | Allocations: 2077)
  Rendered rooms/_rooms.html.erb (Duration: 29.4ms | Allocations: 9318)
  Rendered messages/_pager.html.erb (Duration: 0.0ms | Allocations: 16)
  Rendered collection of templates [0 times] (Duration: 0.1ms | Allocations: 22)
  Rendered layouts/_new_message_form.html.erb (Duration: 1.6ms | Allocations: 429)
  Rendered rooms/index.html.erb within layouts/application (Duration: 85.7ms | Allocations: 26611)
  Rendered layouts/_navbar.html.erb (Duration: 0.0ms | Allocations: 15)
  Rendered layout layouts/application.html.erb (Duration: 88.6ms | Allocations: 28938)
Completed 200 OK in 125ms (Views: 75.7ms | ActiveRecord: 23.0ms | Allocations: 40472)


Finished "/cable/" [WebSocket] for ::1 at 2022-07-15 03:48:22 -0400
AppearanceChannel stopped streaming from appearance_channel
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
Finished "/cable/" [WebSocket] for ::1 at 2022-07-15 03:48:22 -0400
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
Turbo::StreamsChannel stopped streaming from user_status
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
Turbo::StreamsChannel stopped streaming from rooms
Turbo::StreamsChannel stopped streaming from users
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "status" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["status", 0], ["updated_at", "2022-07-15 07:48:22.341045"], ["id", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.4ms | Allocations: 41)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhOWFIwWlRsb1ptOW1lbkkwTXpFNU1teDBPSFY2WTJjMGNIcDRid1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0wNy0xNVQwNzo1MjozNi41NDVaIiwicHVyIjoiYmxvYl9rZXkifX0=--27a823db846e23f90b203b7ce3fdd26a3a226551/default_profile.jpg" for ::1 at 2022-07-15 03:48:22 -0400
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhaakoxZG1ZNVkzWm5kMnQ2Y1d4elluRTNlVEJxYW1wNmNXUmthZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVDJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SWtGa2JXbHVJRkJoY25RZ055NXdibWNpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjBGa2JXbHVKVEl3VUdGeWRDVXlNRGN1Y0c1bkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSU9hVzFoWjJVdmNHNW5CanNHVkRvUmMyVnlkbWxqWlY5dVlXMWxPZ3BzYjJOaGJBPT0iLCJleHAiOiIyMDIyLTA3LTE1VDA3OjUyOjM2Ljk0MVoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--db26282af212f6361ad82470a7465de1cd454393/Admin%20Part%207.png" for ::1 at 2022-07-15 03:48:22 -0400
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"default_profile"}
Completed 304 Not Modified in 2ms (ActiveRecord: 0.0ms | Allocations: 322)


Processing by ActiveStorage::DiskController#show as PNG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"Admin Part 7"}
Completed 304 Not Modified in 1ms (ActiveRecord: 0.0ms | Allocations: 210)


Started GET "/cable" for ::1 at 2022-07-15 03:48:22 -0400
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-15 03:48:22 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:12:in `find_verified_user'
Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMQ)
AppearanceChannel is transmitting the subscription confirmation
AppearanceChannel is streaming from appearance_channel
AppearanceChannel#online
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
Started GET "/cable" for ::1 at 2022-07-15 03:48:22 -0400
  [1m[36mUser Update (1.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "status" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2022-07-15 07:48:22.434925"], ["status", 2], ["id", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-15 03:48:22 -0400
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[35mCOMMIT[0m
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mActiveStorage::Attachment Load (0.8ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 41)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:12:in `find_verified_user'
Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMQ)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from user_status
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from users
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from Z2lkOi8vdHVyYm9jaGF0L1Jvb20vNQ
AppearanceChannel#online
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
AppearanceChannel#online
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
Turbo::StreamsChannel is transmitting the subscription confirmation
  [1m[36mUser Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
Turbo::StreamsChannel is streaming from rooms
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Started GET "/user/2" for ::1 at 2022-07-15 03:48:25 -0400
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `set_current_user'
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:4:in `show'
  [1m[36mRoom Load (0.7ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 ORDER BY "rooms"."id" ASC LIMIT $2[0m  [["name", "private_1_2"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:11:in `show'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/users_controller.rb:12:in `show'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:12:in `show'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/users_controller.rb:12:in `show'
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 73)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
  [1m[36mMessage Count (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."room_id" = $1[0m  [["room_id", 3]]
  â†³ app/controllers/users_controller.rb:17:in `show'
  [1m[36mMessage Load (0.8ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2 OFFSET $3[0m  [["room_id", 3], ["LIMIT", 10], ["OFFSET", 0]]
  â†³ app/controllers/users_controller.rb:18:in `show'
  Rendering layout layouts/application.html.erb
  Rendering rooms/index.html.erb within layouts/application
  Rendered shared/_message_error.html.erb (Duration: 0.1ms | Allocations: 22)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
  [1m[36mActiveStorage::Blob Load (1.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.6ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 1], ["variation_digest", "2LUGSpqeAxE2FTbZR5KExFsl26Y="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 56)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1[0m  [["id", 1]]
  â†³ app/views/users/_users.html.erb:1
  [1m[36mCACHE Room Load (0.0ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 ORDER BY "rooms"."id" ASC LIMIT $2[0m  [["name", "private_1_2"], ["LIMIT", 1]]
  â†³ app/views/users/_users.html.erb:4
  [1m[36mMessage Load (0.8ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 3], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mCACHE Message Load (0.0ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 3], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mParticipant Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "participants" WHERE "participants"."room_id" = $1 AND "participants"."user_id" = $2 LIMIT $3[0m  [["room_id", 3], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/models/room.rb:25:in `participant?'
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.5ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 47)
  Rendered users/_last_message.html.erb (Duration: 0.0ms | Allocations: 16)
  Rendered users/_user.html.erb (Duration: 15.1ms | Allocations: 4491)
  Rendered users/_users.html.erb (Duration: 27.6ms | Allocations: 8035)
  Rendered layouts/_new_room_form.html.erb (Duration: 2.3ms | Allocations: 480)
  Rendered rooms/_search_results.html.erb (Duration: 0.0ms | Allocations: 16)
  Rendered rooms/_search_form.html.erb (Duration: 1.4ms | Allocations: 829)
  [1m[36mRoom Load (0.6ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/views/rooms/_rooms.html.erb:1
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 1], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mNotification Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "notifications" WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/1"},"_aj_symbol_keys":["room"]}') AND "notifications"."type" = $1 AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["type", "MessageNotification"], ["recipient_type", "User"], ["recipient_id", 1]]
  â†³ app/views/rooms/_notifications.html.erb:4
  [1m[36mCACHE Notification Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "notifications" WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/1"},"_aj_symbol_keys":["room"]}') AND "notifications"."type" = $1 AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["type", "MessageNotification"], ["recipient_type", "User"], ["recipient_id", 1]]
  â†³ app/views/rooms/_notifications.html.erb:5
  Rendered rooms/_notifications.html.erb (Duration: 4.0ms | Allocations: 1532)
  Rendered rooms/_joinable_link.html.erb (Duration: 0.5ms | Allocations: 91)
  Rendered rooms/_last_message.html.erb (Duration: 0.4ms | Allocations: 140)
  Rendered rooms/_room.html.erb (Duration: 6.2ms | Allocations: 2108)
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 2], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mNotification Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "notifications" WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/2"},"_aj_symbol_keys":["room"]}') AND "notifications"."type" = $1 AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["type", "MessageNotification"], ["recipient_type", "User"], ["recipient_id", 1]]
  â†³ app/views/rooms/_notifications.html.erb:4
  Rendered rooms/_notifications.html.erb (Duration: 2.9ms | Allocations: 884)
  Rendered rooms/_joinable_link.html.erb (Duration: 0.3ms | Allocations: 83)
  Rendered rooms/_last_message.html.erb (Duration: 0.0ms | Allocations: 15)
  Rendered rooms/_room.html.erb (Duration: 4.1ms | Allocations: 1320)
  Rendered rooms/_rooms.html.erb (Duration: 23.9ms | Allocations: 7934)
  Rendered messages/_pager.html.erb (Duration: 0.0ms | Allocations: 16)
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 15)
  Rendered layouts/_new_message_form.html.erb (Duration: 1.9ms | Allocations: 418)
  Rendered rooms/index.html.erb within layouts/application (Duration: 72.3ms | Allocations: 22162)
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 16)
  Rendered layout layouts/application.html.erb (Duration: 76.1ms | Allocations: 24509)
Completed 200 OK in 114ms (Views: 69.8ms | ActiveRecord: 15.7ms | Allocations: 34631)


Finished "/cable/" [WebSocket] for ::1 at 2022-07-15 03:48:25 -0400
AppearanceChannel stopped streaming from appearance_channel
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
Finished "/cable/" [WebSocket] for ::1 at 2022-07-15 03:48:25 -0400
Turbo::StreamsChannel stopped streaming from user_status
Turbo::StreamsChannel stopped streaming from users
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
Turbo::StreamsChannel stopped streaming from Z2lkOi8vdHVyYm9jaGF0L1Jvb20vNQ
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
Turbo::StreamsChannel stopped streaming from rooms
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "status" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["status", 0], ["updated_at", "2022-07-15 07:48:25.954239"], ["id", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 41)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhOWFIwWlRsb1ptOW1lbkkwTXpFNU1teDBPSFY2WTJjMGNIcDRid1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0wNy0xNVQwNzo1MjozNi41NDVaIiwicHVyIjoiYmxvYl9rZXkifX0=--27a823db846e23f90b203b7ce3fdd26a3a226551/default_profile.jpg" for ::1 at 2022-07-15 03:48:26 -0400
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhaakoxZG1ZNVkzWm5kMnQ2Y1d4elluRTNlVEJxYW1wNmNXUmthZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVDJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SWtGa2JXbHVJRkJoY25RZ055NXdibWNpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjBGa2JXbHVKVEl3VUdGeWRDVXlNRGN1Y0c1bkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSU9hVzFoWjJVdmNHNW5CanNHVkRvUmMyVnlkbWxqWlY5dVlXMWxPZ3BzYjJOaGJBPT0iLCJleHAiOiIyMDIyLTA3LTE1VDA3OjUyOjM2Ljk0MVoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--db26282af212f6361ad82470a7465de1cd454393/Admin%20Part%207.png" for ::1 at 2022-07-15 03:48:26 -0400
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"default_profile"}
Completed 304 Not Modified in 2ms (ActiveRecord: 0.0ms | Allocations: 287)


Processing by ActiveStorage::DiskController#show as PNG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"Admin Part 7"}
Completed 304 Not Modified in 1ms (ActiveRecord: 0.0ms | Allocations: 210)


Started GET "/cable" for ::1 at 2022-07-15 03:48:26 -0400
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-15 03:48:26 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:12:in `find_verified_user'
Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMQ)
AppearanceChannel is transmitting the subscription confirmation
AppearanceChannel is streaming from appearance_channel
AppearanceChannel#online
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Update (0.8ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "status" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2022-07-15 07:48:26.097254"], ["status", 2], ["id", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
Started GET "/cable" for ::1 at 2022-07-15 03:48:26 -0400
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mActiveStorage::Attachment Load (0.8ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-15 03:48:26 -0400
  â†³ app/models/user.rb:60:in `add_default_avatar'
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 53)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:12:in `find_verified_user'
Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMQ)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from user_status
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from users
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from rooms
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from Z2lkOi8vdHVyYm9jaGF0L1Jvb20vMw
AppearanceChannel#online
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mBEGIN[0m
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 41)
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mBEGIN[0m
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Started POST "/rooms/3/messages" for ::1 at 2022-07-15 03:48:28 -0400
Processing by MessagesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "message"=>{"attachments"=>[""], "body"=>"/dnd"}, "commit"=>"Send", "room_id"=>"3"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `set_current_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:63:in `dnd_manager'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:63:in `dnd_manager'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "status" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2022-07-15 07:48:28.273296"], ["status", 3], ["id", 1]]
  â†³ app/controllers/messages_controller.rb:63:in `dnd_manager'
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:63:in `dnd_manager'
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 73)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-danger\" id=\"user_1\"></div>\n</template></turbo-stream>"
No template found for MessagesController#create, rendering head :no_content
Completed 204 No Content in 18ms (ActiveRecord: 3.3ms | Allocations: 6229)


Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-danger\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-danger\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
Started POST "/rooms/3/messages" for ::1 at 2022-07-15 03:48:30 -0400
Processing by MessagesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "message"=>{"attachments"=>[""], "body"=>"/dnd"}, "commit"=>"Send", "room_id"=>"3"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `set_current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:63:in `dnd_manager'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:63:in `dnd_manager'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "status" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2022-07-15 07:48:30.990259"], ["status", 2], ["id", 1]]
  â†³ app/controllers/messages_controller.rb:63:in `dnd_manager'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:63:in `dnd_manager'
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 53)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
No template found for MessagesController#create, rendering head :no_content
Completed 204 No Content in 15ms (ActiveRecord: 3.3ms | Allocations: 5533)


Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#away
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "status" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["status", 1], ["updated_at", "2022-07-15 07:53:30.947648"], ["id", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 41)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-warning\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-warning\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-warning\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#away
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
AppearanceChannel#online
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
Finished "/cable/" [WebSocket] for ::1 at 2022-07-15 04:00:16 -0400
AppearanceChannel stopped streaming from appearance_channel
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
Finished "/cable/" [WebSocket] for ::1 at 2022-07-15 04:00:16 -0400
Turbo::StreamsChannel stopped streaming from user_status
Turbo::StreamsChannel stopped streaming from users
Turbo::StreamsChannel stopped streaming from rooms
Turbo::StreamsChannel stopped streaming from Z2lkOi8vdHVyYm9jaGF0L1Jvb20vMw
  [1m[36mUser Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "dean"], ["id", 1], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "status" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["status", 0], ["updated_at", "2022-07-15 08:00:16.166001"], ["id", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 40)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
AppearanceChannel#online
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
Started GET "/rooms/1" for ::1 at 2022-07-15 04:00:43 -0400
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `set_current_user'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/rooms_controller.rb:70:in `set_status'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:70:in `set_status'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "status" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2022-07-15 08:00:43.524024"], ["status", 2], ["id", 2]]
  â†³ app/controllers/rooms_controller.rb:70:in `set_status'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/rooms_controller.rb:70:in `set_status'
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 97)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:16:in `show'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/rooms_controller.rb:17:in `show'
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:17:in `show'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/rooms_controller.rb:17:in `show'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 69)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
  [1m[36mMessage Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."room_id" = $1[0m  [["room_id", 1]]
  â†³ app/controllers/rooms_controller.rb:26:in `show'
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2 OFFSET $3[0m  [["room_id", 1], ["LIMIT", 10], ["OFFSET", 0]]
  â†³ app/controllers/rooms_controller.rb:27:in `show'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/rooms_controller.rb:27:in `show'
  [1m[36mNotification Update All (0.8ms)[0m  [1m[33mUPDATE "notifications" SET "read_at" = $1 WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/1"},"_aj_symbol_keys":["room"]}') AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["read_at", "2022-07-15 08:00:43.610461"], ["recipient_type", "User"], ["recipient_id", 2]]
  â†³ app/controllers/rooms_controller.rb:75:in `set_notifications_to_read'
  Rendering layout layouts/application.html.erb
  Rendering rooms/index.html.erb within layouts/application
  Rendered shared/_message_error.html.erb (Duration: 0.0ms | Allocations: 22)
  [1m[36mActiveStorage::Blob Load (0.6ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.6ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 59)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1[0m  [["id", 2]]
  â†³ app/views/users/_users.html.erb:1
  [1m[36mRoom Load (0.4ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 ORDER BY "rooms"."id" ASC LIMIT $2[0m  [["name", "private_1_2"], ["LIMIT", 1]]
  â†³ app/views/users/_users.html.erb:4
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 3], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mCACHE Message Load (0.0ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 3], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mParticipant Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "participants" WHERE "participants"."room_id" = $1 AND "participants"."user_id" = $2 LIMIT $3[0m  [["room_id", 1], ["user_id", 1], ["LIMIT", 1]]
  â†³ app/models/room.rb:25:in `participant?'
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.4ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 1], ["variation_digest", "2LUGSpqeAxE2FTbZR5KExFsl26Y="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 53)
  Rendered users/_last_message.html.erb (Duration: 0.0ms | Allocations: 16)
  Rendered users/_user.html.erb (Duration: 17.6ms | Allocations: 7111)
  Rendered users/_users.html.erb (Duration: 25.7ms | Allocations: 10211)
  Rendered layouts/_new_room_form.html.erb (Duration: 0.1ms | Allocations: 28)
  Rendered rooms/_search_results.html.erb (Duration: 0.0ms | Allocations: 16)
  Rendered rooms/_search_form.html.erb (Duration: 0.9ms | Allocations: 836)
  [1m[36mRoom Load (1.1ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 ORDER BY last_message_at DESC[0m  [["user_id", 2]]
  â†³ app/views/rooms/_rooms.html.erb:1
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 1], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mNotification Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "notifications" WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/1"},"_aj_symbol_keys":["room"]}') AND "notifications"."type" = $1 AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["type", "MessageNotification"], ["recipient_type", "User"], ["recipient_id", 2]]
  â†³ app/views/rooms/_notifications.html.erb:4
  Rendered rooms/_notifications.html.erb (Duration: 3.5ms | Allocations: 1348)
  [1m[36mRoom Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 AND "rooms"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:39:in `has_joined_room'
  Rendered rooms/_joinable_link.html.erb (Duration: 2.9ms | Allocations: 984)
  Rendered rooms/_last_message.html.erb (Duration: 0.5ms | Allocations: 182)
  Rendered rooms/_room.html.erb (Duration: 8.0ms | Allocations: 2886)
  Rendered rooms/_rooms.html.erb (Duration: 14.8ms | Allocations: 5451)
  Rendered messages/_pager.html.erb (Duration: 0.7ms | Allocations: 974)
  [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.4ms | Allocations: 1094)
  [1m[36mActiveStorage::Attachment Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 221], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 4.0ms | Allocations: 1779)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.3ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 222], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.0ms | Allocations: 1042)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 2.1ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 223], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 1.9ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.2ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 224], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.2ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.9ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 225], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.5ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.7ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 226], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.3ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.2ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 227], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.8ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.7ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 228], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.4ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.4ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 229], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.1ms | Allocations: 1112)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.4ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 230], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.0ms | Allocations: 1040)
  Rendered collection of messages/_message.html.erb [10 times] (Duration: 80.8ms | Allocations: 37449)
  Rendered layouts/_new_message_form.html.erb (Duration: 1.1ms | Allocations: 464)
  Rendered rooms/index.html.erb within layouts/application (Duration: 162.9ms | Allocations: 71240)
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 16)
  Rendered layout layouts/application.html.erb (Duration: 184.9ms | Allocations: 104286)
Completed 200 OK in 302ms (Views: 164.8ms | ActiveRecord: 50.4ms | Allocations: 143514)


Started GET "/rails/active_storage/representations/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDUT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--10fd4699f19e65e41e57dc0c4d8052c5b6224e13/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdCem9MWm05eWJXRjBTU0lJY0c1bkJqb0dSVlE2RkhKbGMybDZaVjkwYjE5c2FXMXBkRnNIYVRkcE53PT0iLCJleHAiOm51bGwsInB1ciI6InZhcmlhdGlvbiJ9fQ==--10cd12dda4766ef711b13e56db032a47fae0911d/Admin%20Part%207.png" for ::1 at 2022-07-15 04:00:43 -0400
Processing by ActiveStorage::Representations::RedirectController#show as PNG
  Parameters: {"signed_blob_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDUT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--10fd4699f19e65e41e57dc0c4d8052c5b6224e13", "variation_key"=>"[FILTERED]", "filename"=>"Admin Part 7"}
  [1m[36mActiveStorage::Blob Load (0.7ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mActiveStorage::VariantRecord Load (0.8ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
Started GET "/rails/active_storage/representations/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--758538ea0401eddfb27db21a61b40545e294fba7/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdCem9MWm05eWJXRjBTU0lJYW5CbkJqb0dSVlE2RkhKbGMybDZaVjkwYjE5c2FXMXBkRnNIYVRkcE53PT0iLCJleHAiOm51bGwsInB1ciI6InZhcmlhdGlvbiJ9fQ==--7c67a13b9fd72c703fa320aa1af6cdefe07ca623/default_profile.jpg" for ::1 at 2022-07-15 04:00:43 -0400
  [1m[36mActiveStorage::Attachment Load (1.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
[36m  Disk Storage (0.7ms) [0m[34mGenerated URL for file at key: f2uvf9cvgwkzqlsbq7y0jjjzqddj (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhaakoxZG1ZNVkzWm5kMnQ2Y1d4elluRTNlVEJxYW1wNmNXUmthZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVDJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SWtGa2JXbHVJRkJoY25RZ055NXdibWNpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjBGa2JXbHVKVEl3VUdGeWRDVXlNRGN1Y0c1bkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSU9hVzFoWjJVdmNHNW5CanNHVkRvUmMyVnlkbWxqWlY5dVlXMWxPZ3BzYjJOaGJBPT0iLCJleHAiOiIyMDIyLTA3LTE1VDA4OjA1OjQzLjk1NFoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--e7c6318fa24c09d8d32f7011ce6c67f8efefe098/Admin%20Part%207.png)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhaakoxZG1ZNVkzWm5kMnQ2Y1d4elluRTNlVEJxYW1wNmNXUmthZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVDJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SWtGa2JXbHVJRkJoY25RZ055NXdibWNpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjBGa2JXbHVKVEl3VUdGeWRDVXlNRGN1Y0c1bkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSU9hVzFoWjJVdmNHNW5CanNHVkRvUmMyVnlkbWxqWlY5dVlXMWxPZ3BzYjJOaGJBPT0iLCJleHAiOiIyMDIyLTA3LTE1VDA4OjA1OjQzLjk1NFoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--e7c6318fa24c09d8d32f7011ce6c67f8efefe098/Admin%20Part%207.png
Completed 302 Found in 24ms (ActiveRecord: 3.3ms | Allocations: 6419)


Processing by ActiveStorage::Representations::RedirectController#show as JPEG
  Parameters: {"signed_blob_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--758538ea0401eddfb27db21a61b40545e294fba7", "variation_key"=>"[FILTERED]", "filename"=>"default_profile"}
  [1m[36mActiveStorage::Blob Load (2.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::VariantRecord Load (1.1ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 1], ["variation_digest", "2LUGSpqeAxE2FTbZR5KExFsl26Y="], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (1.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (1.9ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[36m  Disk Storage (0.6ms) [0m[34mGenerated URL for file at key: 5tte9hfofzr43192lt8uzcg4pzxo (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhOWFIwWlRsb1ptOW1lbkkwTXpFNU1teDBPSFY2WTJjMGNIcDRid1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0wNy0xNVQwODowNTo0My45OTdaIiwicHVyIjoiYmxvYl9rZXkifX0=--a71be1658483273b3fcc7975a25ad7c06cdbc7cc/default_profile.jpg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhOWFIwWlRsb1ptOW1lbkkwTXpFNU1teDBPSFY2WTJjMGNIcDRid1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0wNy0xNVQwODowNTo0My45OTdaIiwicHVyIjoiYmxvYl9rZXkifX0=--a71be1658483273b3fcc7975a25ad7c06cdbc7cc/default_profile.jpg
Completed 302 Found in 25ms (ActiveRecord: 6.3ms | Allocations: 6033)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhaakoxZG1ZNVkzWm5kMnQ2Y1d4elluRTNlVEJxYW1wNmNXUmthZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVDJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SWtGa2JXbHVJRkJoY25RZ055NXdibWNpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjBGa2JXbHVKVEl3VUdGeWRDVXlNRGN1Y0c1bkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSU9hVzFoWjJVdmNHNW5CanNHVkRvUmMyVnlkbWxqWlY5dVlXMWxPZ3BzYjJOaGJBPT0iLCJleHAiOiIyMDIyLTA3LTE1VDA4OjA1OjQzLjk1NFoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--e7c6318fa24c09d8d32f7011ce6c67f8efefe098/Admin%20Part%207.png" for ::1 at 2022-07-15 04:00:44 -0400
Processing by ActiveStorage::DiskController#show as PNG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"Admin Part 7"}
Completed 200 OK in 3ms (ActiveRecord: 0.0ms | Allocations: 368)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhOWFIwWlRsb1ptOW1lbkkwTXpFNU1teDBPSFY2WTJjMGNIcDRid1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0wNy0xNVQwODowNTo0My45OTdaIiwicHVyIjoiYmxvYl9rZXkifX0=--a71be1658483273b3fcc7975a25ad7c06cdbc7cc/default_profile.jpg" for ::1 at 2022-07-15 04:00:44 -0400
Started GET "/cable" for ::1 at 2022-07-15 04:00:44 -0400
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"default_profile"}
Completed 200 OK in 3ms (ActiveRecord: 0.0ms | Allocations: 224)


Started GET "/cable/" [WebSocket] for ::1 at 2022-07-15 04:00:44 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:12:in `find_verified_user'
Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMg)
Started GET "/cable" for ::1 at 2022-07-15 04:00:44 -0400
AppearanceChannel is transmitting the subscription confirmation
AppearanceChannel is streaming from appearance_channel
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-15 04:00:44 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:12:in `find_verified_user'
Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMg)
AppearanceChannel#online
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from user_status
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
Turbo::StreamsChannel is transmitting the subscription confirmation
  [1m[36mActiveStorage::Attachment Load (1.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
Turbo::StreamsChannel is streaming from users
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 62)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from Z2lkOi8vdHVyYm9jaGF0L1Jvb20vMQ
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from rooms
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 40)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Started POST "/rooms/1/messages" for ::1 at 2022-07-15 04:00:46 -0400
  
SyntaxError (/code/youtube/rails/turbochat/episode_26_demo/app/controllers/messages_controller.rb:66: Invalid break):
  
app/controllers/messages_controller.rb:66: Invalid break
app/controllers/messages_controller.rb:66: Invalid break
app/controllers/messages_controller.rb:66: Invalid break
app/controllers/messages_controller.rb
Unsubscribing from channel: {"channel":"Turbo::StreamsChannel","signed_stream_name":"InVzZXJzIg==--0a4cafd9f04706169a05ab0bb14238d095c3f419aa3413d065af924eb0c2e24b"}
Turbo::StreamsChannel stopped streaming from users
Unsubscribing from channel: {"channel":"Turbo::StreamsChannel","signed_stream_name":"InVzZXJfc3RhdHVzIg==--3d39e51a0c64c114de4d9c6964ee8eb28ea6d1afe338b0ba374797b0a277baae"}
Turbo::StreamsChannel stopped streaming from user_status
Unsubscribing from channel: {"channel":"Turbo::StreamsChannel","signed_stream_name":"InJvb21zIg==--4edce82e4ae554228aef8568cd4e928d961abc8f42bad80d979cdf3010454855"}
Turbo::StreamsChannel stopped streaming from rooms
Unsubscribing from channel: {"channel":"Turbo::StreamsChannel","signed_stream_name":"IloybGtPaTh2ZEhWeVltOWphR0YwTDFKdmIyMHZNUSI=--d70555bcddde3f84b4e373d462c31385aaed447e5d8d83718e1b609edfb59bf7"}
Turbo::StreamsChannel stopped streaming from Z2lkOi8vdHVyYm9jaGF0L1Jvb20vMQ
AppearanceChannel#offline
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "status" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["status", 0], ["updated_at", "2022-07-15 08:00:56.789419"], ["id", 2]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 42)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_2\"></div>\n</template></turbo-stream>"
Started GET "/rooms/1" for ::1 at 2022-07-15 04:01:00 -0400
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `set_current_user'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/rooms_controller.rb:70:in `set_status'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:70:in `set_status'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "status" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2022-07-15 08:01:00.371781"], ["status", 2], ["id", 2]]
  â†³ app/controllers/rooms_controller.rb:70:in `set_status'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/rooms_controller.rb:70:in `set_status'
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 97)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
  [1m[36mRoom Load (0.5ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:16:in `show'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/rooms_controller.rb:17:in `show'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:17:in `show'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/rooms_controller.rb:17:in `show'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 69)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
  [1m[36mMessage Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."room_id" = $1[0m  [["room_id", 1]]
  â†³ app/controllers/rooms_controller.rb:26:in `show'
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2 OFFSET $3[0m  [["room_id", 1], ["LIMIT", 10], ["OFFSET", 0]]
  â†³ app/controllers/rooms_controller.rb:27:in `show'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/rooms_controller.rb:27:in `show'
  [1m[36mNotification Update All (0.6ms)[0m  [1m[33mUPDATE "notifications" SET "read_at" = $1 WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/1"},"_aj_symbol_keys":["room"]}') AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["read_at", "2022-07-15 08:01:00.444591"], ["recipient_type", "User"], ["recipient_id", 2]]
  â†³ app/controllers/rooms_controller.rb:75:in `set_notifications_to_read'
  Rendering layout layouts/application.html.erb
  Rendering rooms/index.html.erb within layouts/application
  Rendered shared/_message_error.html.erb (Duration: 0.0ms | Allocations: 22)
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.4ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 59)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1[0m  [["id", 2]]
  â†³ app/views/users/_users.html.erb:1
  [1m[36mRoom Load (0.4ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 ORDER BY "rooms"."id" ASC LIMIT $2[0m  [["name", "private_1_2"], ["LIMIT", 1]]
  â†³ app/views/users/_users.html.erb:4
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 3], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mCACHE Message Load (0.0ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 3], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mParticipant Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "participants" WHERE "participants"."room_id" = $1 AND "participants"."user_id" = $2 LIMIT $3[0m  [["room_id", 1], ["user_id", 1], ["LIMIT", 1]]
  â†³ app/models/room.rb:25:in `participant?'
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (8.6ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 1], ["variation_digest", "2LUGSpqeAxE2FTbZR5KExFsl26Y="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 53)
  Rendered users/_last_message.html.erb (Duration: 0.0ms | Allocations: 16)
  Rendered users/_user.html.erb (Duration: 113.5ms | Allocations: 7111)
  Rendered users/_users.html.erb (Duration: 171.8ms | Allocations: 10211)
  Rendered layouts/_new_room_form.html.erb (Duration: 0.1ms | Allocations: 28)
  Rendered rooms/_search_results.html.erb (Duration: 0.0ms | Allocations: 16)
  Rendered rooms/_search_form.html.erb (Duration: 7.5ms | Allocations: 836)
  [1m[36mRoom Load (0.8ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 ORDER BY last_message_at DESC[0m  [["user_id", 2]]
  â†³ app/views/rooms/_rooms.html.erb:1
  [1m[36mMessage Load (8.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 1], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mNotification Count (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "notifications" WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/1"},"_aj_symbol_keys":["room"]}') AND "notifications"."type" = $1 AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["type", "MessageNotification"], ["recipient_type", "User"], ["recipient_id", 2]]
  â†³ app/views/rooms/_notifications.html.erb:4
  Rendered rooms/_notifications.html.erb (Duration: 4.0ms | Allocations: 1348)
  [1m[36mRoom Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 AND "rooms"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:39:in `has_joined_room'
  Rendered rooms/_joinable_link.html.erb (Duration: 3.8ms | Allocations: 984)
  Rendered rooms/_last_message.html.erb (Duration: 1.1ms | Allocations: 182)
  Rendered rooms/_room.html.erb (Duration: 9.8ms | Allocations: 2886)
  Rendered rooms/_rooms.html.erb (Duration: 61.2ms | Allocations: 5451)
  Rendered messages/_pager.html.erb (Duration: 0.7ms | Allocations: 980)
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.4ms | Allocations: 1094)
  [1m[36mActiveStorage::Attachment Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 221], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 3.1ms | Allocations: 1779)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.2ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 222], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.7ms | Allocations: 1042)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 2.4ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 223], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.1ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.2ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 224], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 1.9ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 2.9ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 225], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 3.0ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.7ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 226], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 1.9ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.4ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 227], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.0ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.4ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 228], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 3.4ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.6ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 229], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.3ms | Allocations: 1112)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.2ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 230], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.5ms | Allocations: 1040)
  Rendered collection of messages/_message.html.erb [10 times] (Duration: 77.1ms | Allocations: 37437)
  Rendered layouts/_new_message_form.html.erb (Duration: 1.7ms | Allocations: 464)
  Rendered rooms/index.html.erb within layouts/application (Duration: 397.1ms | Allocations: 71235)
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 16)
  Rendered layout layouts/application.html.erb (Duration: 420.6ms | Allocations: 104282)
Completed 200 OK in 518ms (Views: 385.2ms | ActiveRecord: 59.5ms | Allocations: 143534)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhaakoxZG1ZNVkzWm5kMnQ2Y1d4elluRTNlVEJxYW1wNmNXUmthZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVDJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SWtGa2JXbHVJRkJoY25RZ055NXdibWNpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjBGa2JXbHVKVEl3VUdGeWRDVXlNRGN1Y0c1bkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSU9hVzFoWjJVdmNHNW5CanNHVkRvUmMyVnlkbWxqWlY5dVlXMWxPZ3BzYjJOaGJBPT0iLCJleHAiOiIyMDIyLTA3LTE1VDA4OjA1OjQzLjk1NFoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--e7c6318fa24c09d8d32f7011ce6c67f8efefe098/Admin%20Part%207.png" for ::1 at 2022-07-15 04:01:01 -0400
Processing by ActiveStorage::DiskController#show as PNG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"Admin Part 7"}
Completed 304 Not Modified in 4ms (ActiveRecord: 0.0ms | Allocations: 586)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhOWFIwWlRsb1ptOW1lbkkwTXpFNU1teDBPSFY2WTJjMGNIcDRid1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0wNy0xNVQwODowNTo0My45OTdaIiwicHVyIjoiYmxvYl9rZXkifX0=--a71be1658483273b3fcc7975a25ad7c06cdbc7cc/default_profile.jpg" for ::1 at 2022-07-15 04:01:01 -0400
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"default_profile"}
Completed 304 Not Modified in 3ms (ActiveRecord: 0.0ms | Allocations: 285)


Started GET "/cable" for ::1 at 2022-07-15 04:01:01 -0400
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-15 04:01:01 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:12:in `find_verified_user'
Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMg)
Started GET "/cable" for ::1 at 2022-07-15 04:01:01 -0400
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-15 04:01:01 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:12:in `find_verified_user'
Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMg)
AppearanceChannel is transmitting the subscription confirmation
AppearanceChannel is streaming from appearance_channel
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from user_status
AppearanceChannel#online
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
Turbo::StreamsChannel is transmitting the subscription confirmation
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mBEGIN[0m
Turbo::StreamsChannel is streaming from users
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mActiveStorage::Attachment Load (1.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
Turbo::StreamsChannel is transmitting the subscription confirmation
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.6ms | Allocations: 62)
Turbo::StreamsChannel is streaming from Z2lkOi8vdHVyYm9jaGF0L1Jvb20vMQ
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from rooms
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
AppearanceChannel#online
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (3.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mUser Exists? (2.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
  [1m[36mUser Exists? (1.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
Started POST "/rooms/1/messages" for ::1 at 2022-07-15 04:01:05 -0400
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 58)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Processing by MessagesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "message"=>{"attachments"=>[""], "body"=>"/dnd"}, "commit"=>"Send", "room_id"=>"1"}
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `set_current_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:65:in `status_manager'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:65:in `status_manager'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "status" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2022-07-15 08:01:05.277537"], ["status", 3], ["id", 2]]
  â†³ app/controllers/messages_controller.rb:65:in `status_manager'
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:65:in `status_manager'
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 69)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-danger\" id=\"user_2\"></div>\n</template></turbo-stream>"
No template found for MessagesController#create, rendering head :no_content
Completed 204 No Content in 19ms (ActiveRecord: 3.9ms | Allocations: 6601)


Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-danger\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
Started POST "/rooms/1/messages" for ::1 at 2022-07-15 04:01:07 -0400
Processing by MessagesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "message"=>{"attachments"=>[""], "body"=>"/away"}, "commit"=>"Send", "room_id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `set_current_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:68:in `status_manager'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:68:in `status_manager'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "status" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2022-07-15 08:01:07.785250"], ["status", 1], ["id", 2]]
  â†³ app/controllers/messages_controller.rb:68:in `status_manager'
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:68:in `status_manager'
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 53)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-warning\" id=\"user_2\"></div>\n</template></turbo-stream>"
No template found for MessagesController#create, rendering head :no_content
Completed 204 No Content in 15ms (ActiveRecord: 3.3ms | Allocations: 5815)


Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-warning\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 41)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
AppearanceChannel#online
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Started POST "/rooms/1/messages" for ::1 at 2022-07-15 04:01:13 -0400
Processing by MessagesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "message"=>{"attachments"=>[""], "body"=>"/offline"}, "commit"=>"Send", "room_id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `set_current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:70:in `status_manager'
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:70:in `status_manager'
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "status" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2022-07-15 08:01:13.940925"], ["status", 0], ["id", 2]]
  â†³ app/controllers/messages_controller.rb:70:in `status_manager'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:70:in `status_manager'
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 53)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_2\"></div>\n</template></turbo-stream>"
No template found for MessagesController#create, rendering head :no_content
Completed 204 No Content in 29ms (ActiveRecord: 3.7ms | Allocations: 5834)


Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 41)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Exists? (3.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Started POST "/rooms/1/messages" for ::1 at 2022-07-15 04:01:17 -0400
Processing by MessagesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "message"=>{"attachments"=>[""], "body"=>"/dnd"}, "commit"=>"Send", "room_id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `set_current_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:65:in `status_manager'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:65:in `status_manager'
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "status" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2022-07-15 08:01:17.209658"], ["status", 3], ["id", 2]]
  â†³ app/controllers/messages_controller.rb:65:in `status_manager'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:65:in `status_manager'
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 53)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-danger\" id=\"user_2\"></div>\n</template></turbo-stream>"
No template found for MessagesController#create, rendering head :no_content
Completed 204 No Content in 14ms (ActiveRecord: 3.3ms | Allocations: 5820)


Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-danger\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
Started POST "/rooms/1/messages" for ::1 at 2022-07-15 04:01:19 -0400
Processing by MessagesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "message"=>{"attachments"=>[""], "body"=>"/online"}, "commit"=>"Send", "room_id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `set_current_user'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:72:in `status_manager'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:72:in `status_manager'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "status" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2022-07-15 08:01:19.099850"], ["status", 2], ["id", 2]]
  â†³ app/controllers/messages_controller.rb:72:in `status_manager'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:72:in `status_manager'
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 53)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
No template found for MessagesController#create, rendering head :no_content
Completed 204 No Content in 17ms (ActiveRecord: 3.8ms | Allocations: 5801)


Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 41)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mBEGIN[0m
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Started POST "/rooms/1/messages" for ::1 at 2022-07-15 04:01:20 -0400
Processing by MessagesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "message"=>{"attachments"=>[""], "body"=>"/dnd"}, "commit"=>"Send", "room_id"=>"1"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `set_current_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:65:in `status_manager'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:65:in `status_manager'
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "status" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2022-07-15 08:01:20.211142"], ["status", 3], ["id", 2]]
  â†³ app/controllers/messages_controller.rb:65:in `status_manager'
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:65:in `status_manager'
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 53)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-danger\" id=\"user_2\"></div>\n</template></turbo-stream>"
No template found for MessagesController#create, rendering head :no_content
Completed 204 No Content in 16ms (ActiveRecord: 3.6ms | Allocations: 5841)


Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-danger\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
Started POST "/rooms/1/messages" for ::1 at 2022-07-15 04:01:21 -0400
Processing by MessagesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "message"=>{"attachments"=>[""], "body"=>"/away"}, "commit"=>"Send", "room_id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `set_current_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:68:in `status_manager'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:68:in `status_manager'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "status" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2022-07-15 08:01:21.320195"], ["status", 1], ["id", 2]]
  â†³ app/controllers/messages_controller.rb:68:in `status_manager'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:68:in `status_manager'
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.7ms | Allocations: 53)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-warning\" id=\"user_2\"></div>\n</template></turbo-stream>"
No template found for MessagesController#create, rendering head :no_content
Completed 204 No Content in 17ms (ActiveRecord: 3.6ms | Allocations: 5787)


Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-warning\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 41)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Started GET "/rooms/1" for ::1 at 2022-07-15 04:02:46 -0400
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `set_current_user'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/rooms_controller.rb:70:in `set_status'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:70:in `set_status'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "status" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2022-07-15 08:02:46.891940"], ["status", 2], ["id", 2]]
  â†³ app/controllers/rooms_controller.rb:70:in `set_status'
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/rooms_controller.rb:70:in `set_status'
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 97)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:16:in `show'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/rooms_controller.rb:17:in `show'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:17:in `show'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/rooms_controller.rb:17:in `show'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 69)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
  [1m[36mMessage Count (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."room_id" = $1[0m  [["room_id", 1]]
  â†³ app/controllers/rooms_controller.rb:26:in `show'
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2 OFFSET $3[0m  [["room_id", 1], ["LIMIT", 10], ["OFFSET", 0]]
  â†³ app/controllers/rooms_controller.rb:27:in `show'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/rooms_controller.rb:27:in `show'
  [1m[36mNotification Update All (0.6ms)[0m  [1m[33mUPDATE "notifications" SET "read_at" = $1 WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/1"},"_aj_symbol_keys":["room"]}') AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["read_at", "2022-07-15 08:02:46.976222"], ["recipient_type", "User"], ["recipient_id", 2]]
  â†³ app/controllers/rooms_controller.rb:75:in `set_notifications_to_read'
  Rendering layout layouts/application.html.erb
  Rendering rooms/index.html.erb within layouts/application
  Rendered shared/_message_error.html.erb (Duration: 0.0ms | Allocations: 22)
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.5ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 59)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1[0m  [["id", 2]]
  â†³ app/views/users/_users.html.erb:1
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 ORDER BY "rooms"."id" ASC LIMIT $2[0m  [["name", "private_1_2"], ["LIMIT", 1]]
  â†³ app/views/users/_users.html.erb:4
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 3], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mCACHE Message Load (0.0ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 3], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mParticipant Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "participants" WHERE "participants"."room_id" = $1 AND "participants"."user_id" = $2 LIMIT $3[0m  [["room_id", 1], ["user_id", 1], ["LIMIT", 1]]
  â†³ app/models/room.rb:25:in `participant?'
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.3ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 1], ["variation_digest", "2LUGSpqeAxE2FTbZR5KExFsl26Y="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 53)
  Rendered users/_last_message.html.erb (Duration: 0.0ms | Allocations: 16)
  Rendered users/_user.html.erb (Duration: 18.2ms | Allocations: 7111)
  Rendered users/_users.html.erb (Duration: 26.0ms | Allocations: 10203)
  Rendered layouts/_new_room_form.html.erb (Duration: 0.5ms | Allocations: 28)
  Rendered rooms/_search_results.html.erb (Duration: 0.0ms | Allocations: 16)
  Rendered rooms/_search_form.html.erb (Duration: 1.0ms | Allocations: 836)
  [1m[36mRoom Load (0.6ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 ORDER BY last_message_at DESC[0m  [["user_id", 2]]
  â†³ app/views/rooms/_rooms.html.erb:1
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 1], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mNotification Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "notifications" WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/1"},"_aj_symbol_keys":["room"]}') AND "notifications"."type" = $1 AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["type", "MessageNotification"], ["recipient_type", "User"], ["recipient_id", 2]]
  â†³ app/views/rooms/_notifications.html.erb:4
  Rendered rooms/_notifications.html.erb (Duration: 7.1ms | Allocations: 1348)
  [1m[36mRoom Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 AND "rooms"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:39:in `has_joined_room'
  Rendered rooms/_joinable_link.html.erb (Duration: 3.3ms | Allocations: 984)
  Rendered rooms/_last_message.html.erb (Duration: 0.5ms | Allocations: 182)
  Rendered rooms/_room.html.erb (Duration: 12.1ms | Allocations: 2886)
  Rendered rooms/_rooms.html.erb (Duration: 17.7ms | Allocations: 5451)
  Rendered messages/_pager.html.erb (Duration: 0.7ms | Allocations: 986)
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 2.3ms | Allocations: 1094)
  [1m[36mActiveStorage::Attachment Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 221], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 4.1ms | Allocations: 1779)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 2.3ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 222], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.4ms | Allocations: 1042)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.3ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 223], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 3.6ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 3.5ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 224], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.7ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.6ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 225], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.2ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.8ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 226], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.8ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.6ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 227], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 1.9ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.2ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 228], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.2ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 2.1ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 229], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.7ms | Allocations: 1112)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.6ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 230], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.1ms | Allocations: 1040)
  Rendered collection of messages/_message.html.erb [10 times] (Duration: 83.3ms | Allocations: 37409)
  Rendered layouts/_new_message_form.html.erb (Duration: 0.9ms | Allocations: 464)
  Rendered rooms/index.html.erb within layouts/application (Duration: 172.3ms | Allocations: 71200)
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 16)
  Rendered layout layouts/application.html.erb (Duration: 195.4ms | Allocations: 104246)
Completed 200 OK in 309ms (Views: 176.7ms | ActiveRecord: 46.2ms | Allocations: 143271)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhaakoxZG1ZNVkzWm5kMnQ2Y1d4elluRTNlVEJxYW1wNmNXUmthZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVDJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SWtGa2JXbHVJRkJoY25RZ055NXdibWNpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjBGa2JXbHVKVEl3VUdGeWRDVXlNRGN1Y0c1bkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSU9hVzFoWjJVdmNHNW5CanNHVkRvUmMyVnlkbWxqWlY5dVlXMWxPZ3BzYjJOaGJBPT0iLCJleHAiOiIyMDIyLTA3LTE1VDA4OjA1OjQzLjk1NFoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--e7c6318fa24c09d8d32f7011ce6c67f8efefe098/Admin%20Part%207.png" for ::1 at 2022-07-15 04:02:47 -0400
Processing by ActiveStorage::DiskController#show as PNG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"Admin Part 7"}
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhOWFIwWlRsb1ptOW1lbkkwTXpFNU1teDBPSFY2WTJjMGNIcDRid1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0wNy0xNVQwODowNTo0My45OTdaIiwicHVyIjoiYmxvYl9rZXkifX0=--a71be1658483273b3fcc7975a25ad7c06cdbc7cc/default_profile.jpg" for ::1 at 2022-07-15 04:02:47 -0400
Completed 304 Not Modified in 7ms (ActiveRecord: 0.0ms | Allocations: 999)


Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"default_profile"}
Completed 304 Not Modified in 2ms (ActiveRecord: 0.0ms | Allocations: 229)


Started GET "/cable" for ::1 at 2022-07-15 04:02:47 -0400
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-15 04:02:47 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:12:in `find_verified_user'
Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMg)
AppearanceChannel is transmitting the subscription confirmation
AppearanceChannel is streaming from appearance_channel
Started GET "/cable" for ::1 at 2022-07-15 04:02:47 -0400
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-15 04:02:47 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:12:in `find_verified_user'
Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMg)
AppearanceChannel#online
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.5ms | Allocations: 62)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from user_status
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from users
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from rooms
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from Z2lkOi8vdHVyYm9jaGF0L1Jvb20vMQ
AppearanceChannel#online
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 40)
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mBEGIN[0m
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 40)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Started POST "/rooms/1/messages" for ::1 at 2022-07-15 04:02:48 -0400
  
TypeError (wrong argument type Class (expected Module)):
  
app/controllers/messages_controller.rb:3:in `include'
app/controllers/messages_controller.rb:3:in `<class:MessagesController>'
app/controllers/messages_controller.rb:1:in `<main>'
Unsubscribing from channel: {"channel":"Turbo::StreamsChannel","signed_stream_name":"InVzZXJzIg==--0a4cafd9f04706169a05ab0bb14238d095c3f419aa3413d065af924eb0c2e24b"}
Turbo::StreamsChannel stopped streaming from users
Unsubscribing from channel: {"channel":"Turbo::StreamsChannel","signed_stream_name":"InVzZXJfc3RhdHVzIg==--3d39e51a0c64c114de4d9c6964ee8eb28ea6d1afe338b0ba374797b0a277baae"}
Turbo::StreamsChannel stopped streaming from user_status
Unsubscribing from channel: {"channel":"Turbo::StreamsChannel","signed_stream_name":"InJvb21zIg==--4edce82e4ae554228aef8568cd4e928d961abc8f42bad80d979cdf3010454855"}
Turbo::StreamsChannel stopped streaming from rooms
Unsubscribing from channel: {"channel":"Turbo::StreamsChannel","signed_stream_name":"IloybGtPaTh2ZEhWeVltOWphR0YwTDFKdmIyMHZNUSI=--d70555bcddde3f84b4e373d462c31385aaed447e5d8d83718e1b609edfb59bf7"}
Turbo::StreamsChannel stopped streaming from Z2lkOi8vdHVyYm9jaGF0L1Jvb20vMQ
AppearanceChannel#offline
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "status" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["status", 0], ["updated_at", "2022-07-15 08:02:51.243299"], ["id", 2]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 47)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_2\"></div>\n</template></turbo-stream>"
AppearanceChannel#offline
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_2\"></div>\n</template></turbo-stream>"
AppearanceChannel#offline
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_2\"></div>\n</template></turbo-stream>"
AppearanceChannel#offline
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_2\"></div>\n</template></turbo-stream>"
Started GET "/rooms/1" for ::1 at 2022-07-15 04:03:06 -0400
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `set_current_user'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/rooms_controller.rb:70:in `set_status'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:70:in `set_status'
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "status" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2022-07-15 08:03:06.370412"], ["status", 2], ["id", 2]]
  â†³ app/controllers/rooms_controller.rb:70:in `set_status'
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/rooms_controller.rb:70:in `set_status'
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 97)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
  [1m[36mRoom Load (0.5ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:16:in `show'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/rooms_controller.rb:17:in `show'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:17:in `show'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/rooms_controller.rb:17:in `show'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 69)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
  [1m[36mMessage Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."room_id" = $1[0m  [["room_id", 1]]
  â†³ app/controllers/rooms_controller.rb:26:in `show'
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2 OFFSET $3[0m  [["room_id", 1], ["LIMIT", 10], ["OFFSET", 0]]
  â†³ app/controllers/rooms_controller.rb:27:in `show'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/rooms_controller.rb:27:in `show'
  [1m[36mNotification Update All (0.8ms)[0m  [1m[33mUPDATE "notifications" SET "read_at" = $1 WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/1"},"_aj_symbol_keys":["room"]}') AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["read_at", "2022-07-15 08:03:06.470742"], ["recipient_type", "User"], ["recipient_id", 2]]
  â†³ app/controllers/rooms_controller.rb:75:in `set_notifications_to_read'
  Rendering layout layouts/application.html.erb
  Rendering rooms/index.html.erb within layouts/application
  Rendered shared/_message_error.html.erb (Duration: 0.0ms | Allocations: 22)
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.8ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 59)
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1[0m  [["id", 2]]
  â†³ app/views/users/_users.html.erb:1
  [1m[36mRoom Load (0.4ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 ORDER BY "rooms"."id" ASC LIMIT $2[0m  [["name", "private_1_2"], ["LIMIT", 1]]
  â†³ app/views/users/_users.html.erb:4
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 3], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mCACHE Message Load (0.0ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 3], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mParticipant Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "participants" WHERE "participants"."room_id" = $1 AND "participants"."user_id" = $2 LIMIT $3[0m  [["room_id", 1], ["user_id", 1], ["LIMIT", 1]]
  â†³ app/models/room.rb:25:in `participant?'
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.5ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 1], ["variation_digest", "2LUGSpqeAxE2FTbZR5KExFsl26Y="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 53)
  Rendered users/_last_message.html.erb (Duration: 0.0ms | Allocations: 16)
  Rendered users/_user.html.erb (Duration: 20.7ms | Allocations: 7113)
  Rendered users/_users.html.erb (Duration: 30.3ms | Allocations: 10205)
  Rendered layouts/_new_room_form.html.erb (Duration: 0.1ms | Allocations: 28)
  Rendered rooms/_search_results.html.erb (Duration: 0.0ms | Allocations: 16)
  Rendered rooms/_search_form.html.erb (Duration: 1.4ms | Allocations: 836)
  [1m[36mRoom Load (0.9ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 ORDER BY last_message_at DESC[0m  [["user_id", 2]]
  â†³ app/views/rooms/_rooms.html.erb:1
  [1m[36mMessage Load (0.6ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 1], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mNotification Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "notifications" WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/1"},"_aj_symbol_keys":["room"]}') AND "notifications"."type" = $1 AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["type", "MessageNotification"], ["recipient_type", "User"], ["recipient_id", 2]]
  â†³ app/views/rooms/_notifications.html.erb:4
  Rendered rooms/_notifications.html.erb (Duration: 4.6ms | Allocations: 1348)
  [1m[36mRoom Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 AND "rooms"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:39:in `has_joined_room'
  Rendered rooms/_joinable_link.html.erb (Duration: 3.2ms | Allocations: 984)
  Rendered rooms/_last_message.html.erb (Duration: 0.5ms | Allocations: 182)
  Rendered rooms/_room.html.erb (Duration: 9.9ms | Allocations: 2886)
  Rendered rooms/_rooms.html.erb (Duration: 19.2ms | Allocations: 5451)
  Rendered messages/_pager.html.erb (Duration: 1.0ms | Allocations: 992)
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 2.0ms | Allocations: 1094)
  [1m[36mActiveStorage::Attachment Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 221], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 3.7ms | Allocations: 1780)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 3.4ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 222], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.9ms | Allocations: 1042)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 2.2ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 223], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 3.0ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 2.0ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 224], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.3ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.9ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 225], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.6ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 2.2ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 226], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.3ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 2.1ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 227], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 4.1ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.8ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 228], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 3.1ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 2.1ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 229], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.3ms | Allocations: 1112)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.2ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 230], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.5ms | Allocations: 1040)
  Rendered collection of messages/_message.html.erb [10 times] (Duration: 87.9ms | Allocations: 37410)
  Rendered layouts/_new_message_form.html.erb (Duration: 1.2ms | Allocations: 464)
  Rendered rooms/index.html.erb within layouts/application (Duration: 214.6ms | Allocations: 71185)
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 16)
  Rendered layout layouts/application.html.erb (Duration: 248.5ms | Allocations: 104232)
Completed 200 OK in 381ms (Views: 227.7ms | ActiveRecord: 54.1ms | Allocations: 143160)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhaakoxZG1ZNVkzWm5kMnQ2Y1d4elluRTNlVEJxYW1wNmNXUmthZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVDJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SWtGa2JXbHVJRkJoY25RZ055NXdibWNpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjBGa2JXbHVKVEl3VUdGeWRDVXlNRGN1Y0c1bkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSU9hVzFoWjJVdmNHNW5CanNHVkRvUmMyVnlkbWxqWlY5dVlXMWxPZ3BzYjJOaGJBPT0iLCJleHAiOiIyMDIyLTA3LTE1VDA4OjA1OjQzLjk1NFoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--e7c6318fa24c09d8d32f7011ce6c67f8efefe098/Admin%20Part%207.png" for ::1 at 2022-07-15 04:03:06 -0400
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhOWFIwWlRsb1ptOW1lbkkwTXpFNU1teDBPSFY2WTJjMGNIcDRid1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0wNy0xNVQwODowNTo0My45OTdaIiwicHVyIjoiYmxvYl9rZXkifX0=--a71be1658483273b3fcc7975a25ad7c06cdbc7cc/default_profile.jpg" for ::1 at 2022-07-15 04:03:06 -0400
Processing by ActiveStorage::DiskController#show as PNG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"Admin Part 7"}
Completed 304 Not Modified in 3ms (ActiveRecord: 0.0ms | Allocations: 519)


Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"default_profile"}
Completed 304 Not Modified in 1ms (ActiveRecord: 0.0ms | Allocations: 214)


Started GET "/cable" for ::1 at 2022-07-15 04:03:07 -0400
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-15 04:03:07 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:12:in `find_verified_user'
Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMg)
AppearanceChannel is transmitting the subscription confirmation
AppearanceChannel is streaming from appearance_channel
AppearanceChannel#online
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
Started GET "/cable" for ::1 at 2022-07-15 04:03:07 -0400
  [1m[36mUser Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 74)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-15 04:03:07 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:12:in `find_verified_user'
Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMg)
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from user_status
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from users
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from rooms
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from Z2lkOi8vdHVyYm9jaGF0L1Jvb20vMQ
AppearanceChannel#online
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 42)
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 40)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Started POST "/rooms/1/messages" for ::1 at 2022-07-15 04:03:09 -0400
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Processing by MessagesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "message"=>{"attachments"=>[""], "body"=>"/dnd"}, "commit"=>"Send", "room_id"=>"1"}
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `set_current_user'
Completed 500 Internal Server Error in 17ms (ActiveRecord: 0.3ms | Allocations: 5652)


  
NoMethodError (undefined method `parse_slash_commands' for #<MessagesController:0x00000000115170>

    should_create_message = parse_slash_commands(@message)
                            ^^^^^^^^^^^^^^^^^^^^):
  
app/controllers/messages_controller.rb:14:in `create'
Unsubscribing from channel: {"channel":"Turbo::StreamsChannel","signed_stream_name":"InVzZXJzIg==--0a4cafd9f04706169a05ab0bb14238d095c3f419aa3413d065af924eb0c2e24b"}
Turbo::StreamsChannel stopped streaming from users
Unsubscribing from channel: {"channel":"Turbo::StreamsChannel","signed_stream_name":"InVzZXJfc3RhdHVzIg==--3d39e51a0c64c114de4d9c6964ee8eb28ea6d1afe338b0ba374797b0a277baae"}
Turbo::StreamsChannel stopped streaming from user_status
Unsubscribing from channel: {"channel":"Turbo::StreamsChannel","signed_stream_name":"InJvb21zIg==--4edce82e4ae554228aef8568cd4e928d961abc8f42bad80d979cdf3010454855"}
Turbo::StreamsChannel stopped streaming from rooms
Unsubscribing from channel: {"channel":"Turbo::StreamsChannel","signed_stream_name":"IloybGtPaTh2ZEhWeVltOWphR0YwTDFKdmIyMHZNUSI=--d70555bcddde3f84b4e373d462c31385aaed447e5d8d83718e1b609edfb59bf7"}
Turbo::StreamsChannel stopped streaming from Z2lkOi8vdHVyYm9jaGF0L1Jvb20vMQ
AppearanceChannel#offline
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "status" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["status", 0], ["updated_at", "2022-07-15 08:03:41.467488"], ["id", 2]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 47)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_2\"></div>\n</template></turbo-stream>"
AppearanceChannel#offline
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_2\"></div>\n</template></turbo-stream>"
AppearanceChannel#offline
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_2\"></div>\n</template></turbo-stream>"
Started GET "/rooms/1" for ::1 at 2022-07-15 04:03:43 -0400
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `set_current_user'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/rooms_controller.rb:70:in `set_status'
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:70:in `set_status'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "status" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2022-07-15 08:03:43.364553"], ["status", 2], ["id", 2]]
  â†³ app/controllers/rooms_controller.rb:70:in `set_status'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/rooms_controller.rb:70:in `set_status'
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 97)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
  [1m[36mRoom Load (0.4ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:16:in `show'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/rooms_controller.rb:17:in `show'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:17:in `show'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/rooms_controller.rb:17:in `show'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 69)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
  [1m[36mMessage Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."room_id" = $1[0m  [["room_id", 1]]
  â†³ app/controllers/rooms_controller.rb:26:in `show'
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2 OFFSET $3[0m  [["room_id", 1], ["LIMIT", 10], ["OFFSET", 0]]
  â†³ app/controllers/rooms_controller.rb:27:in `show'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/rooms_controller.rb:27:in `show'
  [1m[36mNotification Update All (0.3ms)[0m  [1m[33mUPDATE "notifications" SET "read_at" = $1 WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/1"},"_aj_symbol_keys":["room"]}') AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["read_at", "2022-07-15 08:03:43.439374"], ["recipient_type", "User"], ["recipient_id", 2]]
  â†³ app/controllers/rooms_controller.rb:75:in `set_notifications_to_read'
  Rendering layout layouts/application.html.erb
  Rendering rooms/index.html.erb within layouts/application
  Rendered shared/_message_error.html.erb (Duration: 0.0ms | Allocations: 22)
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.3ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 59)
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1[0m  [["id", 2]]
  â†³ app/views/users/_users.html.erb:1
  [1m[36mRoom Load (0.6ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 ORDER BY "rooms"."id" ASC LIMIT $2[0m  [["name", "private_1_2"], ["LIMIT", 1]]
  â†³ app/views/users/_users.html.erb:4
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 3], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mCACHE Message Load (0.0ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 3], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mParticipant Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "participants" WHERE "participants"."room_id" = $1 AND "participants"."user_id" = $2 LIMIT $3[0m  [["room_id", 1], ["user_id", 1], ["LIMIT", 1]]
  â†³ app/models/room.rb:25:in `participant?'
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.4ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 1], ["variation_digest", "2LUGSpqeAxE2FTbZR5KExFsl26Y="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 53)
  Rendered users/_last_message.html.erb (Duration: 0.0ms | Allocations: 16)
  Rendered users/_user.html.erb (Duration: 16.1ms | Allocations: 7111)
  Rendered users/_users.html.erb (Duration: 24.7ms | Allocations: 10203)
  Rendered layouts/_new_room_form.html.erb (Duration: 0.1ms | Allocations: 28)
  Rendered rooms/_search_results.html.erb (Duration: 0.0ms | Allocations: 16)
  Rendered rooms/_search_form.html.erb (Duration: 0.9ms | Allocations: 836)
  [1m[36mRoom Load (0.7ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 ORDER BY last_message_at DESC[0m  [["user_id", 2]]
  â†³ app/views/rooms/_rooms.html.erb:1
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 1], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mNotification Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "notifications" WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/1"},"_aj_symbol_keys":["room"]}') AND "notifications"."type" = $1 AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["type", "MessageNotification"], ["recipient_type", "User"], ["recipient_id", 2]]
  â†³ app/views/rooms/_notifications.html.erb:4
  Rendered rooms/_notifications.html.erb (Duration: 3.7ms | Allocations: 1348)
  [1m[36mRoom Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 AND "rooms"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:39:in `has_joined_room'
  Rendered rooms/_joinable_link.html.erb (Duration: 2.5ms | Allocations: 984)
  Rendered rooms/_last_message.html.erb (Duration: 0.4ms | Allocations: 182)
  Rendered rooms/_room.html.erb (Duration: 7.6ms | Allocations: 2886)
  Rendered rooms/_rooms.html.erb (Duration: 14.1ms | Allocations: 5451)
  Rendered messages/_pager.html.erb (Duration: 0.7ms | Allocations: 998)
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.3ms | Allocations: 1094)
  [1m[36mActiveStorage::Attachment Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 221], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 3.2ms | Allocations: 1779)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.4ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 222], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.1ms | Allocations: 1042)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.4ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 223], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 1.8ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.2ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 224], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.3ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.2ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 225], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.0ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.3ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 226], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.2ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.4ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 227], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.1ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.2ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 228], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.4ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.3ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 229], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.5ms | Allocations: 1112)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.3ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 230], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 3.0ms | Allocations: 1040)
  Rendered collection of messages/_message.html.erb [10 times] (Duration: 68.7ms | Allocations: 37394)
  Rendered layouts/_new_message_form.html.erb (Duration: 1.0ms | Allocations: 464)
  Rendered rooms/index.html.erb within layouts/application (Duration: 148.1ms | Allocations: 71187)
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 16)
  Rendered layout layouts/application.html.erb (Duration: 165.6ms | Allocations: 104233)
Completed 200 OK in 269ms (Views: 147.1ms | ActiveRecord: 44.0ms | Allocations: 143189)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhaakoxZG1ZNVkzWm5kMnQ2Y1d4elluRTNlVEJxYW1wNmNXUmthZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVDJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SWtGa2JXbHVJRkJoY25RZ055NXdibWNpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjBGa2JXbHVKVEl3VUdGeWRDVXlNRGN1Y0c1bkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSU9hVzFoWjJVdmNHNW5CanNHVkRvUmMyVnlkbWxqWlY5dVlXMWxPZ3BzYjJOaGJBPT0iLCJleHAiOiIyMDIyLTA3LTE1VDA4OjA1OjQzLjk1NFoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--e7c6318fa24c09d8d32f7011ce6c67f8efefe098/Admin%20Part%207.png" for ::1 at 2022-07-15 04:03:43 -0400
Processing by ActiveStorage::DiskController#show as PNG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"Admin Part 7"}
Completed 304 Not Modified in 4ms (ActiveRecord: 0.0ms | Allocations: 549)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhOWFIwWlRsb1ptOW1lbkkwTXpFNU1teDBPSFY2WTJjMGNIcDRid1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0wNy0xNVQwODowNTo0My45OTdaIiwicHVyIjoiYmxvYl9rZXkifX0=--a71be1658483273b3fcc7975a25ad7c06cdbc7cc/default_profile.jpg" for ::1 at 2022-07-15 04:03:43 -0400
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"default_profile"}
Completed 304 Not Modified in 1ms (ActiveRecord: 0.0ms | Allocations: 214)


Started GET "/cable" for ::1 at 2022-07-15 04:03:43 -0400
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-15 04:03:43 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:12:in `find_verified_user'
Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMg)
Started GET "/cable" for ::1 at 2022-07-15 04:03:43 -0400
AppearanceChannel is transmitting the subscription confirmation
AppearanceChannel is streaming from appearance_channel
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-15 04:03:43 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:12:in `find_verified_user'
Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMg)
AppearanceChannel#online
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
Turbo::StreamsChannel is transmitting the subscription confirmation
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
Turbo::StreamsChannel is streaming from user_status
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mActiveStorage::Attachment Load (0.9ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 62)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from users
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from Z2lkOi8vdHVyYm9jaGF0L1Jvb20vMQ
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from rooms
AppearanceChannel#online
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 40)
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 39)
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mBEGIN[0m
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Started POST "/rooms/1/messages" for ::1 at 2022-07-15 04:03:46 -0400
Processing by MessagesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "message"=>{"attachments"=>[""], "body"=>"/dnd"}, "commit"=>"Send", "room_id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `set_current_user'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/concerns/MessageParser.rb:44:in `status_manager'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/concerns/MessageParser.rb:44:in `status_manager'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "status" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2022-07-15 08:03:46.013124"], ["status", 3], ["id", 2]]
  â†³ app/controllers/concerns/MessageParser.rb:44:in `status_manager'
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/concerns/MessageParser.rb:44:in `status_manager'
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 73)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-danger\" id=\"user_2\"></div>\n</template></turbo-stream>"
No template found for MessagesController#create, rendering head :no_content
Completed 204 No Content in 17ms (ActiveRecord: 3.3ms | Allocations: 6453)


Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-danger\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
Started POST "/rooms/1/messages" for ::1 at 2022-07-15 04:03:49 -0400
Processing by MessagesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "message"=>{"attachments"=>[""], "body"=>"/away"}, "commit"=>"Send", "room_id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `set_current_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/concerns/MessageParser.rb:47:in `status_manager'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/concerns/MessageParser.rb:47:in `status_manager'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "status" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2022-07-15 08:03:49.018286"], ["status", 1], ["id", 2]]
  â†³ app/controllers/concerns/MessageParser.rb:47:in `status_manager'
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/concerns/MessageParser.rb:47:in `status_manager'
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 53)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-warning\" id=\"user_2\"></div>\n</template></turbo-stream>"
No template found for MessagesController#create, rendering head :no_content
Completed 204 No Content in 16ms (ActiveRecord: 3.7ms | Allocations: 5828)


Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-warning\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 41)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Started GET "/rooms/1" for ::1 at 2022-07-15 04:04:17 -0400
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `set_current_user'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/rooms_controller.rb:70:in `set_status'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:70:in `set_status'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "status" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2022-07-15 08:04:17.317345"], ["status", 2], ["id", 2]]
  â†³ app/controllers/rooms_controller.rb:70:in `set_status'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/rooms_controller.rb:70:in `set_status'
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 97)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
  [1m[36mRoom Load (0.5ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:16:in `show'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/rooms_controller.rb:17:in `show'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:17:in `show'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/rooms_controller.rb:17:in `show'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 69)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
  [1m[36mMessage Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."room_id" = $1[0m  [["room_id", 1]]
  â†³ app/controllers/rooms_controller.rb:26:in `show'
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2 OFFSET $3[0m  [["room_id", 1], ["LIMIT", 10], ["OFFSET", 0]]
  â†³ app/controllers/rooms_controller.rb:27:in `show'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/rooms_controller.rb:27:in `show'
  [1m[36mNotification Update All (0.4ms)[0m  [1m[33mUPDATE "notifications" SET "read_at" = $1 WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/1"},"_aj_symbol_keys":["room"]}') AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["read_at", "2022-07-15 08:04:17.397550"], ["recipient_type", "User"], ["recipient_id", 2]]
  â†³ app/controllers/rooms_controller.rb:75:in `set_notifications_to_read'
  Rendering layout layouts/application.html.erb
  Rendering rooms/index.html.erb within layouts/application
  Rendered shared/_message_error.html.erb (Duration: 0.1ms | Allocations: 22)
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.4ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 59)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1[0m  [["id", 2]]
  â†³ app/views/users/_users.html.erb:1
  [1m[36mRoom Load (0.4ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 ORDER BY "rooms"."id" ASC LIMIT $2[0m  [["name", "private_1_2"], ["LIMIT", 1]]
  â†³ app/views/users/_users.html.erb:4
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 3], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mCACHE Message Load (0.0ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 3], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mParticipant Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "participants" WHERE "participants"."room_id" = $1 AND "participants"."user_id" = $2 LIMIT $3[0m  [["room_id", 1], ["user_id", 1], ["LIMIT", 1]]
  â†³ app/models/room.rb:25:in `participant?'
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.5ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 1], ["variation_digest", "2LUGSpqeAxE2FTbZR5KExFsl26Y="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 53)
  Rendered users/_last_message.html.erb (Duration: 0.0ms | Allocations: 16)
  Rendered users/_user.html.erb (Duration: 35.1ms | Allocations: 7111)
  Rendered users/_users.html.erb (Duration: 41.9ms | Allocations: 10203)
  Rendered layouts/_new_room_form.html.erb (Duration: 0.1ms | Allocations: 28)
  Rendered rooms/_search_results.html.erb (Duration: 0.0ms | Allocations: 16)
  Rendered rooms/_search_form.html.erb (Duration: 1.0ms | Allocations: 836)
  [1m[36mRoom Load (0.8ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 ORDER BY last_message_at DESC[0m  [["user_id", 2]]
  â†³ app/views/rooms/_rooms.html.erb:1
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" DESC LIMIT $2[0m  [["room_id", 1], ["LIMIT", 1]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  â†³ app/models/room.rb:29:in `latest_message'
  [1m[36mNotification Count (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "notifications" WHERE (params @> '{"room":{"_aj_globalid":"gid://turbochat/Room/1"},"_aj_symbol_keys":["room"]}') AND "notifications"."type" = $1 AND "notifications"."recipient_type" = $2 AND "notifications"."recipient_id" = $3 AND "notifications"."read_at" IS NULL[0m  [["type", "MessageNotification"], ["recipient_type", "User"], ["recipient_id", 2]]
  â†³ app/views/rooms/_notifications.html.erb:4
  Rendered rooms/_notifications.html.erb (Duration: 4.3ms | Allocations: 1348)
  [1m[36mRoom Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "rooms" INNER JOIN "joinables" ON "rooms"."id" = "joinables"."room_id" WHERE "joinables"."user_id" = $1 AND "rooms"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:39:in `has_joined_room'
  Rendered rooms/_joinable_link.html.erb (Duration: 3.5ms | Allocations: 984)
  Rendered rooms/_last_message.html.erb (Duration: 0.9ms | Allocations: 175)
  Rendered rooms/_room.html.erb (Duration: 10.0ms | Allocations: 2879)
  Rendered rooms/_rooms.html.erb (Duration: 17.7ms | Allocations: 5444)
  Rendered messages/_pager.html.erb (Duration: 1.3ms | Allocations: 1004)
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 2.0ms | Allocations: 1094)
  [1m[36mActiveStorage::Attachment Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 221], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 3.1ms | Allocations: 1779)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.4ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 222], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.9ms | Allocations: 1042)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 2.1ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 223], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 3.5ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.3ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 224], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 3.7ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.5ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 225], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.3ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.3ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 226], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.3ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.4ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 227], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.0ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.8ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 228], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.0ms | Allocations: 1040)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.5ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 229], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.7ms | Allocations: 1112)
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1 AND "active_storage_variant_records"."variation_digest" = $2 LIMIT $3[0m  [["blob_id", 4], ["variation_digest", "ZmDfamq3DaAOqmqEnqBAWE4VJTE="], ["LIMIT", 1]]
  â†³ app/models/user.rb:31:in `chat_avatar'
  Rendered messages/_user_dropdown.html.erb (Duration: 1.7ms | Allocations: 1080)
  [1m[36mActiveStorage::Attachment Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 230], ["record_type", "Message"], ["name", "attachments"], ["LIMIT", 1]]
  â†³ app/views/messages/_attachments.html.erb:1
  Rendered messages/_attachments.html.erb (Duration: 2.5ms | Allocations: 1040)
  Rendered collection of messages/_message.html.erb [10 times] (Duration: 83.8ms | Allocations: 37387)
  Rendered layouts/_new_message_form.html.erb (Duration: 1.0ms | Allocations: 464)
  Rendered rooms/index.html.erb within layouts/application (Duration: 185.5ms | Allocations: 71169)
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 16)
  Rendered layout layouts/application.html.erb (Duration: 206.6ms | Allocations: 104215)
Completed 200 OK in 315ms (Views: 186.8ms | ActiveRecord: 46.7ms | Allocations: 143184)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhaakoxZG1ZNVkzWm5kMnQ2Y1d4elluRTNlVEJxYW1wNmNXUmthZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVDJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SWtGa2JXbHVJRkJoY25RZ055NXdibWNpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjBGa2JXbHVKVEl3VUdGeWRDVXlNRGN1Y0c1bkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSU9hVzFoWjJVdmNHNW5CanNHVkRvUmMyVnlkbWxqWlY5dVlXMWxPZ3BzYjJOaGJBPT0iLCJleHAiOiIyMDIyLTA3LTE1VDA4OjA1OjQzLjk1NFoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--e7c6318fa24c09d8d32f7011ce6c67f8efefe098/Admin%20Part%207.png" for ::1 at 2022-07-15 04:04:17 -0400
Processing by ActiveStorage::DiskController#show as PNG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"Admin Part 7"}
Completed 304 Not Modified in 3ms (ActiveRecord: 0.0ms | Allocations: 603)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhOWFIwWlRsb1ptOW1lbkkwTXpFNU1teDBPSFY2WTJjMGNIcDRid1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0wNy0xNVQwODowNTo0My45OTdaIiwicHVyIjoiYmxvYl9rZXkifX0=--a71be1658483273b3fcc7975a25ad7c06cdbc7cc/default_profile.jpg" for ::1 at 2022-07-15 04:04:17 -0400
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"default_profile"}
Completed 304 Not Modified in 1ms (ActiveRecord: 0.0ms | Allocations: 214)


Started GET "/cable" for ::1 at 2022-07-15 04:04:17 -0400
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-15 04:04:17 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:12:in `find_verified_user'
Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMg)
AppearanceChannel is transmitting the subscription confirmation
AppearanceChannel is streaming from appearance_channel
Started GET "/cable" for ::1 at 2022-07-15 04:04:17 -0400
AppearanceChannel#online
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mBEGIN[0m
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-15 04:04:17 -0400
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 62)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:12:in `find_verified_user'
Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMg)
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from user_status
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from users
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from rooms
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from Z2lkOi8vdHVyYm9jaGF0L1Jvb20vMQ
AppearanceChannel#online
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 40)
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mBEGIN[0m
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 40)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
AppearanceChannel#online
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (2.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mUser Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Started POST "/rooms/1/messages" for ::1 at 2022-07-15 04:04:19 -0400
Processing by MessagesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "message"=>{"attachments"=>[""], "body"=>"/dnd"}, "commit"=>"Send", "room_id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `set_current_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/concerns/MessageParser.rb:44:in `status_manager'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/concerns/MessageParser.rb:44:in `status_manager'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "status" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2022-07-15 08:04:19.454688"], ["status", 3], ["id", 2]]
  â†³ app/controllers/concerns/MessageParser.rb:44:in `status_manager'
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/concerns/MessageParser.rb:44:in `status_manager'
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 73)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-danger\" id=\"user_2\"></div>\n</template></turbo-stream>"
No template found for MessagesController#create, rendering head :no_content
Completed 204 No Content in 17ms (ActiveRecord: 3.4ms | Allocations: 6501)


Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-danger\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
Started POST "/rooms/1/messages" for ::1 at 2022-07-15 04:04:21 -0400
Processing by MessagesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "message"=>{"attachments"=>[""], "body"=>"/away"}, "commit"=>"Send", "room_id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `set_current_user'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/concerns/MessageParser.rb:47:in `status_manager'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/concerns/MessageParser.rb:47:in `status_manager'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "status" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2022-07-15 08:04:21.018779"], ["status", 1], ["id", 2]]
  â†³ app/controllers/concerns/MessageParser.rb:47:in `status_manager'
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/concerns/MessageParser.rb:47:in `status_manager'
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 53)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-warning\" id=\"user_2\"></div>\n</template></turbo-stream>"
No template found for MessagesController#create, rendering head :no_content
Completed 204 No Content in 15ms (ActiveRecord: 3.7ms | Allocations: 5842)


Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-warning\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 41)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
AppearanceChannel#online
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mBEGIN[0m
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (2.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 39)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Started POST "/rooms/1/messages" for ::1 at 2022-07-15 04:04:22 -0400
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Processing by MessagesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "message"=>{"attachments"=>[""], "body"=>"/online"}, "commit"=>"Send", "room_id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `set_current_user'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/concerns/MessageParser.rb:51:in `status_manager'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/concerns/MessageParser.rb:51:in `status_manager'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "status" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2022-07-15 08:04:22.552648"], ["status", 2], ["id", 2]]
  â†³ app/controllers/concerns/MessageParser.rb:51:in `status_manager'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/concerns/MessageParser.rb:51:in `status_manager'
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/models/user.rb:60:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 53)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
No template found for MessagesController#create, rendering head :no_content
Completed 204 No Content in 40ms (ActiveRecord: 3.7ms | Allocations: 5822)


Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#away
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["username", "john"], ["id", 2], ["LIMIT", 1]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "status" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["status", 1], ["updated_at", "2022-07-15 08:09:22.480046"], ["id", 2]]
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/appearance_channel.rb:36:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 41)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-warning\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-warning\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
